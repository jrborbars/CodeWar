webpackJsonp([0,6],Array(135).concat([function(t,e,n){var i=n(123)(n(202),n(203),null,null,null);t.exports=i.exports},,,,,,,function(t,e,n){function i(t){n(218)}var o=n(123)(n(210),n(229),i,null,null);t.exports=o.exports},function(t,e,n){"use strict";function i(t){return null!=t}function o(t){return void 0!==t}function r(t){return"function"==typeof t}function a(t){return"object"===(void 0===t?"undefined":d(t))}function s(t){return a(t)&&null!==t}function u(t){return a(t)&&!Array.isArray(t)}function l(t){return"string"==typeof t||t instanceof String}function c(t){return"number"==typeof t||t instanceof Number}function h(t){return f()&&t instanceof Blob}function f(){return"undefined"!=typeof Blob}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isDef=i,e.isJustDef=o,e.isFunction=r,e.isObject=a,e.isNonNullObject=s,e.isNonArrayObject=u,e.isString=l,e.isNumber=c,e.isNativeBlob=h,e.isNativeBlobDefined=f},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return"storage/"+t}function r(){return new x(O.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function a(t){return new x(O.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function s(t){return new x(O.BUCKET_NOT_FOUND,"Bucket '"+t+"' does not exist.")}function u(t){return new x(O.PROJECT_NOT_FOUND,"Project '"+t+"' does not exist.")}function l(t){return new x(O.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function c(){return new x(O.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}function h(t){return new x(O.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function f(){return new x(O.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function d(t,e,n){return new x(O.INVALID_CHECKSUM,"Uploaded/downloaded object '"+t+"' has checksum '"+e+"' which does not match '"+n+"'. Please retry the upload/download.")}function p(){return new x(O.CANCELED,"User canceled the upload/download.")}function m(t){return new x(O.INVALID_EVENT_NAME,"Invalid event name '"+t+"'.")}function g(t){return new x(O.INVALID_URL,"Invalid URL '"+t+"'.")}function v(t){return new x(O.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function _(){return new x(O.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+C.configOption+"' property when initializing the app?")}function y(){return new x(O.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function b(){return new x(O.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function w(){return new x(O.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function T(t,e,n){return new x(O.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function E(t,e,n,i){var o=void 0,r=void 0;return t===e?(o=t,r=1===t?"argument":"arguments"):(o="between "+t+" and "+e,r="arguments"),new x(O.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+o+" "+r+", received "+i+".")}function S(){return new x(O.APP_DELETED,"The Firebase app was deleted.")}function k(t){return new x(O.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function L(t,e){return new x(O.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function A(t){throw new x(O.INTERNAL_ERROR,"Internal error: "+t)}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.Code=e.errors=e.FirebaseStorageError=void 0;var P=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.prependCode=o,e.unknown=r,e.objectNotFound=a,e.bucketNotFound=s,e.projectNotFound=u,e.quotaExceeded=l,e.unauthenticated=c,e.unauthorized=h,e.retryLimitExceeded=f,e.invalidChecksum=d,e.canceled=p,e.invalidEventName=m,e.invalidUrl=g,e.invalidDefaultBucket=v,e.noDefaultBucket=_,e.cannotSliceBlob=y,e.serverFileWrongSize=b,e.noDownloadURL=w,e.invalidArgument=T,e.invalidArgumentCount=E,e.appDeleted=S,e.invalidRootOperation=k,e.invalidFormat=L,e.internalError=A;var C=n(149),x=e.FirebaseStorageError=function(){function t(e,n){i(this,t),this.code_=o(e),this.message_="Firebase Storage: "+n,this.serverResponse_=null,this.name_="FirebaseError"}return P(t,[{key:"codeProp",value:function(){return this.code}},{key:"codeEquals",value:function(t){return o(t)===this.codeProp()}},{key:"serverResponseProp",value:function(){return this.serverResponse_}},{key:"setServerResponseProp",value:function(t){this.serverResponse_=t}},{key:"name",get:function(){return this.name_}},{key:"code",get:function(){return this.code_}},{key:"message",get:function(){return this.message_}},{key:"serverResponse",get:function(){return this.serverResponse_}}]),t}(),O=(e.errors={},e.Code={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"})},function(t,e,n){"use strict";function i(t){return new a.local.Promise(t)}function o(t){return a.local.Promise.resolve(t)}function r(t){return a.local.Promise.reject(t)}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.make=i,e.resolve=o,e.reject=r;var a=n(152)},function(t,e,n){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t,e){for(var n in t)i(t,n)&&e(n,t[n])}function r(t){if(null==t)return{};var e={};return o(t,function(t,n){e[t]=n}),e}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.contains=i,e.forEach=o,e.clone=r},function(t,e,n){"use strict";/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});var i=n(172),o=(0,i.createFirebaseNamespace)();e.default=o,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});var o,r={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key"},a=(o={},i(o,r.AVAILABLE_IN_WINDOW,"This method is available in a Window context."),i(o,r.AVAILABLE_IN_SW,"This method is available in a service worker context."),i(o,r.SHOULD_BE_INHERITED,"This method should be overriden by extended classes."),i(o,r.BAD_SENDER_ID,"Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp()."),i(o,r.PERMISSION_DEFAULT,"The required permissions were not granted and dismissed instead."),i(o,r.PERMISSION_BLOCKED,"The required permissions were not granted and blocked instead."),i(o,r.UNSUPPORTED_BROWSER,"This browser doesn't support the API's required to use the firebase SDK."),i(o,r.NOTIFICATIONS_BLOCKED,"Notifications have been blocked."),i(o,r.FAILED_DEFAULT_REGISTRATION,"We are unable to register the default service worker. {$browserErrorMessage}"),i(o,r.SW_REGISTRATION_EXPECTED,"A service worker registration was the expected input."),i(o,r.GET_SUBSCRIPTION_FAILED,"There was an error when trying to get any existing Push Subscriptions."),i(o,r.INVALID_SAVED_TOKEN,"Unable to access details of the saved token."),i(o,r.SW_REG_REDUNDANT,"The service worker being used for push was made redundant."),i(o,r.TOKEN_SUBSCRIBE_FAILED,"A problem occured while subscribing the user to FCM: {$message}"),i(o,r.TOKEN_SUBSCRIBE_NO_TOKEN,"FCM returned no token when subscribing the user to push."),i(o,r.TOKEN_SUBSCRIBE_NO_PUSH_SET,"FCM returned an invalid response when getting an FCM token."),i(o,r.USE_SW_BEFORE_GET_TOKEN,"You must call useServiceWorker() before calling getToken() to ensure your service worker is used."),i(o,r.INVALID_DELETE_TOKEN,"You must pass a valid token into deleteToken(), i.e. the token from getToken()."),i(o,r.DELETE_TOKEN_NOT_FOUND,"The deletion attempt for token could not be performed as the token was not found."),i(o,r.DELETE_SCOPE_NOT_FOUND,"The deletion attempt for service worker scope could not be performed as the scope was not found."),i(o,r.BG_HANDLER_FUNCTION_EXPECTED,"The input to setBackgroundMessageHandler() must be a function."),i(o,r.NO_WINDOW_CLIENT_TO_MSG,"An attempt was made to message a non-existant window client."),i(o,r.UNABLE_TO_RESUBSCRIBE,"There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}"),i(o,r.NO_FCM_TOKEN_FOR_RESUBSCRIBE,"Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit."),i(o,r.FAILED_TO_DELETE_TOKEN,"Unable to delete the currently saved token."),i(o,r.NO_SW_IN_REG,"Even though the service worker registration was successful, there was a problem accessing the service worker itself."),i(o,r.INCORRECT_GCM_SENDER_ID,"Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging."),i(o,r.BAD_SCOPE,"The service worker scope must be a string with at least one character."),i(o,r.BAD_VAPID_KEY,"The public VAPID key must be a string with at least one character."),i(o,r.BAD_SUBSCRIPTION,"The subscription must be a valid PushSubscription."),i(o,r.BAD_TOKEN,"The FCM Token used for storage / lookup was not a valid token string."),i(o,r.BAD_PUSH_SET,"The FCM push set used for storage / lookup was not not a valid push set string."),i(o,r.FAILED_DELETE_VAPID_KEY,"The VAPID key could not be deleted."),o);e.default={codes:r,map:a},t.exports=e.default},function(t,e,n){"use strict";function i(t){t=t}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.setDomainBase=i;e.domainBase="https://firebasestorage.googleapis.com",e.downloadBase="https://firebasestorage.googleapis.com",e.apiBaseUrl="/v0",e.apiUploadBaseUrl="/v0",e.configOption="storageBucket",e.shortMaxOperationRetryTime=6e4,e.defaultMaxOperationRetryTime=12e4,e.defaultMaxUploadRetryTime=6e4,e.minSafeInteger=-9007199254740991},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.Location=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(144),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r);e.Location=function(){function t(e,n){i(this,t),this.bucket=e,this.path_=n}return o(t,[{key:"fullServerUrl",value:function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}},{key:"path",get:function(){return this.path_}}],[{key:"makeFromBucketSpec",value:function(e){var n=void 0;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw a.invalidDefaultBucket(e)}},{key:"makeFromUrl",value:function(e){for(var n=null,i=new RegExp("^gs://([A-Za-z0-9.\\-]+)(/(.*))?$","i"),o=new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-]+)/o(/([^?#]*).*)?$","i"),r=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:o,indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],s=0;s<r.length;s++){var u=r[s],l=u.regex.exec(e);if(l){var c=l[u.indices.bucket],h=l[u.indices.path];h||(h=""),n=new t(c,h),u.postModify(n);break}}if(null==n)throw a.invalidUrl(e);return n}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=a;return a=t,e}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.patchCapture=o;var a=Error.captureStackTrace,s=e.FirebaseError=function t(e,n){if(i(this,t),this.code=e,this.message=n,a)a(this,u.prototype.create);else{var o=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return o.stack}})}};s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.prototype.name="FirebaseError";var u=e.ErrorFactory=function(){function t(e,n,o){i(this,t),this.service=e,this.serviceName=n,this.errors=o,this.pattern=/\{\$([^}]+)}/g}return r(t,[{key:"create",value:function(t,e){void 0===e&&(e={});var n=this.errors[t],i=this.service+"/"+t,o=void 0;o=void 0===n?"Error":n.replace(this.pattern,function(t,n){var i=e[n];return void 0!==i?i.toString():"<"+n+"?>"}),o=this.serviceName+": "+o+" ("+i+").";var r=new s(i,o);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(r[a]=e[a]);return r}}]),t}()},function(t,e,n){"use strict";(function(t){/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});var i=void 0;if(void 0!==t)i=t;else if("undefined"!=typeof self)i=self;else try{i=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var o=i.Promise||n(198);e.local={Promise:o,GoogPromise:o}}).call(e,n(122))},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e,n){for(var i=e.length,o=e.length,r=0;r<e.length;r++)if(e[r].optional){i=r;break}if(!(i<=n.length&&n.length<=o))throw p.invalidArgumentCount(i,o,t,n.length);for(var a=0;a<n.length;a++)try{e[a].validator(n[a])}catch(e){throw e instanceof Error?p.invalidArgument(a,t,e.message):p.invalidArgument(a,t,e)}}function a(t,e){return function(n){t(n),e(n)}}function s(t,e){function n(t){if(!_.isString(t))throw"Expected string."}var i=void 0;return i=t?a(n,t):n,new y(i,e)}function u(){return new y(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||_.isNativeBlobDefined()&&t instanceof Blob))throw"Expected Blob or File."})}function l(t){return new y(g.metadataValidator,t)}function c(){return new y(function(t){if(!(_.isNumber(t)&&t>=0))throw"Expected a number 0 or greater."})}function h(t,e){return new y(function(e){if(!(null===e||_.isDef(e)&&e instanceof Object))throw"Expected an Object.";void 0!==t&&null!==t&&t(e)},e)}function f(t){return new y(function(t){if(null!==t&&!_.isFunction(t))throw"Expected a Function."},t)}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.ArgSpec=void 0,e.validate=r,e.and_=a,e.stringSpec=s,e.uploadDataSpec=u,e.metadataSpec=l,e.nonNegativeNumberSpec=c,e.looseObjectSpec=h,e.nullFunctionSpec=f;var d=n(144),p=i(d),m=n(155),g=i(m),v=n(143),_=i(v),y=e.ArgSpec=function t(e,n){o(this,t);var i=this;this.validator=function(t){i.optional&&!_.isJustDef(t)||e(t)},this.optional=!!n}},function(t,e,n){"use strict";function i(t,e){return-1!==t.indexOf(e)}function o(t){return Array.prototype.slice.call(t)}function r(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.contains=i,e.clone=o,e.remove=r},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){return e}function a(t){return!y.isString(t)||t.length<2?t:(t=t,v.lastComponent(t))}function s(){if(E)return E;var t=[];t.push(new T("bucket")),t.push(new T("generation")),t.push(new T("metageneration")),t.push(new T("name","fullPath",!0));var e=new T("name");e.xform=function(t,e){return a(e)},t.push(e);var n=new T("size");return n.xform=function(t,e){return y.isDef(e)?+e:e},t.push(n),t.push(new T("timeCreated")),t.push(new T("updated")),t.push(new T("md5Hash",null,!0)),t.push(new T("cacheControl",null,!0)),t.push(new T("contentDisposition",null,!0)),t.push(new T("contentEncoding",null,!0)),t.push(new T("contentLanguage",null,!0)),t.push(new T("contentType",null,!0)),t.push(new T("metadata","customMetadata",!0)),t.push(new T("downloadTokens","downloadURLs",!1,function(t,e){if(!(y.isString(e)&&e.length>0))return[];var n=encodeURIComponent;return e.split(",").map(function(e){var i=t.bucket,o=t.fullPath,r="/b/"+n(i)+"/o/"+n(o);return w.makeDownloadUrl(r)+w.makeQueryString({alt:"media",token:e})})})),E=t}function u(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,i=t.fullPath,o=new m.Location(n,i);return e.makeStorageReference(o)}})}function l(t,e,n){var i={};i.type="file";for(var o=n.length,r=0;r<o;r++){var a=n[r];i[a.local]=a.xform(i,e[a.server])}return u(i,t),i}function c(t,e,n){var i=p.jsonObjectOrNull(e);return null===i?null:l(t,i,n)}function h(t,e){for(var n={},i=e.length,o=0;o<i;o++){var r=e[o];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}function f(t){if(!t||!y.isObject(t))throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if(!y.isObject(n))throw"Expected object for 'customMetadata' mapping."}else if(y.isNonNullObject(n))throw"Mapping for '"+e+"' cannot be an object."}}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.Mapping=void 0,e.noXform_=r,e.xformPath=a,e.getMappings=s,e.addRef=u,e.fromResource=l,e.fromResourceString=c,e.toResourceString=h,e.metadataValidator=f;var d=n(187),p=i(d),m=n(150),g=n(164),v=i(g),_=n(143),y=i(_),b=n(157),w=i(b),T=e.Mapping=function t(e,n,i,a){o(this,t),this.server=e,this.local=n||e,this.writable=!!i,this.xform=a||r},E=null},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){switch(t){case p.RAW:case p.BASE64:case p.BASE64URL:case p.DATA_URL:return;default:throw"Expected one of the event types: ["+p.RAW+", "+p.BASE64+", "+p.BASE64URL+", "+p.DATA_URL+"]."}}function r(t,e){switch(t){case p.RAW:return new m(a(e));case p.BASE64:case p.BASE64URL:return new m(u(t,e));case p.DATA_URL:return new m(l(e),c(e))}throw d.unknown()}function a(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296==(64512&i)){var o=n<t.length-1&&56320==(64512&t.charCodeAt(n+1));if(o){var r=i,a=t.charCodeAt(++n);i=65536|(1023&r)<<10|1023&a,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189)}else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function s(t){var e=void 0;try{e=decodeURIComponent(t)}catch(t){throw d.invalidFormat(p.DATA_URL,"Malformed data URL.")}return a(e)}function u(t,e){switch(t){case p.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i){var o=n?"-":"_";throw d.invalidFormat(t,"Invalid character '"+o+"' found: is it base64url encoded?")}break;case p.BASE64URL:var r=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(r||a){var s=r?"+":"/";throw d.invalidFormat(t,"Invalid character '"+s+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/")}var u=void 0;try{u=atob(e)}catch(e){throw d.invalidFormat(t,"Invalid character found")}for(var l=new Uint8Array(u.length),c=0;c<u.length;c++)l[c]=u.charCodeAt(c);return l}function l(t){var e=new g(t);return e.base64?u(p.BASE64,e.rest):s(e.rest)}function c(t){return new g(t).contentType}function h(t,e){return!!(t.length>=e.length)&&t.substring(t.length-e.length)===e}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.StringData=e.StringFormat=void 0,e.formatValidator=o,e.dataFromString=r,e.utf8Bytes_=a,e.percentEncodedBytes_=s,e.base64Bytes_=u,e.dataURLBytes_=l,e.dataURLContentType_=c;var f=n(144),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(f),p=e.StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},m=e.StringData=function t(e,n){i(this,t),this.data=e,this.contentType=n||null},g=function t(e){i(this,t),this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(null===n)throw d.invalidFormat(p.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var o=n[1]||null;null!=o&&(this.base64=h(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-";base64".length):o),this.rest=e.substring(e.indexOf(",")+1)}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return l.domainBase+l.apiBaseUrl+t}function r(t){return l.downloadBase+l.apiBaseUrl+t}function a(t){return l.domainBase+l.apiUploadBaseUrl+t}function s(t){var e=encodeURIComponent,n="?";return h.forEach(t,function(t,i){var o=e(t)+"="+e(i);n=n+o+"&"}),n=n.slice(0,-1)}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.makeNormalUrl=o,e.makeDownloadUrl=r,e.makeUploadUrl=a,e.makeQueryString=s;var u=n(149),l=i(u),c=n(146),h=i(c)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){var n=new f(t,e);return n.subscribe.bind(n)}function r(t,e){return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];h.resolve(!0).then(function(){t.apply(void 0,i)}).catch(function(t){e&&e(t)})}}function a(t,e){if("object"!==(void 0===t?"undefined":u(t))||null===t)return!1;var n=!0,i=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value;if(s in t&&"function"==typeof t[s])return!0}}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return!1}function s(){}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.createSubscribe=o,e.async=r;var c=n(152),h=c.local.Promise,f=function(){function t(e,n){var o=this;i(this,t),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=h.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(o)}).catch(function(t){o.error(t)})}return l(t,[{key:"next",value:function(t){this.forEachObserver(function(e){e.next(t)})}},{key:"error",value:function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)}},{key:"complete",value:function(){this.forEachObserver(function(t){t.complete()}),this.close()}},{key:"subscribe",value:function(t,e,n){var i=this,o=void 0;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");o=a(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===o.next&&(o.next=s),void 0===o.error&&(o.error=s),void 0===o.complete&&(o.complete=s);var r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch(t){}}),this.observers.push(o),r}},{key:"unsubscribeOne",value:function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)}},{key:"sendOne",value:function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})}},{key:"close",value:function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))}}]),t}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(151),s=n(148),u=i(s),l=n(180),c=i(l),h=n(161),f=i(h),d="messagingSenderId",p=function(){function t(e){var n=this;if(o(this,t),this.errorFactory_=new a.ErrorFactory("messaging","Messaging",u.default.map),!e.options[d]||"string"!=typeof e.options[d])throw this.errorFactory_.create(u.default.codes.BAD_SENDER_ID);this.messagingSenderId_=e.options[d],this.tokenManager_=new c.default,this.app=e,this.INTERNAL={},this.INTERNAL.delete=function(){return n.delete}}return r(t,[{key:"getToken",value:function(){var t=this,e=this.getNotificationPermission_();return e!==f.default.granted?e===f.default.denied?Promise.reject(this.errorFactory_.create(u.default.codes.NOTIFICATIONS_BLOCKED)):Promise.resolve(null):this.getSWRegistration_().then(function(e){return t.tokenManager_.getSavedToken(t.messagingSenderId_,e).then(function(n){return n||t.tokenManager_.createToken(t.messagingSenderId_,e)})})}},{key:"deleteToken",value:function(t){var e=this;return this.tokenManager_.deleteToken(t).then(function(){return e.getSWRegistration_().then(function(t){if(t)return t.pushManager.getSubscription()}).then(function(t){if(t)return t.unsubscribe()})})}},{key:"getSWRegistration_",value:function(){throw this.errorFactory_.create(u.default.codes.SHOULD_BE_INHERITED)}},{key:"requestPermission",value:function(){throw this.errorFactory_.create(u.default.codes.AVAILABLE_IN_WINDOW)}},{key:"useServiceWorker",value:function(){throw this.errorFactory_.create(u.default.codes.AVAILABLE_IN_WINDOW)}},{key:"onMessage",value:function(){throw this.errorFactory_.create(u.default.codes.AVAILABLE_IN_WINDOW)}},{key:"onTokenRefresh",value:function(){throw this.errorFactory_.create(u.default.codes.AVAILABLE_IN_WINDOW)}},{key:"setBackgroundMessageHandler",value:function(){throw this.errorFactory_.create(u.default.codes.AVAILABLE_IN_SW)}},{key:"delete",value:function(){this.tokenManager_.closeDatabase()}},{key:"getNotificationPermission_",value:function(){return Notification.permission}},{key:"getTokenManager",value:function(){return this.tokenManager_}}]),t}();e.default=p,t.exports=e.default},function(t,e,n){"use strict";/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});var i=[4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110],o={userVisibleOnly:!0,applicationServerKey:new Uint8Array(i)};e.default={ENDPOINT:"https://fcm.googleapis.com",APPLICATION_SERVER_KEY:i,SUBSCRIPTION_OPTIONS:o},t.exports=e.default},function(t,e,n){"use strict";/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.default={granted:"granted",default:"default",denied:"denied"},t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});var o={TYPE_OF_MSG:"firebase-messaging-msg-type",DATA:"firebase-messaging-msg-data"},r={PUSH_MSG_RECEIVED:"push-msg-received",NOTIFICATION_CLICKED:"notification-clicked"},a=function(t,e){var n;return n={},i(n,o.TYPE_OF_MSG,t),i(n,o.DATA,e),n};e.default={PARAMS:o,TYPES_OF_MSG:r,createNewMsg:a},t.exports=e.default},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.FbsBlob=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(186),s=i(a),u=n(156),l=i(u),c=n(143),h=i(c);e.FbsBlob=function(){function t(e,n){o(this,t);var i=0,r="";h.isNativeBlob(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}return r(t,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(e,n){if(h.isNativeBlob(this.data_)){var i=this.data_,o=s.sliceBlob(i,e,n);return null===o?null:new t(o)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];if(h.isNativeBlobDefined()){var o=n.map(function(e){return e instanceof t?e.data_:e});return new t(s.getBlob.apply(null,o))}var r=n.map(function(t){return h.isString(t)?l.dataFromString(u.StringFormat.RAW,t).data:t.data_}),a=0;r.forEach(function(t){a+=t.byteLength});var c=new Uint8Array(a),f=0;return r.forEach(function(t){for(var e=0;e<t.length;e++)c[f++]=t[e]}),new t(c,!0)}}]),t}()},function(t,e,n){"use strict";function i(t){if(0==t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}function o(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}function r(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.parent=i,e.child=o,e.lastComponent=r},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){if(!t)throw E.unknown()}function a(t,e){return function(n,i){var o=k.fromResourceString(t,i,e);return r(null!==o),o}}function s(t){return function(e,n){var i=void 0;return i=401===e.getStatus()?E.unauthenticated():402===e.getStatus()?E.quotaExceeded(t.bucket):403===e.getStatus()?E.unauthorized(t.path):n,i.setServerResponseProp(n.serverResponseProp()),i}}function u(t){var e=s(t);return function(n,i){var o=e(n,i);return 404===n.getStatus()&&(o=E.objectNotFound(t.path)),o.setServerResponseProp(i.serverResponseProp()),o}}function l(t,e,n){var i=e.fullServerUrl(),o=I.makeNormalUrl(i),r=t.maxOperationRetryTime(),s=new P.RequestInfo(o,"GET",a(t,n),r);return s.errorHandler=u(e),s}function c(t,e,n,i){var o=e.fullServerUrl(),r=I.makeNormalUrl(o),s=k.toResourceString(n,i),l=t.maxOperationRetryTime(),c=new P.RequestInfo(r,"PATCH",a(t,i),l);return c.headers={"Content-Type":"application/json; charset=utf-8"},c.body=s,c.errorHandler=u(e),c}function h(t,e){var n=e.fullServerUrl(),i=I.makeNormalUrl(n),o=t.maxOperationRetryTime(),r=new P.RequestInfo(i,"DELETE",function(){},o);return r.successCodes=[200,204],r.errorHandler=u(e),r}function f(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function d(t,e,n){var i=A.clone(n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=f(null,e)),i}function p(t,e,n,i,o){var r=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},l=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();u["Content-Type"]="multipart/related; boundary="+l;var c=d(e,i,o),h=k.toResourceString(c,n),f="--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",p=w.FbsBlob.getBlob(f,i,"\r\n--"+l+"--");if(null===p)throw E.cannotSliceBlob();var m={name:c.fullPath},g=I.makeUploadUrl(r),v=t.maxUploadRetryTime(),_=new P.RequestInfo(g,"POST",a(t,n),v);return _.urlParams=m,_.headers=u,_.body=p.uploadData(),_.errorHandler=s(e),_}function m(t,e){var n=void 0;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){r(!1)}return r(b.contains(e||["active"],n)),n}function g(t,e,n,i,o){var a=e.bucketOnlyServerUrl(),u=d(e,i,o),l={name:u.fullPath},c=I.makeUploadUrl(a),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},f=k.toResourceString(u,n),p=t.maxUploadRetryTime(),g=new P.RequestInfo(c,"POST",function(t){m(t);var e=void 0;try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){r(!1)}return r(x.isString(e)),e},p);return g.urlParams=l,g.headers=h,g.body=f,g.errorHandler=s(e),g}function v(t,e,n,i){var o=t.maxUploadRetryTime(),a=new P.RequestInfo(n,"POST",function(t){var e=m(t,["active","final"]),n=void 0;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){r(!1)}var o=parseInt(n,10);return r(!isNaN(o)),new D(o,i.size(),"final"===e)},o);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=s(e),a}function _(t,e,n,i,o,r,u,l){var c=new D(0,0);if(u?(c.current=u.current,c.total=u.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw E.serverFileWrongSize();var h=c.total-c.current,f=h;o>0&&(f=Math.min(f,o));var d=c.current,p=d+f,g=f===h?"upload, finalize":"upload",v={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":c.current},_=i.slice(d,p);if(null===_)throw E.cannotSliceBlob();var y=e.maxUploadRetryTime(),b=new P.RequestInfo(n,"POST",function(t,n){var o=m(t,["active","final"]),s=c.current+f,u=i.size(),l=void 0;return l="final"===o?a(e,r)(t,n):null,new D(s,u,"final"===o,l)},y);return b.headers=v,b.body=_.uploadData(),b.progressCallback=l||null,b.errorHandler=s(t),b}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.resumableUploadChunkSize=e.ResumableUploadStatus=void 0,e.handlerCheck=r,e.metadataHandler=a,e.sharedErrorHandler=s,e.objectErrorHandler=u,e.getMetadata=l,e.updateMetadata=c,e.deleteObject=h,e.determineContentType_=f,e.metadataForUpload_=d,e.multipartUpload=p,e.checkResumeHeader_=m,e.createResumableUpload=g,e.getResumableUploadStatus=v,e.continueResumableUpload=_;var y=n(154),b=i(y),w=n(163),T=n(144),E=i(T),S=n(155),k=i(S),L=n(146),A=i(L),P=n(190),C=n(143),x=i(C),O=n(157),I=i(O),D=e.ResumableUploadStatus=function t(e,n,i,r){o(this,t),this.current=e,this.total=n,this.finalized=!!i,this.metadata=r||null};e.resumableUploadChunkSize=262144},function(t,e,n){"use strict";function i(t){switch(t){case o.RUNNING:case o.PAUSING:case o.CANCELING:return r.RUNNING;case o.PAUSED:return r.PAUSED;case o.SUCCESS:return r.SUCCESS;case o.CANCELED:return r.CANCELED;case o.ERROR:default:return r.ERROR}}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.taskStateFromInternalTaskState=i;var o=(e.TaskEvent={STATE_CHANGED:"state_changed"},e.InternalTaskState={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"}),r=e.TaskState={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"}},function(t,e,n){"use strict";/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});var i=e.ErrorCode=void 0;!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(i||(e.ErrorCode=i={}))},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.Reference=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(153),s=i(a),u=n(163),l=n(144),c=i(l),h=n(150),f=n(155),d=i(f),p=n(146),m=i(p),g=n(164),v=i(g),_=n(165),y=i(_),b=n(156),w=i(b),T=n(143),E=i(T),S=n(195);e.Reference=function(){function t(e,n){o(this,t),this.authWrapper=e,n instanceof h.Location?this.location=n:this.location=h.Location.makeFromUrl(n)}return r(t,[{key:"toString",value:function(){return s.validate("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path}},{key:"newRef",value:function(e,n){return new t(e,n)}},{key:"mappings",value:function(){return d.getMappings()}},{key:"child",value:function(t){s.validate("child",[s.stringSpec()],arguments);var e=v.child(this.location.path,t),n=new h.Location(this.location.bucket,e);return this.newRef(this.authWrapper,n)}},{key:"put",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s.validate("put",[s.uploadDataSpec(),s.metadataSpec(!0)],arguments),this.throwIfRoot_("put"),new S.UploadTask(this,this.authWrapper,this.location,this.mappings(),new u.FbsBlob(t),e)}},{key:"putString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.StringFormat.RAW,n=arguments[2];s.validate("putString",[s.stringSpec(),s.stringSpec(w.formatValidator,!0),s.metadataSpec(!0)],arguments),this.throwIfRoot_("putString");var i=w.dataFromString(e,t),o=m.clone(n);return!E.isDef(o.contentType)&&E.isDef(i.contentType)&&(o.contentType=i.contentType),new S.UploadTask(this,this.authWrapper,this.location,this.mappings(),new u.FbsBlob(i.data,!0),o)}},{key:"delete",value:function(){s.validate("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=y.deleteObject(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()})}},{key:"getMetadata",value:function(){s.validate("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=y.getMetadata(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()})}},{key:"updateMetadata",value:function(t){s.validate("updateMetadata",[s.metadataSpec()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(n){var i=y.updateMetadata(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(i,n).getPromise()})}},{key:"getDownloadURL",value:function(){return s.validate("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.getMetadata().then(function(t){var e=t.downloadURLs[0];if(E.isDef(e))return e;throw c.noDownloadURL()})}},{key:"throwIfRoot_",value:function(t){if(""===this.location.path)throw c.invalidRootOperation(t)}},{key:"parent",get:function(){var t=v.parent(this.location.path);if(null===t)return null;var e=new h.Location(this.location.bucket,t);return this.newRef(this.authWrapper,e)}},{key:"root",get:function(){var t=new h.Location(this.location.bucket,"");return this.newRef(this.authWrapper,t)}},{key:"bucket",get:function(){return this.location.bucket}},{key:"fullPath",get:function(){return this.location.path}},{key:"name",get:function(){return v.lastComponent(this.location.path)}},{key:"storage",get:function(){return this.authWrapper.service()}}]),t}()},function(t,e,n){"use strict";/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});var i=n(147),o=function(t){return t&&t.__esModule?t:{default:t}}(i);n(173);n(174),n(181);n(175),e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";var i=n(169),o=n.n(i),r={apiKey:"AIzaSyA59uAvXQjthpxHtZeAxhAS-TRPOBf8Nps",authDomain:"codewar-ec0dd.firebaseapp.com",databaseURL:"https://codewar-ec0dd.firebaseio.com",projectId:"codewar-ec0dd",storageBucket:"codewar-ec0dd.appspot.com",messagingSenderId:"154561742337"},a=o.a.initializeApp(r);e.a=a},function(t,e,n){"use strict";function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=o(t[n],e[n]));return t}function r(t,e,n){t[e]=n}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.deepCopy=i,e.deepExtend=o,e.patchProperty=r},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){function t(t){t=t||f;var e=a[t];return void 0===e&&r("no-app",{name:t}),e}function e(){return Object.keys(a).map(function(t){return a[t]})}function n(t,e){Object.keys(d).forEach(function(n){var o=i(t,n);null!==o&&m[o]&&m[o](e,t)})}function i(t,e){return"serverAuth"===e?null:(t.options,e)}var a={},d={},m={},g={__esModule:!0,initializeApp:function(t,e){void 0===e?e=f:"string"==typeof e&&""!==e||r("bad-app-name",{name:e+""}),void 0!==a[e]&&r("duplicate-app",{name:e});var i=new p(t,e,g);return a[e]=i,n(i,"create"),i},app:t,apps:null,Promise:h,SDK_VERSION:"4.1.0",INTERNAL:{registerService:function(n,i,o,a,s){d[n]&&r("duplicate-service",{name:n}),d[n]=i,a&&(m[n]=a,e().forEach(function(t){a("create",t)}));var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t();return"function"!=typeof e[n]&&r("invalid-app-argument",{name:n}),e[n]()};return void 0!==o&&(0,c.deepExtend)(u,o),g[n]=u,p.prototype[n]=function(){for(var t=this._getService.bind(this,n),e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return t.apply(this,s?i:[])},u},createFirebaseNamespace:o,extendNamespace:function(t){(0,c.deepExtend)(g,t)},createSubscribe:s.createSubscribe,ErrorFactory:u.ErrorFactory,removeApp:function(t){n(a[t],"delete"),delete a[t]},factories:d,useAsService:i,Promise:l.local.GoogPromise,deepExtend:c.deepExtend}};return(0,c.patchProperty)(g,"default",g),Object.defineProperty(g,"apps",{get:e}),(0,c.patchProperty)(t,"App",p),g}function r(t,e){throw g.create(t,e)}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.createFirebaseNamespace=o;var s=n(158),u=n(151),l=n(152),c=n(171),h=l.local.Promise,f="[DEFAULT]",d=[],p=function(){function t(e,n,o){i(this,t),this.firebase_=o,this.isDeleted_=!1,this.services_={},this.name_=n,this.options_=(0,c.deepCopy)(e)}return a(t,[{key:"delete",value:function(){var t=this;return new h(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(i){e.push(t.services_[n][i])})}),h.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})}},{key:"_getService",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;if(this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),e);this.services_[t][e]=n}return this.services_[t][e]}},{key:"extendApp",value:function(e){var n=this;(0,c.deepExtend)(t.prototype,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(d.forEach(function(t){n.INTERNAL.addAuthTokenListener(t)}),d=[])}},{key:"checkDestroyed_",value:function(){this.isDeleted_&&r("app-deleted",{name:this.name_})}},{key:"name",get:function(){return this.checkDestroyed_(),this.name_}},{key:"options",get:function(){return this.checkDestroyed_(),this.options_}}]),t}();p.prototype.INTERNAL={getUid:function(){return null},getToken:function(){return h.resolve(null)},addAuthTokenListener:function(t){d.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){d=d.filter(function(e){return e!==t})}},p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var m={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},g=new u.ErrorFactory("app","Firebase",m)},function(t,e,n){(function(t){/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
var e=n(147);(function(){(function(){var t,n=n||{},i=this,o=function(t){return"string"==typeof t},r=function(t){return"boolean"==typeof t},a=function(t){return"number"==typeof t},s=function(){},u=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},l=function(t){return null===t},c=function(t){return"array"==u(t)},h=function(t){var e=u(t);return"array"==e||"object"==e&&"number"==typeof t.length},f=function(t){return"function"==u(t)},d=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},p=function(t,e,n){return t.call.apply(t.bind,arguments)},m=function(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}},g=function(t,e,n){return g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:m,g.apply(null,arguments)},v=function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}},_=Date.now||function(){return+new Date},y=function(t,e){function n(){}n.prototype=e.prototype,t.Id=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ag=function(t,n,i){for(var o=Array(arguments.length-2),r=2;r<arguments.length;r++)o[r-2]=arguments[r];return e.prototype[n].apply(t,o)}},b=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};y(b,Error),b.prototype.name="CustomError";var w=function(t,e){for(var n=t.split("%s"),i="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)i+=n.shift()+o.shift();return i+n.join("%s")},T=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},E=function(t){return x.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(S,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(k,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(L,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(A,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(P,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(C,"&#0;")),t):t},S=/&/g,k=/</g,L=/>/g,A=/"/g,P=/'/g,C=/\x00/g,x=/[\x00&<>"']/,O=function(t,e){return-1!=t.indexOf(e)},I=function(t,e){return t<e?-1:t>e?1:0},D=function(t,e){e.unshift(t),b.call(this,w.apply(null,e)),e.shift()};y(D,b),D.prototype.name="AssertionError";var M,R=function(t,e,n,i){var o="Assertion failed";if(n){o+=": "+n;var r=i}else t&&(o+=": "+t,r=e);throw new D(""+o,r||[])},N=function(t,e,n){t||R("",null,e,Array.prototype.slice.call(arguments,2))},U=function(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))},B=function(t,e,n){return a(t)||R("Expected number but got %s: %s.",[u(t),t],e,Array.prototype.slice.call(arguments,2)),t},j=function(t,e,n){o(t)||R("Expected string but got %s: %s.",[u(t),t],e,Array.prototype.slice.call(arguments,2))},F=function(t,e,n){f(t)||R("Expected function but got %s: %s.",[u(t),t],e,Array.prototype.slice.call(arguments,2))},z=Array.prototype.indexOf?function(t,e,n){return N(null!=t.length),Array.prototype.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,o(t))return o(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},W=Array.prototype.forEach?function(t,e,n){N(null!=t.length),Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=o(t)?t.split(""):t,a=0;a<i;a++)a in r&&e.call(n,r[a],a,t)},Z=function(t,e){for(var n=o(t)?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)},G=Array.prototype.map?function(t,e,n){return N(null!=t.length),Array.prototype.map.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=Array(i),a=o(t)?t.split(""):t,s=0;s<i;s++)s in a&&(r[s]=e.call(n,a[s],s,t));return r},V=Array.prototype.some?function(t,e,n){return N(null!=t.length),Array.prototype.some.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=o(t)?t.split(""):t,a=0;a<i;a++)if(a in r&&e.call(n,r[a],a,t))return!0;return!1},H=function(t){t:{for(var e=zi,n=t.length,i=o(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:o(t)?t.charAt(e):t[e]},q=function(t,e){return 0<=z(t,e)},Y=function(t,e){e=z(t,e);var n;return(n=0<=e)&&K(t,e),n},K=function(t,e){return N(null!=t.length),1==Array.prototype.splice.call(t,e,1).length},J=function(t,e){var n=0;Z(t,function(i,o){e.call(void 0,i,o,t)&&K(t,o)&&n++})},X=function(t){return Array.prototype.concat.apply([],arguments)},Q=function(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]},$=function(t){return G(t,function(t){return t=t.toString(16),1<t.length?t:"0"+t}).join("")};t:{var tt=i.navigator;if(tt){var et=tt.userAgent;if(et){M=et;break t}}M=""}var nt=function(t){return O(M,t)},it=function(t,e){for(var n in t)e.call(void 0,t[n],n,t)},ot=function(t){var e,n=[],i=0;for(e in t)n[i++]=t[e];return n},rt=function(t){var e,n=[],i=0;for(e in t)n[i++]=e;return n},at=function(t){for(var e in t)return!1;return!0},st=function(t,e){for(var n in t)if(!(n in e)||t[n]!==e[n])return!1;for(n in e)if(!(n in t))return!1;return!0},ut=function(t){var e,n={};for(e in t)n[e]=t[e];return n},lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ct=function(t,e){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)t[n]=i[n];for(var r=0;r<lt.length;r++)n=lt[r],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}},ht=function(t){return ht[" "](t),t};ht[" "]=s;var ft,dt=function(t,e){var n=Lt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)},pt=nt("Opera"),mt=nt("Trident")||nt("MSIE"),gt=nt("Edge"),vt=gt||mt,_t=nt("Gecko")&&!(O(M.toLowerCase(),"webkit")&&!nt("Edge"))&&!(nt("Trident")||nt("MSIE"))&&!nt("Edge"),yt=O(M.toLowerCase(),"webkit")&&!nt("Edge"),bt=function(){var t=i.document;return t?t.documentMode:void 0};t:{var wt="",Tt=function(){var t=M;return _t?/rv\:([^\);]+)(\)|;)/.exec(t):gt?/Edge\/([\d\.]+)/.exec(t):mt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):yt?/WebKit\/(\S+)/.exec(t):pt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Tt&&(wt=Tt?Tt[1]:""),mt){var Et=bt();if(null!=Et&&Et>parseFloat(wt)){ft=String(Et);break t}}ft=wt}var St,kt=ft,Lt={},At=function(t){return dt(t,function(){for(var e=0,n=T(String(kt)).split("."),i=T(String(t)).split("."),o=Math.max(n.length,i.length),r=0;0==e&&r<o;r++){var a=n[r]||"",s=i[r]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=I(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||I(0==a[2].length,0==s[2].length)||I(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})},Pt=i.document;St=Pt&&mt?bt()||("CSS1Compat"==Pt.compatMode?parseInt(kt,10):5):void 0;var Ct,xt=null,Ot=null,It=function(t){var e="";return Dt(t,function(t){e+=String.fromCharCode(t)}),e},Dt=function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),o=Ot[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}Mt();for(var i=0;;){var o=n(-1),r=n(0),a=n(64),s=n(64);if(64===s&&-1===o)break;e(o<<2|r>>4),64!=a&&(e(r<<4&240|a>>2),64!=s&&e(a<<6&192|s))}},Mt=function(){if(!xt){xt={},Ot={};for(var t=0;65>t;t++)xt[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Ot[xt[t]]=t,62<=t&&(Ot["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}},Rt=function(){this.Ea=-1},Nt=function(t,e){this.Ea=64,this.kc=i.Uint8Array?new Uint8Array(this.Ea):Array(this.Ea),this.Qc=this.jb=0,this.i=[],this.uf=t,this.ge=e,this.Uf=i.Int32Array?new Int32Array(64):Array(64),void 0!==Ct||(Ct=i.Int32Array?new Int32Array(zt):zt),this.reset()};y(Nt,Rt);for(var Ut=[],Bt=0;63>Bt;Bt++)Ut[Bt]=0;var jt=X(128,Ut);Nt.prototype.reset=function(){this.Qc=this.jb=0,this.i=i.Int32Array?new Int32Array(this.ge):Q(this.ge)};var Ft=function(t){var e=t.kc;N(e.length==t.Ea);for(var n=t.Uf,i=0,o=0;o<e.length;)n[i++]=e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3],o=4*i;for(e=16;64>e;e++){i=0|n[e-15],o=0|n[e-2],o=(o>>>17|o<<15)^(o>>>19|o<<13)^o>>>10;var r=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+o|0;n[e]=r+a|0}var i=0|t.i[0],o=0|t.i[1],s=0|t.i[2],u=0|t.i[3],l=0|t.i[4],c=0|t.i[5],h=0|t.i[6];for(r=0|t.i[7],e=0;64>e;e++){var f=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&s^o&s)|0;a=l&c^~l&h,r=r+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0,a=a+(0|Ct[e])|0,a=r+(a+(0|n[e])|0)|0,r=h,h=c,c=l,l=u+a|0,u=s,s=o,o=i,i=a+f|0}t.i[0]=t.i[0]+i|0,t.i[1]=t.i[1]+o|0,t.i[2]=t.i[2]+s|0,t.i[3]=t.i[3]+u|0,t.i[4]=t.i[4]+l|0,t.i[5]=t.i[5]+c|0,t.i[6]=t.i[6]+h|0,t.i[7]=t.i[7]+r|0};Nt.prototype.update=function(t,e){void 0===e&&(e=t.length);var n=0,i=this.jb;if(o(t))for(;n<e;)this.kc[i++]=t.charCodeAt(n++),i==this.Ea&&(Ft(this),i=0);else{if(!h(t))throw Error("message must be string or array");for(;n<e;){var r=t[n++];if(!("number"==typeof r&&0<=r&&255>=r&&r==(0|r)))throw Error("message must be a byte array");this.kc[i++]=r,i==this.Ea&&(Ft(this),i=0)}}this.jb=i,this.Qc+=e},Nt.prototype.digest=function(){var t=[],e=8*this.Qc;56>this.jb?this.update(jt,56-this.jb):this.update(jt,this.Ea-(this.jb-56));for(var n=63;56<=n;n--)this.kc[n]=255&e,e/=256;for(Ft(this),n=e=0;n<this.uf;n++)for(var i=24;0<=i;i-=8)t[e++]=this.i[n]>>i&255;return t};var zt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Wt=function(){Nt.call(this,8,Zt)};y(Wt,Nt);var Zt=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Gt=function(){this.Ha=this.Ha,this.Cc=this.Cc};Gt.prototype.Ha=!1,Gt.prototype.isDisposed=function(){return this.Ha},Gt.prototype.gb=function(){if(this.Cc)for(;this.Cc.length;)this.Cc.shift()()};var Vt=!mt||9<=Number(St),Ht=mt&&!At("9");!yt||At("528"),_t&&At("1.9b")||mt&&At("8")||pt&&At("9.5")||yt&&At("528"),_t&&!At("8")||mt&&At("9");var qt=function(t,e){this.type=t,this.currentTarget=this.target=e,this.defaultPrevented=this.pb=!1,this.qe=!0};qt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.qe=!1};var Yt=function(t,e){qt.call(this,t?t.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.Ia=this.state=null,t&&this.init(t,e)};y(Yt,qt),Yt.prototype.init=function(t,e){var n=this.type=t.type,i=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.currentTarget=e,e=t.relatedTarget){if(_t){t:{try{ht(e.nodeName);var o=!0;break t}catch(t){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===i?(this.offsetX=yt||void 0!==t.offsetX?t.offsetX:t.layerX,this.offsetY=yt||void 0!==t.offsetY?t.offsetY:t.layerY,this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.charCode=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.state=t.state,this.Ia=t,t.defaultPrevented&&this.preventDefault()},Yt.prototype.preventDefault=function(){Yt.Id.preventDefault.call(this);var t=this.Ia;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ht)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Yt.prototype.Ze=function(){return this.Ia};var Kt="closure_listenable_"+(1e6*Math.random()|0),Jt=0,Xt=function(t,e,n,i,o){this.listener=t,this.Gc=null,this.src=e,this.type=n,this.capture=!!i,this.qc=o,this.key=++Jt,this.tb=this.jc=!1},Qt=function(t){t.tb=!0,t.listener=null,t.Gc=null,t.src=null,t.qc=null},$t=function(t){this.src=t,this.J={},this.ec=0};$t.prototype.add=function(t,e,n,i,o){var r=t.toString();(t=this.J[r])||(t=this.J[r]=[],this.ec++);var a=ee(t,e,i,o);return-1<a?(e=t[a],n||(e.jc=!1)):(e=new Xt(e,this.src,r,!!i,o),e.jc=n,t.push(e)),e},$t.prototype.remove=function(t,e,n,i){if(!((t=t.toString())in this.J))return!1;var o=this.J[t];return-1<(e=ee(o,e,n,i))&&(Qt(o[e]),K(o,e),0==o.length&&(delete this.J[t],this.ec--),!0)};var te=function(t,e){var n=e.type;n in t.J&&Y(t.J[n],e)&&(Qt(e),0==t.J[n].length&&(delete t.J[n],t.ec--))};$t.prototype.fd=function(t,e,n,i){t=this.J[t.toString()];var o=-1;return t&&(o=ee(t,e,n,i)),-1<o?t[o]:null};var ee=function(t,e,n,i){for(var o=0;o<t.length;++o){var r=t[o];if(!r.tb&&r.listener==e&&r.capture==!!n&&r.qc==i)return o}return-1},ne="closure_lm_"+(1e6*Math.random()|0),ie={},oe=0,re=function(t,e,n,i,o){if(c(e))for(var r=0;r<e.length;r++)re(t,e[r],n,i,o);else n=ve(n),t&&t[Kt]?t.listen(e,n,i,o):ae(t,e,n,!1,i,o)},ae=function(t,e,n,i,o,r){if(!e)throw Error("Invalid event type");var a=!!o,s=me(t);if(s||(t[ne]=s=new $t(t)),n=s.add(e,n,i,o,r),!n.Gc){if(i=se(),n.Gc=i,i.src=t,i.listener=n,t.addEventListener)t.addEventListener(e.toString(),i,a);else{if(!t.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");t.attachEvent(he(e.toString()),i)}oe++}},se=function(){var t=pe,e=Vt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e},ue=function(t,e,n,i,o){if(c(e))for(var r=0;r<e.length;r++)ue(t,e[r],n,i,o);else n=ve(n),t&&t[Kt]?yi(t,e,n,i,o):ae(t,e,n,!0,i,o)},le=function(t,e,n,i,o){if(c(e))for(var r=0;r<e.length;r++)le(t,e[r],n,i,o);else n=ve(n),t&&t[Kt]?t.ja.remove(String(e),n,i,o):t&&(t=me(t))&&(e=t.fd(e,n,!!i,o))&&ce(e)},ce=function(t){if(!a(t)&&t&&!t.tb){var e=t.src;if(e&&e[Kt])te(e.ja,t);else{var n=t.type,i=t.Gc;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent&&e.detachEvent(he(n),i),oe--,(n=me(e))?(te(n,t),0==n.ec&&(n.src=null,e[ne]=null)):Qt(t)}}},he=function(t){return t in ie?ie[t]:ie[t]="on"+t},fe=function(t,e,n,i){var o=!0;if((t=me(t))&&(e=t.J[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var r=e[t];r&&r.capture==n&&!r.tb&&(r=de(r,i),o=o&&!1!==r)}return o},de=function(t,e){var n=t.listener,i=t.qc||t.src;return t.jc&&ce(t),n.call(i,e)},pe=function(t,e){if(t.tb)return!0;if(!Vt){if(!e)t:{e=["window","event"];for(var n,o=i;n=e.shift();){if(null==o[n]){e=null;break t}o=o[n]}e=o}if(n=e,e=new Yt(n,this),o=!0,!(0>n.keyCode||void 0!=n.returnValue)){t:{var r=!1;if(0==n.keyCode)try{n.keyCode=-1;break t}catch(t){r=!0}(r||void 0==n.returnValue)&&(n.returnValue=!0)}for(n=[],r=e.currentTarget;r;r=r.parentNode)n.push(r);for(var r=t.type,a=n.length-1;!e.pb&&0<=a;a--)e.currentTarget=n[a],t=fe(n[a],r,!0,e),o=o&&t;for(a=0;!e.pb&&a<n.length;a++)e.currentTarget=n[a],t=fe(n[a],r,!1,e),o=o&&t}return o}return de(t,new Yt(e,this))},me=function(t){return t=t[ne],t instanceof $t?t:null},ge="__closure_events_fn_"+(1e9*Math.random()>>>0),ve=function(t){return N(t,"Listener can not be null."),f(t)?t:(N(t.handleEvent,"An object listener must have handleEvent method."),t[ge]||(t[ge]=function(e){return t.handleEvent(e)}),t[ge])},_e=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,ye=function(){this.Mc="",this.Ge=we};ye.prototype.Ib=!0,ye.prototype.Fb=function(){return this.Mc},ye.prototype.toString=function(){return"Const{"+this.Mc+"}"};var be=function(t){return t instanceof ye&&t.constructor===ye&&t.Ge===we?t.Mc:(U("expected object of type Const, got '"+t+"'"),"type_error:Const")},we={},Te=function(t){var e=new ye;return e.Mc=t,e};Te("");var Ee=function(){this.Fc="",this.He=ke};Ee.prototype.Ib=!0,Ee.prototype.Fb=function(){return this.Fc},Ee.prototype.toString=function(){return"TrustedResourceUrl{"+this.Fc+"}"};var Se=function(t){return t instanceof Ee&&t.constructor===Ee&&t.He===ke?t.Fc:(U("expected object of type TrustedResourceUrl, got '"+t+"' of type "+u(t)),"type_error:TrustedResourceUrl")},ke={},Le=function(){this.qa="",this.Fe=xe};Le.prototype.Ib=!0,Le.prototype.Fb=function(){return this.qa},Le.prototype.toString=function(){return"SafeUrl{"+this.qa+"}"};var Ae=function(t){return t instanceof Le&&t.constructor===Le&&t.Fe===xe?t.qa:(U("expected object of type SafeUrl, got '"+t+"' of type "+u(t)),"type_error:SafeUrl")},Pe=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i,Ce=function(t){return t instanceof Le?t:(t=t.Ib?t.Fb():String(t),Pe.test(t)||(t="about:invalid#zClosurez"),Oe(t))},xe={},Oe=function(t){var e=new Le;return e.qa=t,e};Oe("about:blank");var Ie=function(t){var e=[];return Me(new De,t,e),e.join("")},De=function(){this.Hc=void 0},Me=function(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(c(e)){var i=e;e=i.length,n.push("[");for(var o="",r=0;r<e;r++)n.push(o),o=i[r],Me(t,t.Hc?t.Hc.call(i,String(r),o):o,n),o=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),r="";for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&"function"!=typeof(o=e[i])&&(n.push(r),Ue(i,n),n.push(":"),Me(t,t.Hc?t.Hc.call(e,i,o):o,n),r=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Ue(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}},Re={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ne=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Ue=function(t,e){e.push('"',t.replace(Ne,function(t){var e=Re[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Re[t]=e),e}),'"')},Be=function(){};Be.prototype.Nd=null;var je,Fe=function(t){return t.Nd||(t.Nd=t.md())},ze=function(){};y(ze,Be),ze.prototype.lc=function(){var t=We(this);return t?new ActiveXObject(t):new XMLHttpRequest},ze.prototype.md=function(){var t={};return We(this)&&(t[0]=!0,t[1]=!0),t};var We=function(t){if(!t.fe&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.fe=i}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.fe};je=new ze;var Ze=function(){};y(Ze,Be),Ze.prototype.lc=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ge;throw Error("Unsupported browser")},Ze.prototype.md=function(){return{}};var Ge=function(){this.va=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.va.onload=g(this.af,this),this.va.onerror=g(this.be,this),this.va.onprogress=g(this.bf,this),this.va.ontimeout=g(this.cf,this)};t=Ge.prototype,t.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.va.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.va.send(t)}else this.va.send()},t.abort=function(){this.va.abort()},t.setRequestHeader=function(){},t.af=function(){this.status=200,this.responseText=this.va.responseText,Ve(this,4)},t.be=function(){this.status=500,this.responseText="",Ve(this,4)},t.cf=function(){this.be()},t.bf=function(){this.status=200,Ve(this,1)};var Ve=function(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()},He=function(t,e,n){this.pf=n,this.Oe=t,this.Ef=e,this.Bc=0,this.rc=null};He.prototype.get=function(){if(0<this.Bc){this.Bc--;var t=this.rc;this.rc=t.next,t.next=null}else t=this.Oe();return t},He.prototype.put=function(t){this.Ef(t),this.Bc<this.pf&&(this.Bc++,t.next=this.rc,this.rc=t)};var qe,Ye=function(t){i.setTimeout(function(){throw t},0)},Ke=function(){var t=i.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!nt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow,t=e.document;t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,t=g(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this);e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!nt("Trident")&&!nt("MSIE")){var e=new t,n={},o=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.Qd;n.Qd=null,t()}},function(t){o.next={Qd:t},o=o.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){i.setTimeout(t,0)}},Je=function(){this.Vc=this.bb=null},Xe=new He(function(){return new Qe},function(t){t.reset()},100);Je.prototype.add=function(t,e){var n=Xe.get();n.set(t,e),this.Vc?this.Vc.next=n:(N(!this.bb),this.bb=n),this.Vc=n},Je.prototype.remove=function(){var t=null;return this.bb&&(t=this.bb,this.bb=this.bb.next,this.bb||(this.Vc=null),t.next=null),t};var Qe=function(){this.next=this.scope=this.ed=null};Qe.prototype.set=function(t,e){this.ed=t,this.scope=e,this.next=null},Qe.prototype.reset=function(){this.next=this.scope=this.ed=null};var $e,tn=function(t,e){$e||en(),nn||($e(),nn=!0),on.add(t,e)},en=function(){if(-1!=String(i.Promise).indexOf("[native code]")){var t=i.Promise.resolve(void 0);$e=function(){t.then(rn)}}else $e=function(){var t=rn;!f(i.setImmediate)||i.Window&&i.Window.prototype&&!nt("Edge")&&i.Window.prototype.setImmediate==i.setImmediate?(qe||(qe=Ke()),qe(t)):i.setImmediate(t)}},nn=!1,on=new Je,rn=function(){for(var t;t=on.remove();){try{t.ed.call(t.scope)}catch(t){Ye(t)}Xe.put(t)}nn=!1},an=function(t){return d(t)?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):void 0===t?"undefined":null===t?"null":typeof t},sn=!mt||9<=Number(St);!_t&&!mt||mt&&9<=Number(St)||_t&&At("1.9.1"),mt&&At("9");var un=function(){this.qa="",this.Ee=cn};un.prototype.Ib=!0,un.prototype.Fb=function(){return this.qa},un.prototype.toString=function(){return"SafeHtml{"+this.qa+"}"};var ln=function(t){return t instanceof un&&t.constructor===un&&t.Ee===cn?t.qa:(U("expected object of type SafeHtml, got '"+t+"' of type "+u(t)),"type_error:SafeHtml")},cn={};un.prototype.jf=function(t){return this.qa=t,this};var hn=function(t,e){"undefined"!=typeof HTMLScriptElement&&"undefined"!=typeof Element&&N(t&&(t instanceof HTMLScriptElement||!(t instanceof Element)),"Argument is not a HTMLScriptElement (or a non-Element mock); got: %s",an(t)),t.src=Se(e)},fn=function(t){var e=document;return o(t)?e.getElementById(t):t},dn=function(t,e){it(e,function(e,n){e&&e.Ib&&(e=e.Fb()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:pn.hasOwnProperty(n)?t.setAttribute(pn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})},pn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},mn=function(t,e,n){var i=arguments,r=document,a=String(i[0]),s=i[1];if(!sn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',E(s.name),'"'),s.type){a.push(' type="',E(s.type),'"');var u={};ct(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=r.createElement(a),s&&(o(s)?a.className=s:c(s)?a.className=s.join(" "):dn(a,s)),2<i.length&&gn(r,a,i),a},gn=function(t,e,n){function i(n){n&&e.appendChild(o(n)?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var a=n[r];!h(a)||d(a)&&0<a.nodeType?i(a):W(vn(a)?Q(a):a,i)}},vn=function(t){if(t&&"number"==typeof t.length){if(d(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1},_n=function(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0},yn=function(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}},bn=function(t,e){if(this.W=0,this.sa=void 0,this.fb=this.oa=this.u=null,this.pc=this.dd=!1,t!=s)try{var n=this;t.call(e,function(t){In(n,2,t)},function(t){if(!(t instanceof zn))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}In(n,3,t)})}catch(t){In(this,3,t)}},wn=function(){this.next=this.context=this.lb=this.Qa=this.child=null,this.yb=!1};wn.prototype.reset=function(){this.context=this.lb=this.Qa=this.child=null,this.yb=!1};var Tn=new He(function(){return new wn},function(t){t.reset()},100),En=function(t,e,n){var i=Tn.get();return i.Qa=t,i.lb=e,i.context=n,i},Sn=function(t){if(t instanceof bn)return t;var e=new bn(s);return In(e,2,t),e},kn=function(t){return new bn(function(e,n){n(t)})},Ln=function(t,e,n){Dn(t,e,n,null)||tn(v(e,t))},An=function(t){return new bn(function(e){var n=t.length,i=[];if(n)for(var o,r=function(t,o,r){n--,i[t]=o?{Xe:!0,value:r}:{Xe:!1,reason:r},0==n&&e(i)},a=0;a<t.length;a++)o=t[a],Ln(o,v(r,a,!0),v(r,a,!1));else e(i)})};bn.prototype.then=function(t,e,n){return null!=t&&F(t,"opt_onFulfilled should be a function."),null!=e&&F(e,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),On(this,f(t)?t:null,f(e)?e:null,n)},_n(bn);var Pn=function(t,e){return e=En(e,e,void 0),e.yb=!0,xn(t,e),t};bn.prototype.f=function(t,e){return On(this,null,t,e)},bn.prototype.cancel=function(t){0==this.W&&tn(function(){var e=new zn(t);Cn(this,e)},this)};var Cn=function(t,e){if(0==t.W)if(t.u){var n=t.u;if(n.oa){for(var i=0,o=null,r=null,a=n.oa;a&&(a.yb||(i++,a.child==t&&(o=a),!(o&&1<i)));a=a.next)o||(r=a);o&&(0==n.W&&1==i?Cn(n,e):(r?(i=r,N(n.oa),N(null!=i),i.next==n.fb&&(n.fb=i),i.next=i.next.next):Nn(n),Un(n,o,3,e)))}t.u=null}else In(t,3,e)},xn=function(t,e){t.oa||2!=t.W&&3!=t.W||Rn(t),N(null!=e.Qa),t.fb?t.fb.next=e:t.oa=e,t.fb=e},On=function(t,e,n,i){var o=En(null,null,null);return o.child=new bn(function(t,r){o.Qa=e?function(n){try{var o=e.call(i,n);t(o)}catch(t){r(t)}}:t,o.lb=n?function(e){try{var o=n.call(i,e);void 0===o&&e instanceof zn?r(e):t(o)}catch(t){r(t)}}:r}),o.child.u=t,xn(t,o),o.child};bn.prototype.Rf=function(t){N(1==this.W),this.W=0,In(this,2,t)},bn.prototype.Sf=function(t){N(1==this.W),this.W=0,In(this,3,t)};var In=function(t,e,n){0==t.W&&(t===n&&(e=3,n=new TypeError("Promise cannot resolve to itself")),t.W=1,Dn(n,t.Rf,t.Sf,t)||(t.sa=n,t.W=e,t.u=null,Rn(t),3!=e||n instanceof zn||jn(t,n)))},Dn=function(t,e,n,i){if(t instanceof bn)return null!=e&&F(e,"opt_onFulfilled should be a function."),null!=n&&F(n,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),xn(t,En(e||s,n||null,i)),!0;if(yn(t))return t.then(e,n,i),!0;if(d(t))try{var o=t.then;if(f(o))return Mn(t,o,e,n,i),!0}catch(t){return n.call(i,t),!0}return!1},Mn=function(t,e,n,i,o){var r=!1,a=function(t){r||(r=!0,n.call(o,t))},s=function(t){r||(r=!0,i.call(o,t))};try{e.call(t,a,s)}catch(t){s(t)}},Rn=function(t){t.dd||(t.dd=!0,tn(t.Te,t))},Nn=function(t){var e=null;return t.oa&&(e=t.oa,t.oa=e.next,e.next=null),t.oa||(t.fb=null),null!=e&&N(null!=e.Qa),e};bn.prototype.Te=function(){for(var t;t=Nn(this);)Un(this,t,this.W,this.sa);this.dd=!1};var Un=function(t,e,n,i){if(3==n&&e.lb&&!e.yb)for(;t&&t.pc;t=t.u)t.pc=!1;if(e.child)e.child.u=null,Bn(e,n,i);else try{e.yb?e.Qa.call(e.context):Bn(e,n,i)}catch(t){Fn.call(null,t)}Tn.put(e)},Bn=function(t,e,n){2==e?t.Qa.call(t.context,n):t.lb&&t.lb.call(t.context,n)},jn=function(t,e){t.pc=!0,tn(function(){t.pc&&Fn.call(null,e)})},Fn=Ye,zn=function(t){b.call(this,t)};y(zn,b),zn.prototype.name="cancel";var Wn=function(t,e){this.Jc=[],this.le=t,this.Ud=e||null,this.Gb=this.hb=!1,this.sa=void 0,this.Fd=this.Ld=this.Zc=!1,this.Rc=0,this.u=null,this.$c=0};Wn.prototype.cancel=function(t){if(this.hb)this.sa instanceof Wn&&this.sa.cancel();else{if(this.u){var e=this.u;delete this.u,t?e.cancel(t):0>=--e.$c&&e.cancel()}this.le?this.le.call(this.Ud,this):this.Fd=!0,this.hb||Vn(this,new Qn)}},Wn.prototype.Sd=function(t,e){this.Zc=!1,Zn(this,t,e)};var Zn=function(t,e,n){t.hb=!0,t.sa=n,t.Gb=!e,Jn(t)},Gn=function(t){if(t.hb){if(!t.Fd)throw new Xn;t.Fd=!1}};Wn.prototype.callback=function(t){Gn(this),Hn(t),Zn(this,!0,t)};var Vn=function(t,e){Gn(t),Hn(e),Zn(t,!1,e)},Hn=function(t){N(!(t instanceof Wn),"An execution sequence may not be initiated with a blocking Deferred.")},qn=function(t){var e=ei("https://apis.google.com/js/client.js?onload="+Qr);Yn(e,null,t,void 0)},Yn=function(t,e,n,i){N(!t.Ld,"Blocking Deferreds can not be re-used"),t.Jc.push([e,n,i]),t.hb&&Jn(t)};Wn.prototype.then=function(t,e,n){var i,o,r=new bn(function(t,e){i=t,o=e});return Yn(this,i,function(t){t instanceof Qn?r.cancel():o(t)}),r.then(t,e,n)},_n(Wn);var Kn=function(t){return V(t.Jc,function(t){return f(t[1])})},Jn=function(t){if(t.Rc&&t.hb&&Kn(t)){var e=t.Rc,n=ti[e];n&&(i.clearTimeout(n.Hb),delete ti[e]),t.Rc=0}t.u&&(t.u.$c--,delete t.u);for(var e=t.sa,o=n=!1;t.Jc.length&&!t.Zc;){var r=t.Jc.shift(),a=r[0],s=r[1],r=r[2];if(a=t.Gb?s:a)try{var u=a.call(r||t.Ud,e);void 0!==u&&(t.Gb=t.Gb&&(u==e||u instanceof Error),t.sa=e=u),(yn(e)||"function"==typeof i.Promise&&e instanceof i.Promise)&&(o=!0,t.Zc=!0)}catch(i){e=i,t.Gb=!0,Kn(t)||(n=!0)}}t.sa=e,o&&(u=g(t.Sd,t,!0),o=g(t.Sd,t,!1),e instanceof Wn?(Yn(e,u,o),e.Ld=!0):e.then(u,o)),n&&(e=new $n(e),ti[e.Hb]=e,t.Rc=e.Hb)},Xn=function(){b.call(this)};y(Xn,b),Xn.prototype.message="Deferred has already fired",Xn.prototype.name="AlreadyCalledError";var Qn=function(){b.call(this)};y(Qn,b),Qn.prototype.message="Deferred was canceled",Qn.prototype.name="CanceledError";var $n=function(t){this.Hb=i.setTimeout(g(this.Qf,this),0),this.X=t};$n.prototype.Qf=function(){throw N(ti[this.Hb],"Cannot throw an error that is not scheduled."),delete ti[this.Hb],this.X};var ti={},ei=function(t){var e=new Ee;return e.Fc=t,ni(e)},ni=function(t){var e={},n=e.document||document,i=Se(t),o=document.createElement("SCRIPT"),r={re:o,dc:void 0},a=new Wn(oi,r),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){ri(o,!0),Vn(a,new ai(1,"Timeout reached for loading script "+i))},u),r.dc=s),o.onload=o.onreadystatechange=function(){o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(ri(o,e.bg||!1,s),a.callback(null))},o.onerror=function(){ri(o,!0,s),Vn(a,new ai(0,"Error while loading script "+i))},r=e.attributes||{},ct(r,{type:"text/javascript",charset:"UTF-8"}),dn(o,r),hn(o,t),ii(n).appendChild(o),a},ii=function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement},oi=function(){if(this&&this.re){var t=this.re;t&&"SCRIPT"==t.tagName&&ri(t,!0,this.dc)}},ri=function(t,e,n){null!=n&&i.clearTimeout(n),t.onload=s,t.onerror=s,t.onreadystatechange=s,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)},ai=function(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),b.call(this,n),this.code=t};y(ai,b);var si=function(t,e,n,i,o){this.reset(t,e,n,i,o)};si.prototype.Wd=null;var ui=0;si.prototype.reset=function(t,e,n,i,o){"number"==typeof o||ui++,i||_(),this.Nb=t,this.sf=e,delete this.Wd},si.prototype.te=function(t){this.Nb=t};var li=function(t){this.tf=t,this.ce=this.ad=this.Nb=this.u=null},ci=function(t,e){this.name=t,this.value=e};ci.prototype.toString=function(){return this.name};var hi=new ci("SEVERE",1e3),fi=new ci("CONFIG",700),di=new ci("FINE",500);li.prototype.getParent=function(){return this.u},li.prototype.te=function(t){this.Nb=t};var pi=function(t){return t.Nb?t.Nb:t.u?pi(t.u):(U("Root logger has no level set."),null)};li.prototype.log=function(t,e,n){if(t.value>=pi(this).value)for(f(e)&&(e=e()),t=new si(t,String(e),this.tf),n&&(t.Wd=n),n="log:"+t.sf,i.console&&(i.console.timeStamp?i.console.timeStamp(n):i.console.markTimeline&&i.console.markTimeline(n)),i.msWriteProfilerMark&&i.msWriteProfilerMark(n),n=this;n;){var o=n,r=t;if(o.ce)for(var a=0;e=o.ce[a];a++)e(r);n=n.getParent()}};var mi={},gi=null,vi=function(t){gi||(gi=new li(""),mi[""]=gi,gi.te(fi));var e;if(!(e=mi[t])){e=new li(t);var n=t.lastIndexOf("."),i=t.substr(n+1),n=vi(t.substr(0,n));n.ad||(n.ad={}),n.ad[i]=e,e.u=n,mi[t]=e}return e},_i=function(){Gt.call(this),this.ja=new $t(this),this.Je=this,this.rd=null};y(_i,Gt),_i.prototype[Kt]=!0,t=_i.prototype,t.addEventListener=function(t,e,n,i){re(this,t,e,n,i)},t.removeEventListener=function(t,e,n,i){le(this,t,e,n,i)},t.dispatchEvent=function(t){wi(this);var e=this.rd;if(e)for(var n=[],i=1;e;e=e.rd)n.push(e),N(1e3>++i,"infinite loop");if(e=this.Je,i=t.type||t,o(t))t=new qt(t,e);else if(t instanceof qt)t.target=t.target||e;else{var r=t;t=new qt(i,e),ct(t,r)}var r=!0;if(n)for(var a=n.length-1;!t.pb&&0<=a;a--){var s=t.currentTarget=n[a];r=bi(s,i,!0,t)&&r}if(t.pb||(s=t.currentTarget=e,r=bi(s,i,!0,t)&&r,t.pb||(r=bi(s,i,!1,t)&&r)),n)for(a=0;!t.pb&&a<n.length;a++)s=t.currentTarget=n[a],r=bi(s,i,!1,t)&&r;return r},t.gb=function(){if(_i.Id.gb.call(this),this.ja){var t,e=this.ja,n=0;for(t in e.J){for(var i=e.J[t],o=0;o<i.length;o++)++n,Qt(i[o]);delete e.J[t],e.ec--}}this.rd=null},t.listen=function(t,e,n,i){return wi(this),this.ja.add(String(t),e,!1,n,i)};var yi=function(t,e,n,i,o){t.ja.add(String(e),n,!0,i,o)},bi=function(t,e,n,i){if(!(e=t.ja.J[String(e)]))return!0;e=e.concat();for(var o=!0,r=0;r<e.length;++r){var a=e[r];if(a&&!a.tb&&a.capture==n){var s=a.listener,u=a.qc||a.src;a.jc&&te(t.ja,a),o=!1!==s.call(u,i)&&o}}return o&&0!=i.qe};_i.prototype.fd=function(t,e,n,i){return this.ja.fd(String(t),e,n,i)};var wi=function(t){N(t.ja,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},Ti="StopIteration"in i?i.StopIteration:{message:"StopIteration",stack:""},Ei=function(){};Ei.prototype.next=function(){throw Ti},Ei.prototype.Ie=function(){return this};var Si=function(t,e){t&&t.log(di,e,void 0)},ki=function(t,e){this.ea={},this.A=[],this.ab=this.o=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else t&&this.addAll(t)};t=ki.prototype,t.da=function(){Li(this);for(var t=[],e=0;e<this.A.length;e++)t.push(this.ea[this.A[e]]);return t},t.pa=function(){return Li(this),this.A.concat()},t.Ab=function(t){return Ai(this.ea,t)},t.clear=function(){this.ea={},this.ab=this.o=this.A.length=0},t.remove=function(t){return!!Ai(this.ea,t)&&(delete this.ea[t],this.o--,this.ab++,this.A.length>2*this.o&&Li(this),!0)};var Li=function(t){var e,n;if(t.o!=t.A.length){for(e=n=0;n<t.A.length;){var i=t.A[n];Ai(t.ea,i)&&(t.A[e++]=i),n++}t.A.length=e}if(t.o!=t.A.length){var o={};for(e=n=0;n<t.A.length;)i=t.A[n],Ai(o,i)||(t.A[e++]=i,o[i]=1),n++;t.A.length=e}};t=ki.prototype,t.get=function(t,e){return Ai(this.ea,t)?this.ea[t]:e},t.set=function(t,e){Ai(this.ea,t)||(this.o++,this.A.push(t),this.ab++),this.ea[t]=e},t.addAll=function(t){if(t instanceof ki){var e=t.pa();t=t.da()}else e=rt(t),t=ot(t);for(var n=0;n<e.length;n++)this.set(e[n],t[n])},t.forEach=function(t,e){for(var n=this.pa(),i=0;i<n.length;i++){var o=n[i],r=this.get(o);t.call(e,r,o,this)}},t.clone=function(){return new ki(this)},t.Ie=function(t){Li(this);var e=0,n=this.ab,i=this,o=new Ei;return o.next=function(){if(n!=i.ab)throw Error("The map has changed since the iterator was created");if(e>=i.A.length)throw Ti;var o=i.A[e++];return t?o:i.ea[o]},o};var Ai=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},Pi=function(t){if(t.da&&"function"==typeof t.da)return t.da();if(o(t))return t.split("");if(h(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}return ot(t)},Ci=function(t){if(t.pa&&"function"==typeof t.pa)return t.pa();if(!t.da||"function"!=typeof t.da){if(h(t)||o(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}return rt(t)}},xi=function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||o(t))W(t,e,void 0);else for(var n=Ci(t),i=Pi(t),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],n&&n[a],t)},Oi=function(t,e,n){if(f(t))n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:i.setTimeout(t,e||0)},Ii=function(t){var e=null;return new bn(function(n,i){-1==(e=Oi(function(){n(void 0)},t))&&i(Error("Failed to schedule timer."))}).f(function(t){throw i.clearTimeout(e),t})},Di=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,Mi=function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),o=null;if(0<=i){var r=t[n].substring(0,i);o=t[n].substring(i+1)}else r=t[n];e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}},Ri=function(t){_i.call(this),this.headers=new ki,this.Xc=t||null,this.wa=!1,this.Wc=this.c=null,this.Mb=this.je=this.yc="",this.Ma=this.kd=this.uc=this.cd=!1,this.ub=0,this.Oc=null,this.Ic="",this.Sc=this.Af=this.De=!1};y(Ri,_i);var Ni=Ri.prototype,Ui=vi("goog.net.XhrIo");Ni.K=Ui;var Bi=/^https?$/i,ji=["POST","PUT"];Ri.prototype.send=function(t,e,n,o){if(this.c)throw Error("[goog.net.XhrIo] Object is active with another request="+this.yc+"; newUri="+t);e=e?e.toUpperCase():"GET",this.yc=t,this.Mb="",this.je=e,this.cd=!1,this.wa=!0,this.c=this.Xc?this.Xc.lc():je.lc(),this.Wc=Fe(this.Xc?this.Xc:je),this.c.onreadystatechange=g(this.ne,this),this.Af&&"onprogress"in this.c&&(this.c.onprogress=g(function(t){this.me(t,!0)},this),this.c.upload&&(this.c.upload.onprogress=g(this.me,this)));try{Si(this.K,Ji(this,"Opening Xhr")),this.kd=!0,this.c.open(e,String(t),!0),this.kd=!1}catch(t){return Si(this.K,Ji(this,"Error opening Xhr: "+t.message)),void this.X(5,t)}t=n||"";var r=this.headers.clone();o&&xi(o,function(t,e){r.set(e,t)}),o=H(r.pa()),n=i.FormData&&t instanceof i.FormData,!q(ji,e)||o||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(t,e){this.c.setRequestHeader(e,t)},this),this.Ic&&(this.c.responseType=this.Ic),"withCredentials"in this.c&&this.c.withCredentials!==this.De&&(this.c.withCredentials=this.De);try{Hi(this),0<this.ub&&(this.Sc=Fi(this.c),Si(this.K,Ji(this,"Will abort after "+this.ub+"ms if incomplete, xhr2 "+this.Sc)),this.Sc?(this.c.timeout=this.ub,this.c.ontimeout=g(this.dc,this)):this.Oc=Oi(this.dc,this.ub,this)),Si(this.K,Ji(this,"Sending request")),this.uc=!0,this.c.send(t),this.uc=!1}catch(t){Si(this.K,Ji(this,"Send error: "+t.message)),this.X(5,t)}};var Fi=function(t){return mt&&At(9)&&a(t.timeout)&&void 0!==t.ontimeout},zi=function(t){return"content-type"==t.toLowerCase()};Ri.prototype.dc=function(){void 0!==n&&this.c&&(this.Mb="Timed out after "+this.ub+"ms, aborting",Si(this.K,Ji(this,this.Mb)),this.dispatchEvent("timeout"),this.abort(8))},Ri.prototype.X=function(t,e){this.wa=!1,this.c&&(this.Ma=!0,this.c.abort(),this.Ma=!1),this.Mb=e,Wi(this),Vi(this)};var Wi=function(t){t.cd||(t.cd=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))};Ri.prototype.abort=function(){this.c&&this.wa&&(Si(this.K,Ji(this,"Aborting")),this.wa=!1,this.Ma=!0,this.c.abort(),this.Ma=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Vi(this))},Ri.prototype.gb=function(){this.c&&(this.wa&&(this.wa=!1,this.Ma=!0,this.c.abort(),this.Ma=!1),Vi(this,!0)),Ri.Id.gb.call(this)},Ri.prototype.ne=function(){this.isDisposed()||(this.kd||this.uc||this.Ma?Zi(this):this.wf())},Ri.prototype.wf=function(){Zi(this)};var Zi=function(t){if(t.wa&&void 0!==n)if(t.Wc[1]&&4==qi(t)&&2==Yi(t))Si(t.K,Ji(t,"Local request error detected and ignored"));else if(t.uc&&4==qi(t))Oi(t.ne,0,t);else if(t.dispatchEvent("readystatechange"),4==qi(t)){Si(t.K,Ji(t,"Request complete")),t.wa=!1;try{var e=Yi(t);t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}var r;if(!(r=o)){var a;if(a=0===e){var s=String(t.yc).match(Di)[1]||null;if(!s&&i.self&&i.self.location)var u=i.self.location.protocol,s=u.substr(0,u.length-1);a=!Bi.test(s?s.toLowerCase():"")}r=a}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<qi(t)?t.c.statusText:""}catch(e){Si(t.K,"Can not get status: "+e.message),l=""}t.Mb=l+" ["+Yi(t)+"]",Wi(t)}}finally{Vi(t)}}};Ri.prototype.me=function(t,e){N("progress"===t.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),this.dispatchEvent(Gi(t,"progress")),this.dispatchEvent(Gi(t,e?"downloadprogress":"uploadprogress"))};var Gi=function(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}},Vi=function(t,e){if(t.c){Hi(t);var n=t.c,i=t.Wc[0]?s:null;t.c=null,t.Wc=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(e){(t=t.K)&&t.log(hi,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},Hi=function(t){t.c&&t.Sc&&(t.c.ontimeout=null),a(t.Oc)&&(i.clearTimeout(t.Oc),t.Oc=null)},qi=function(t){return t.c?t.c.readyState:0},Yi=function(t){try{return 2<qi(t)?t.c.status:-1}catch(t){return-1}},Ki=function(t){try{return t.c?t.c.responseText:""}catch(e){return Si(t.K,"Can not get responseText: "+e.message),""}};Ri.prototype.getResponse=function(){try{if(!this.c)return null;if("response"in this.c)return this.c.response;switch(this.Ic){case"":case"text":return this.c.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.c)return this.c.mozResponseArrayBuffer}var t=this.K;return t&&t.log(hi,"Response type "+this.Ic+" is not supported on this browser",void 0),null}catch(t){return Si(this.K,"Can not get response: "+t.message),null}};var Ji=function(t,e){return e+" ["+t.je+" "+t.yc+" "+Yi(t)+"]"},Xi=function(t,e){if(this.ia=this.Za=this.ka="",this.nb=null,this.La=this.za="",this.Z=this.nf=!1,t instanceof Xi){this.Z=void 0!==e?e:t.Z,Qi(this,t.ka);var n=t.Za;ro(this),this.Za=n,$i(this,t.ia),to(this,t.nb),eo(this,t.za),no(this,t.ba.clone()),t=t.La,ro(this),this.La=t}else t&&(n=String(t).match(Di))?(this.Z=!!e,Qi(this,n[1]||"",!0),t=n[2]||"",ro(this),this.Za=uo(t),$i(this,n[3]||"",!0),to(this,n[4]),eo(this,n[5]||"",!0),no(this,n[6]||"",!0),t=n[7]||"",ro(this),this.La=uo(t)):(this.Z=!!e,this.ba=new vo(null,0,this.Z))};Xi.prototype.toString=function(){var t=[],e=this.ka;e&&t.push(lo(e,ho,!0),":");var n=this.ia;return(n||"file"==e)&&(t.push("//"),(e=this.Za)&&t.push(lo(e,ho,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.nb)&&t.push(":",String(n))),(n=this.za)&&(this.ia&&"/"!=n.charAt(0)&&t.push("/"),t.push(lo(n,"/"==n.charAt(0)?po:fo,!0))),(n=this.ba.toString())&&t.push("?",n),(n=this.La)&&t.push("#",lo(n,go)),t.join("")},Xi.prototype.resolve=function(t){var e=this.clone(),n=!!t.ka;if(n?Qi(e,t.ka):n=!!t.Za,n){var i=t.Za;ro(e),e.Za=i}else n=!!t.ia;if(n?$i(e,t.ia):n=null!=t.nb,i=t.za,n)to(e,t.nb);else if(n=!!t.za){if("/"!=i.charAt(0))if(this.ia&&!this.za)i="/"+i;else{var o=e.za.lastIndexOf("/");-1!=o&&(i=e.za.substr(0,o+1)+i)}if(".."==(o=i)||"."==o)i="";else if(O(o,"./")||O(o,"/.")){for(var i=0==o.lastIndexOf("/",0),o=o.split("/"),r=[],a=0;a<o.length;){var s=o[a++];"."==s?i&&a==o.length&&r.push(""):".."==s?((1<r.length||1==r.length&&""!=r[0])&&r.pop(),i&&a==o.length&&r.push("")):(r.push(s),i=!0)}i=r.join("/")}else i=o}return n?eo(e,i):n=""!==t.ba.toString(),n?no(e,t.ba.clone()):n=!!t.La,n&&(t=t.La,ro(e),e.La=t),e},Xi.prototype.clone=function(){return new Xi(this)};var Qi=function(t,e,n){ro(t),t.ka=n?uo(e,!0):e,t.ka&&(t.ka=t.ka.replace(/:$/,""))},$i=function(t,e,n){ro(t),t.ia=n?uo(e,!0):e},to=function(t,e){if(ro(t),e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.nb=e}else t.nb=null},eo=function(t,e,n){ro(t),t.za=n?uo(e,!0):e},no=function(t,e,n){ro(t),e instanceof vo?(t.ba=e,t.ba.Dd(t.Z)):(n||(e=lo(e,mo)),t.ba=new vo(e,0,t.Z))},io=function(t,e,n){ro(t),t.ba.set(e,n)},oo=function(t,e){return t.ba.get(e)};Xi.prototype.removeParameter=function(t){return ro(this),this.ba.remove(t),this};var ro=function(t){if(t.nf)throw Error("Tried to modify a read-only Uri")};Xi.prototype.Dd=function(t){return this.Z=t,this.ba&&this.ba.Dd(t),this};var ao=function(t){return t instanceof Xi?t.clone():new Xi(t,void 0)},so=function(t,e){var n=new Xi(null,void 0);return Qi(n,"https"),t&&$i(n,t),e&&eo(n,e),n},uo=function(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""},lo=function(t,e,n){return o(t)?(t=encodeURI(t).replace(e,co),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null},co=function(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)},ho=/[#\/\?@]/g,fo=/[\#\?:]/g,po=/[\#\?]/g,mo=/[\#\?@]/g,go=/#/g,vo=function(t,e,n){this.o=this.j=null,this.P=t||null,this.Z=!!n},_o=function(t){t.j||(t.j=new ki,t.o=0,t.P&&Mi(t.P,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))},yo=function(t){var e=Ci(t);if(void 0===e)throw Error("Keys are undefined");var n=new vo(null,0,void 0);t=Pi(t);for(var i=0;i<e.length;i++){var o=e[i],r=t[i];c(r)?bo(n,o,r):n.add(o,r)}return n};t=vo.prototype,t.add=function(t,e){_o(this),this.P=null,t=this.Y(t);var n=this.j.get(t);return n||this.j.set(t,n=[]),n.push(e),this.o=B(this.o)+1,this},t.remove=function(t){return _o(this),t=this.Y(t),!!this.j.Ab(t)&&(this.P=null,this.o=B(this.o)-this.j.get(t).length,this.j.remove(t))},t.clear=function(){this.j=this.P=null,this.o=0},t.Ab=function(t){return _o(this),t=this.Y(t),this.j.Ab(t)},t.forEach=function(t,e){_o(this),this.j.forEach(function(n,i){W(n,function(n){t.call(e,n,i,this)},this)},this)},t.pa=function(){_o(this);for(var t=this.j.da(),e=this.j.pa(),n=[],i=0;i<e.length;i++)for(var o=t[i],r=0;r<o.length;r++)n.push(e[i]);return n},t.da=function(t){_o(this);var e=[];if(o(t))this.Ab(t)&&(e=X(e,this.j.get(this.Y(t))));else{t=this.j.da();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return _o(this),this.P=null,t=this.Y(t),this.Ab(t)&&(this.o=B(this.o)-this.j.get(t).length),this.j.set(t,[e]),this.o=B(this.o)+1,this},t.get=function(t,e){return t=t?this.da(t):[],0<t.length?String(t[0]):e};var bo=function(t,e,n){t.remove(e),0<n.length&&(t.P=null,t.j.set(t.Y(e),Q(n)),t.o=B(t.o)+n.length)};vo.prototype.toString=function(){if(this.P)return this.P;if(!this.j)return"";for(var t=[],e=this.j.pa(),n=0;n<e.length;n++)for(var i=e[n],o=encodeURIComponent(String(i)),i=this.da(i),r=0;r<i.length;r++){var a=o;""!==i[r]&&(a+="="+encodeURIComponent(String(i[r]))),t.push(a)}return this.P=t.join("&")},vo.prototype.clone=function(){var t=new vo;return t.P=this.P,this.j&&(t.j=this.j.clone(),t.o=this.o),t},vo.prototype.Y=function(t){return t=String(t),this.Z&&(t=t.toLowerCase()),t},vo.prototype.Dd=function(t){t&&!this.Z&&(_o(this),this.P=null,this.j.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.remove(e),bo(this,n,t))},this)),this.Z=t};var wo=function(){var t=jo();return mt&&!!St&&11==St||/Edge\/\d+/.test(t)},To=function(){return i.window&&i.window.location.href||""},Eo=function(t,e){e=e||i.window;var n="about:blank";t&&(n=Ae(Ce(t))),e.location.href=n},So=function(t,e){var n,i=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?i.push(n):c(t[n])?st(t[n],e[n])||i.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<So(t[n],e[n]).length&&i.push(n):t[n]!==e[n]&&i.push(n):i.push(n);for(n in e)n in t||i.push(n);return i},ko=function(){var t=jo();return!((t="Chrome"!=Uo(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!mt||!St||9<St)},Lo=function(t){return t=(t||jo()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))},Ao=function(t){t=t||i.window;try{t.close()}catch(t){}},Po=function(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var o=(window.screen.availHeight-n)/2,r=(window.screen.availWidth-e)/2;e={width:e,height:n,top:0<o?o:0,left:0<r?r:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=jo().toLowerCase(),i&&(e.target=i,O(n,"crios/")&&(e.target="_blank")),"Firefox"==Uo(jo())&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"about:blank",(i=e)||(i={}),t=window,e=n instanceof Le?n:Ce(void 0!==n.href?n.href:String(n)),n=i.target||n.target,o=[];for(a in i)switch(a){case"width":case"height":case"top":case"left":o.push(a+"="+i[a]);break;case"target":case"noreferrer":break;default:o.push(a+"="+(i[a]?1:0))}var a=o.join(",");if((nt("iPhone")&&!nt("iPod")&&!nt("iPad")||nt("iPad")||nt("iPod"))&&t.navigator&&t.navigator.standalone&&n&&"_self"!=n?(a=t.document.createElement("A"),"undefined"!=typeof HTMLAnchorElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&N(a&&(a instanceof HTMLAnchorElement||!(a instanceof Location||a instanceof Element)),"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",an(a)),e=e instanceof Le?e:Ce(e),a.href=Ae(e),a.setAttribute("target",n),i.noreferrer&&a.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,t,1),a.dispatchEvent(i),a={}):i.noreferrer?(a=t.open("",n,a),i=Ae(e),a&&(vt&&O(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),a.opener=null,t=Te("b/12014412, meta tag with sanitized URL"),i='<META HTTP-EQUIV="refresh" content="0; url='+E(i)+'">',j(be(t),"must provide justification"),N(!/^[\s\xa0]*$/.test(be(t)),"must provide non-empty justification"),a.document.write(ln((new un).jf(i))),a.document.close())):a=t.open(Ae(e),n,a),a)try{a.focus()}catch(t){}return a},Co=function(t){return new bn(function(e){var n=function(){Ii(2e3).then(function(){if(t&&!t.closed)return n();e()})};return n()})},xo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oo=function(){var t=null;return new bn(function(e){"complete"==i.document.readyState?e():(t=function(){e()},ue(window,"load",t))}).f(function(e){throw le(window,"load",t),e})},Io=function(){return Do(void 0)?Oo().then(function(){return new bn(function(t,e){var n=i.document,o=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(o),t()},!1)})}):kn(Error("Cordova must run in an Android or iOS file scheme."))},Do=function(t){return t=t||jo(),!("file:"!==Zo()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))},Mo=function(){var t=i.window;try{return!(!t||t==t.top)}catch(t){return!1}},Ro=function(){return e.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.INTERNAL.hasOwnProperty("node")?"Node":"Browser"},No=function(){var t=Ro();return"ReactNative"===t||"Node"===t},Uo=function(t){var e=t.toLowerCase();return O(e,"opera/")||O(e,"opr/")||O(e,"opios/")?"Opera":O(e,"iemobile")?"IEMobile":O(e,"msie")||O(e,"trident/")?"IE":O(e,"edge/")?"Edge":O(e,"firefox/")?"Firefox":O(e,"silk/")?"Silk":O(e,"blackberry")?"Blackberry":O(e,"webos")?"Webos":!O(e,"safari/")||O(e,"chrome/")||O(e,"crios/")||O(e,"android")?!O(e,"chrome/")&&!O(e,"crios/")||O(e,"edge/")?O(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"},Bo=function(t){var e=Ro();return("Browser"===e?Uo(jo()):e)+"/JsCore/"+t},jo=function(){return i.navigator&&i.navigator.userAgent||""},Fo=function(t,e){t=t.split("."),e=e||i;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e},zo=function(){var t;if(t=(Wo()||"chrome-extension:"===Zo()||Do())&&!No())t:{try{var e=i.localStorage,n=Yo();if(e){e.setItem(n,"1"),e.removeItem(n),t=!wo()||!!i.indexedDB;break t}}catch(t){}t=!1}return t},Wo=function(){return"http:"===Zo()||"https:"===Zo()},Zo=function(){return i.location&&i.location.protocol||null},Go=function(t){return t=t||jo(),!Lo(t)&&"Firefox"!=Uo(t)},Vo=function(t){return void 0===t?null:Ie(t)},Ho=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n},qo=function(t){if(null!==t)return JSON.parse(t)},Yo=function(t){return t||""+Math.floor(1e9*Math.random()).toString()},Ko=function(t){return t=t||jo(),"Safari"!=Uo(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)},Jo=function(){var t=i.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null},Xo=function(){return!i.navigator||"boolean"!=typeof i.navigator.onLine||i.navigator.onLine},Qo=function(t,e,n,i){if(t>e)throw Error("Short delay should be less than long delay!");this.Nf=t,this.rf=e,t=n||jo(),i=i||Ro(),this.mf=Lo(t)||"ReactNative"===i};Qo.prototype.get=function(){return this.mf?this.rf:this.Nf};var $o,tr=function(){var t=i.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState},er=function(){var t=i.document,e=null;return tr()||!t?Sn():new bn(function(n){e=function(){tr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).f(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})},nr={};try{var ir={};Object.defineProperty(ir,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ir,"abcd",{configurable:!0,enumerable:!0,value:2}),$o=2==ir.abcd}catch(t){$o=!1}var or=function(t,e,n){$o?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n},rr=function(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&or(t,n,e[n])},ar=function(t){var e={};return rr(e,t),e},sr=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},ur=function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(void 0===i||null===i||""===i)return!1}return!0},lr=function(t){var e=t;if("object"==typeof t&&null!=t){var n,e="length"in t?[]:{};for(n in t)or(e,n,lr(t[n]))}return e},cr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),hr=["client_id","response_type","scope","redirect_uri","state"],fr={Xf:{Rb:500,Qb:600,providerId:"facebook.com",zd:hr},Yf:{Rb:500,Qb:620,providerId:"github.com",zd:hr},Zf:{Rb:515,Qb:680,providerId:"google.com",zd:hr},$f:{Rb:485,Qb:705,providerId:"twitter.com",zd:cr}},dr=function(t){for(var e in fr)if(fr[e].providerId==t)return fr[e];return null},pr=function(t,e){this.code="auth/"+t,this.message=e||gr[t]||""};y(pr,Error),pr.prototype.F=function(){return{code:this.code,message:this.message}},pr.prototype.toJSON=function(){return this.F()};var mr=function(t){var e=t&&t.code;return e?new pr(e.substring(5),t.message):null},gr={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-iframe-start":"An internal error has occurred.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The SMS quota for this project has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},vr=function(t,e,n,i,o){if(this.ha=t,this.R=e||null,this.vb=n||null,this.Cd=i||null,this.X=o||null,!this.vb&&!this.X)throw new pr("invalid-auth-event");if(this.vb&&this.X)throw new pr("invalid-auth-event");if(this.vb&&!this.Cd)throw new pr("invalid-auth-event")};vr.prototype.oc=function(){return this.Cd},vr.prototype.getError=function(){return this.X},vr.prototype.F=function(){return{type:this.ha,eventId:this.R,urlResponse:this.vb,sessionId:this.Cd,error:this.X&&this.X.F()}};var _r=function(t){return t=t||{},t.type?new vr(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&mr(t.error)):null},yr=function(t){var e="unauthorized-domain",n=void 0,i=ao(t);t=i.ia,i=i.ka,"chrome-extension"==i?n=w("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=w("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",pr.call(this,e,n)};y(yr,pr);var br=function(t){this.qf=t.sub,_(),this.mc=t.email||null},wr=function(t,e){return t.then(function(t){if(t.idToken){t:{var n=t.idToken.split(".");if(3==n.length){for(var n=n[1],i=(4-n.length%4)%4,o=0;o<i;o++)n+=".";try{var r=JSON.parse(It(n));if(r.sub&&r.iss&&r.aud&&r.exp){var a=new br(r);break t}}catch(t){}}a=null}if(!a||e!=a.qf)throw new pr("user-mismatch");return t}throw new pr("user-mismatch")}).f(function(t){throw t&&t.code&&"auth/user-not-found"==t.code?new pr("user-mismatch"):t})},Tr=function(t,e){if(e.idToken||e.accessToken)e.idToken&&or(this,"idToken",e.idToken),e.accessToken&&or(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new pr("internal-error","failed to construct a credential");or(this,"accessToken",e.oauthToken),or(this,"secret",e.oauthTokenSecret)}or(this,"providerId",t)};Tr.prototype.Eb=function(t){return fa(t,Er(this))},Tr.prototype.zc=function(t,e){var n=Er(this);return n.idToken=e,da(t,n)},Tr.prototype.od=function(t,e){var n=Er(this);return wr(pa(t,n),e)};var Er=function(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:yo(e).toString(),requestUri:"http://localhost"}};Tr.prototype.F=function(){var t={providerId:this.providerId};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t};var Sr=function(t,e){this.Df=e||[],rr(this,{providerId:t,isOAuthProvider:!0}),this.Td={}};Sr.prototype.setCustomParameters=function(t){return this.Td=ut(t),this};var kr=function(t){Sr.call(this,t,hr),this.Ad=[]};y(kr,Sr),kr.prototype.addScope=function(t){return q(this.Ad,t)||this.Ad.push(t),this},kr.prototype.ae=function(){return Q(this.Ad)},kr.prototype.credential=function(t,e){if(!t&&!e)throw new pr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Tr(this.providerId,{idToken:t||null,accessToken:e||null})};var Lr=function(){kr.call(this,"facebook.com")};y(Lr,kr),or(Lr,"PROVIDER_ID","facebook.com");var Ar=function(t){if(!t)throw new pr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new Lr).credential(null,e)},Pr=function(){kr.call(this,"github.com")};y(Pr,kr),or(Pr,"PROVIDER_ID","github.com");var Cr=function(t){if(!t)throw new pr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new Pr).credential(null,e)},xr=function(){kr.call(this,"google.com"),this.addScope("profile")};y(xr,kr),or(xr,"PROVIDER_ID","google.com");var Or=function(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new xr).credential(n,e)},Ir=function(){Sr.call(this,"twitter.com",cr)};y(Ir,Sr),or(Ir,"PROVIDER_ID","twitter.com");var Dr=function(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new pr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Tr("twitter.com",n)},Mr=function(t,e){this.mc=t,this.sd=e,or(this,"providerId","password")};Mr.prototype.Eb=function(t){return Fa(t,Na,{email:this.mc,password:this.sd})},Mr.prototype.zc=function(t,e){return Fa(t,xa,{idToken:e,email:this.mc,password:this.sd})},Mr.prototype.od=function(t,e){return wr(this.Eb(t),e)},Mr.prototype.F=function(){return{email:this.mc,password:this.sd}};var Rr=function(){rr(this,{providerId:"password",isOAuthProvider:!1})};rr(Rr,{PROVIDER_ID:"password"});var Nr=function(t){if(!(t.verificationId&&t.Tc||t.cc&&t.phoneNumber))throw new pr("internal-error");this.M=t,or(this,"providerId","phone")};Nr.prototype.Eb=function(t){return t.verifyPhoneNumber(Ur(this))},Nr.prototype.zc=function(t,e){var n=Ur(this);return n.idToken=e,Fa(t,Ba,n)},Nr.prototype.od=function(t,e){var n=Ur(this);return n.operation="REAUTH",t=Fa(t,ja,n),wr(t,e)},Nr.prototype.F=function(){var t={providerId:"phone"};return this.M.verificationId&&(t.verificationId=this.M.verificationId),this.M.Tc&&(t.verificationCode=this.M.Tc),this.M.cc&&(t.temporaryProof=this.M.cc),this.M.phoneNumber&&(t.phoneNumber=this.M.phoneNumber),t};var Ur=function(t){return t.M.cc&&t.M.phoneNumber?{temporaryProof:t.M.cc,phoneNumber:t.M.phoneNumber}:{sessionInfo:t.M.verificationId,code:t.M.Tc}},Br=function(t){try{this.Me=t||e.auth()}catch(t){throw new pr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}rr(this,{providerId:"phone",isOAuthProvider:!1})};Br.prototype.verifyPhoneNumber=function(t,e){var n=this.Me.g;return Sn(e.verify()).then(function(i){if(!o(i))throw new pr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return Fa(n,Pa,{phoneNumber:t,recaptchaToken:i});default:throw new pr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};var jr=function(t,e){if(!t)throw new pr("missing-verification-id");if(!e)throw new pr("missing-verification-code");return new Nr({verificationId:t,Tc:e})};rr(Br,{PROVIDER_ID:"phone"});var Fr=function(t){if(t.temporaryProof&&t.phoneNumber)return new Nr({cc:t.temporaryProof,phoneNumber:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return Or(t,n);case"facebook.com":return Ar(n);case"github.com":return Cr(n);case"twitter.com":return Dr(n,i);default:return new kr(e).credential(t,n)}}catch(t){return null}},zr=function(t){if(!t.isOAuthProvider)throw new pr("invalid-oauth-provider")},Wr=function(t,e,n){pr.call(this,t,n),t=e||{},t.email&&or(this,"email",t.email),t.phoneNumber&&or(this,"phoneNumber",t.phoneNumber),t.credential&&or(this,"credential",t.credential)};y(Wr,pr),Wr.prototype.F=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.F();return e&&ct(t,e),t},Wr.prototype.toJSON=function(){return this.F()};var Zr=function(t){if(t.code){var e=t.code||"";0==e.indexOf("auth/")&&(e=e.substring(5));var n={credential:Fr(t)};if(t.email)n.email=t.email;else{if(!t.phoneNumber)return new pr(e,t.message||void 0);n.phoneNumber=t.phoneNumber}return new Wr(e,n,t.message)}return null},Gr=function(t){this.Wf=t};y(Gr,Be),Gr.prototype.lc=function(){return new this.Wf},Gr.prototype.md=function(){return{}};var Vr,Hr=function(t,n,o){var r="Node"==Ro();if(!(r=i.XMLHttpRequest||r&&e.INTERNAL.node&&e.INTERNAL.node.XMLHttpRequest))throw new pr("internal-error","The XMLHttpRequest compatibility library was not found.");this.m=t,t=n||{},this.Jf=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.Kf=t.secureTokenTimeout||qr,this.se=ut(t.secureTokenHeaders||Yr),this.Ve=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.We=t.firebaseTimeout||Kr,this.Zd=ut(t.firebaseHeaders||Jr),o&&(this.Zd["X-Client-Version"]=o,this.se["X-Client-Version"]=o),this.Ne=new Ze,this.Vf=new Gr(r)},qr=new Qo(3e4,6e4),Yr={"Content-Type":"application/x-www-form-urlencoded"},Kr=new Qo(3e4,6e4),Jr={"Content-Type":"application/json"},Xr=function(t,e,n,i,o,r,a){Xo()?(ko()?t=g(t.Mf,t):(Vr||(Vr=new bn(function(t,e){$r(t,e)})),t=g(t.Lf,t)),t(e,n,i,o,r,a)):n&&n(null)};Hr.prototype.Mf=function(t,e,n,i,o,r){var a="Node"==Ro(),s=No()?a?new Ri(this.Vf):new Ri:new Ri(this.Ne);if(r){s.ub=Math.max(0,r);var u=setTimeout(function(){s.dispatchEvent("timeout")},r)}s.listen("complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(Ki(this))||null}catch(e){t=null}e&&e(t)}),yi(s,"ready",function(){u&&clearTimeout(u),this.Ha||(this.Ha=!0,this.gb())}),yi(s,"timeout",function(){u&&clearTimeout(u),this.Ha||(this.Ha=!0,this.gb()),e&&e(null)}),s.send(t,n,i,o)};var Qr="__fcb"+Math.floor(1e6*Math.random()).toString(),$r=function(t,e){((window.gapi||{}).client||{}).request?t():(i[Qr]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},qn(function(){e(Error("CORS_UNSUPPORTED"))}))};Hr.prototype.Lf=function(t,e,n,i,o){var r=this;Vr.then(function(){window.gapi.client.setApiKey(r.m);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:o,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).f(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})};var ta=function(t,e){return new bn(function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Xr(t,t.Jf+"?key="+encodeURIComponent(t.m),function(t){t?t.error?i(za(t)):t.access_token&&t.refresh_token?n(t):i(new pr("internal-error")):i(new pr("network-request-failed"))},"POST",yo(e).toString(),t.se,t.Kf.get()):i(new pr("internal-error"))})},ea=function(t,e,n,i,o,r){var a=ao(t.Ve+e);io(a,"key",t.m),r&&io(a,"cb",_().toString());var s="GET"==n;if(s)for(var u in i)i.hasOwnProperty(u)&&io(a,u,i[u]);return new bn(function(e,r){Xr(t,a.toString(),function(t){t?t.error?r(za(t,o||{})):e(t):r(new pr("network-request-failed"))},n,s?void 0:Ie(Ho(i)),t.Zd,t.We.get())})},na=function(t){if(!_e.test(t.email))throw new pr("invalid-email")},ia=function(t){"email"in t&&na(t)},oa=function(t,e){return Fa(t,ya,{identifier:e,continueUri:Wo()?To():"http://localhost"}).then(function(t){return t.allProviders||[]})},ra=function(t){return Fa(t,ka,{}).then(function(t){return t.authorizedDomains||[]})},aa=function(t){if(!t.idToken)throw new pr("internal-error")},sa=function(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new pr("internal-error")}else{if(!t.sessionInfo)throw new pr("missing-verification-id");if(!t.code)throw new pr("missing-verification-code")}};Hr.prototype.signInAnonymously=function(){return Fa(this,Oa,{})},Hr.prototype.updateEmail=function(t,e){return Fa(this,Ca,{idToken:t,email:e})},Hr.prototype.updatePassword=function(t,e){return Fa(this,xa,{idToken:t,password:e})};var ua={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};Hr.prototype.updateProfile=function(t,e){var n={idToken:t},i=[];return it(ua,function(t,o){var r=e[o];null===r?i.push(t):o in e&&(n[o]=r)}),i.length&&(n.deleteAttribute=i),Fa(this,Ca,n)},Hr.prototype.sendPasswordResetEmail=function(t){return Fa(this,Sa,{requestType:"PASSWORD_RESET",email:t})},Hr.prototype.sendEmailVerification=function(t){return Fa(this,Ea,{requestType:"VERIFY_EMAIL",idToken:t})},Hr.prototype.verifyPhoneNumber=function(t){return Fa(this,Ua,t)};var la=function(t,e,n){return Fa(t,wa,{idToken:e,deleteProvider:n})},ca=function(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new pr("internal-error")},ha=function(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Zr(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Zr(t)):"EMAIL_EXISTS"==t.errorMessage&&(t.code="email-already-in-use",e=Zr(t)),e)throw e;if(!t.idToken)throw new pr("internal-error")},fa=function(t,e){return e.returnIdpCredential=!0,Fa(t,Ia,e)},da=function(t,e){return e.returnIdpCredential=!0,Fa(t,Ma,e)},pa=function(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Fa(t,Da,e)},ma=function(t){if(!t.oobCode)throw new pr("invalid-action-code")};Hr.prototype.confirmPasswordReset=function(t,e){return Fa(this,Aa,{oobCode:t,newPassword:e})},Hr.prototype.checkActionCode=function(t){return Fa(this,va,{oobCode:t})},Hr.prototype.applyActionCode=function(t){return Fa(this,ga,{oobCode:t})};var ga={endpoint:"setAccountInfo",C:ma,Ya:"email"},va={endpoint:"resetPassword",C:ma,V:function(t){if(!t.email||!t.requestType)throw new pr("internal-error")}},_a={endpoint:"signupNewUser",C:function(t){if(na(t),!t.password)throw new pr("weak-password")},V:aa,ta:!0},ya={endpoint:"createAuthUri"},ba={endpoint:"deleteAccount",Wa:["idToken"]},wa={endpoint:"setAccountInfo",Wa:["idToken","deleteProvider"],C:function(t){if(!c(t.deleteProvider))throw new pr("internal-error")}},Ta={endpoint:"getAccountInfo"},Ea={endpoint:"getOobConfirmationCode",Wa:["idToken","requestType"],C:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new pr("internal-error")},Ya:"email"},Sa={endpoint:"getOobConfirmationCode",Wa:["requestType"],C:function(t){if("PASSWORD_RESET"!=t.requestType)throw new pr("internal-error");na(t)},Ya:"email"},ka={Md:!0,endpoint:"getProjectConfig",ee:"GET"},La={Md:!0,endpoint:"getRecaptchaParam",ee:"GET",V:function(t){if(!t.recaptchaSiteKey)throw new pr("internal-error")}},Aa={endpoint:"resetPassword",C:ma,Ya:"email"},Pa={endpoint:"sendVerificationCode",Wa:["phoneNumber","recaptchaToken"],Ya:"sessionInfo"},Ca={endpoint:"setAccountInfo",Wa:["idToken"],C:ia,ta:!0},xa={endpoint:"setAccountInfo",Wa:["idToken"],C:function(t){if(ia(t),!t.password)throw new pr("weak-password")},V:aa,ta:!0},Oa={endpoint:"signupNewUser",V:aa,ta:!0},Ia={endpoint:"verifyAssertion",C:ca,V:ha,ta:!0},Da={endpoint:"verifyAssertion",C:ca,V:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new pr("user-not-found");if(!t.idToken)throw new pr("internal-error")},ta:!0},Ma={endpoint:"verifyAssertion",C:function(t){if(ca(t),!t.idToken)throw new pr("internal-error")},V:ha,ta:!0},Ra={endpoint:"verifyCustomToken",C:function(t){if(!t.token)throw new pr("invalid-custom-token")},V:aa,ta:!0},Na={endpoint:"verifyPassword",C:function(t){if(na(t),!t.password)throw new pr("wrong-password")},V:aa,ta:!0},Ua={endpoint:"verifyPhoneNumber",C:sa,V:aa},Ba={endpoint:"verifyPhoneNumber",C:function(t){if(!t.idToken)throw new pr("internal-error");sa(t)},V:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Zr(t);aa(t)}},ja={Qe:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:sa,V:aa},Fa=function(t,e,n){if(!ur(n,e.Wa))return kn(new pr("internal-error"));var i,o=e.ee||"POST";return Sn(n).then(e.C).then(function(){return e.ta&&(n.returnSecureToken=!0),ea(t,e.endpoint,o,n,e.Qe,e.Md||!1)}).then(function(t){return i=t}).then(e.V).then(function(){if(!e.Ya)return i;if(!(e.Ya in i))throw new pr("internal-error");return i[e.Ya]})},za=function(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new pr(i[n]):null)return n;n=t.error&&t.error.message||"",i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired"},ct(i,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0;for(var o in i)if(0===n.indexOf(o))return new pr(i[o],e);return!e&&t&&(e=Vo(t)),new pr("internal-error",e)},Wa=function(t){this.aa=t};Wa.prototype.value=function(){return this.aa},Wa.prototype.ue=function(t){return this.aa.style=t,this};var Za=function(t){this.aa=t||{}};Za.prototype.value=function(){return this.aa},Za.prototype.ue=function(t){return this.aa.style=t,this};var Ga=function(t){this.Tf=t,this.tc=null,this.qd=Ha(this)},Va=function(t){var e=new Za;return e.aa.where=document.body,e.aa.url=t.Tf,e.aa.messageHandlersFilter=Fo("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),e.aa.attributes=e.aa.attributes||{},new Wa(e.aa.attributes).ue({position:"absolute",top:"-100px",width:"1px",height:"1px"}),e.aa.dontclear=!0,e},Ha=function(t){return Xa().then(function(){return new bn(function(e,n){Fo("gapi.iframes.getContext")().open(Va(t).value(),function(i){t.tc=i,t.tc.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},Ka.get()),r=function(){clearTimeout(o),e()};i.ping(r).then(r,function(){n(Error("Network Error"))})})})})};Ga.prototype.sendMessage=function(t){var e=this;return this.qd.then(function(){return new bn(function(n){e.tc.send(t.type,t,n,Fo("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})};var qa=function(t,e){t.qd.then(function(){t.tc.register("authEvent",e,Fo("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})},Ya=new Qo(3e4,6e4),Ka=new Qo(5e3,15e3),Ja=null,Xa=function(){return Ja||(Ja=new bn(function(t,e){if(Xo()){var n=function(){Jo(),Fo("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Jo(),e(Error("Network Error"))},timeout:Ya.get()})};if(Fo("gapi.iframes.Iframe"))t();else if(Fo("gapi.load"))n();else{var o="__iframefcb"+Math.floor(1e6*Math.random()).toString();i[o]=function(){Fo("gapi.load")?n():e(Error("Network Error"))},Sn(ei("https://apis.google.com/js/api.js?onload="+o)).f(function(){e(Error("Network Error"))})}}else e(Error("Network Error"))}).f(function(t){throw Ja=null,t}))},Qa=function(t,e,n){this.B=t,this.m=e,this.w=n,this.$a=null,this.fc=so(this.B,"/__/auth/iframe"),io(this.fc,"apiKey",this.m),io(this.fc,"appName",this.w)};Qa.prototype.Ed=function(t){return this.$a=t,this},Qa.prototype.toString=function(){return this.$a?io(this.fc,"v",this.$a):this.fc.removeParameter("v"),this.fc.toString()};var $a=function(t,e,n,i,o){this.B=t,this.m=e,this.w=n,this.Le=i,this.$a=this.R=this.yd=null,this.Ub=o};$a.prototype.Ed=function(t){return this.$a=t,this},$a.prototype.toString=function(){var t=so(this.B,"/__/auth/handler");if(io(t,"apiKey",this.m),io(t,"appName",this.w),io(t,"authType",this.Le),this.Ub.isOAuthProvider){io(t,"providerId",this.Ub.providerId);var e,n=this.Ub,i=Ho(n.Td);for(e in i)i[e]=i[e].toString();for(n=n.Df,i=ut(i),e=0;e<n.length;e++){var o=n[e];o in i&&delete i[o]}at(i)||io(t,"customParameters",Vo(i))}if("function"==typeof this.Ub.ae&&(n=this.Ub.ae(),n.length&&io(t,"scopes",n.join(","))),this.yd?io(t,"redirectUrl",this.yd):t.removeParameter("redirectUrl"),this.R?io(t,"eventId",this.R):t.removeParameter("eventId"),this.$a?io(t,"v",this.$a):t.removeParameter("v"),this.hc)for(var r in this.hc)this.hc.hasOwnProperty(r)&&!oo(t,r)&&io(t,r,this.hc[r]);return t.toString()};var ts=function(t,e,n,i){this.B=t,this.m=e,this.w=n,this.Ye=(this.Fa=i||null)?Bo(this.Fa):null,i=this.Fa,this.ff=new Qa(t,e,n).Ed(i).toString(),this.na=[],this.g=new Hr(e,null,this.Ye),this.vc=this.xa=null},es=function(t){var e=To();return ra(t).then(function(t){t:{for(var n=ao(e),i=n.ka,n=n.ia,o=0;o<t.length;o++){var r=t[o],a=n,s=i;if(0==r.indexOf("chrome-extension://")?a=ao(r).ia==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:xo.test(r)?a=a==r:(r=r.split(".").join("\\."),a=new RegExp("^(.+\\."+r+"|"+r+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new yr(To())})};t=ts.prototype,t.Kb=function(){if(this.vc)return this.vc;var t=this;return this.vc=Oo().then(function(){t.sc=new Ga(t.ff),is(t)})},t.$b=function(t,e,n){var i=new pr("popup-closed-by-user"),o=new pr("web-storage-unsupported"),r=this,a=!1;return this.Na().then(function(){os(r).then(function(n){n||(t&&Ao(t),e(o),a=!0)})}).f(function(){}).then(function(){if(!a)return Co(t)}).then(function(){if(!a)return Ii(n).then(function(){e(i)})})},t.ve=function(){var t=jo();return!Go(t)&&!Ko(t)},t.de=function(){return!1},t.Sb=function(t,e,n,i,o,r,a){if(!t)return kn(new pr("popup-blocked"));if(a&&!Go())return this.Na().f(function(e){Ao(t),o(e)}),i(),Sn();this.xa||(this.xa=es(this.g));var s=this;return this.xa.then(function(){var e=s.Na().f(function(e){throw Ao(t),o(e),e});return i(),e}).then(function(){if(zr(n),!a){var i=ns(s.B,s.m,s.w,e,n,null,r,s.Fa);Eo(i,t)}}).f(function(t){throw"auth/network-request-failed"==t.code&&(s.xa=null),t})},t.Tb=function(t,e,n){this.xa||(this.xa=es(this.g));var i=this;return this.xa.then(function(){zr(e);var o=ns(i.B,i.m,i.w,t,e,To(),n,i.Fa);Eo(o)})},t.Na=function(){var t=this;return this.Kb().then(function(){return t.sc.qd}).f(function(){throw t.xa=null,new pr("network-request-failed")})},t.ye=function(){return!0};var ns=function(t,e,n,i,o,r,a,s,u){return t=new $a(t,e,n,i,o),t.yd=r,t.R=a,r=t.Ed(s),r.hc=ut(u||null),r.toString()},is=function(t){if(!t.sc)throw Error("IfcHandler must be initialized!");qa(t.sc,function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=_r(e.authEvent),n=0;n<t.na.length;n++)i=t.na[n](e)||i;return n={},n.status=i?"ACK":"ERROR",Sn(n)}return n.status="ERROR",Sn(n)})},os=function(t){var e={type:"webStorageSupport"};return t.Kb().then(function(){return t.sc.sendMessage(e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})};ts.prototype.cb=function(t){this.na.push(t)},ts.prototype.Yb=function(t){J(this.na,function(e){return e==t})};var rs=function(t,n,o){if(or(this,"type","recaptcha"),this.Uc=this.zb=null,this.Bb=!1,this.Rd=t,this.ya=n||{theme:"light",type:"image"},this.G=[],this.ya.sitekey)throw new pr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.wc="invisible"===this.ya.size,!fn(t)||!this.wc&&fn(t).hasChildNodes())throw new pr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");try{this.h=o||e.app()}catch(t){throw new pr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.h.options||!this.h.options.apiKey)throw new pr("invalid-api-key");t=e.SDK_VERSION?Bo(e.SDK_VERSION):null,this.g=new Hr(this.h.options&&this.h.options.apiKey,null,t);var r=this;this.Pc=[];var a=this.ya.callback;this.ya.callback=function(t){if(r.Cb(t),"function"==typeof a)a(t);else if("string"==typeof a){var e=Fo(a,i);"function"==typeof e&&e(t)}};var s=this.ya["expired-callback"];this.ya["expired-callback"]=function(){if(r.Cb(null),"function"==typeof s)s();else if("string"==typeof s){var t=Fo(s,i);"function"==typeof t&&t()}}};rs.prototype.Cb=function(t){for(var e=0;e<this.Pc.length;e++)try{this.Pc[e](t)}catch(t){}};var as=function(t,e){J(t.Pc,function(t){return t==e})};rs.prototype.b=function(t){var e=this;return this.G.push(t),Pn(t,function(){Y(e.G,t)}),t},rs.prototype.Lb=function(){var t=this;return this.zb?this.zb:this.zb=this.b(Sn().then(function(){if(Wo())return Oo();throw new pr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return us()}).then(function(){return Fa(t.g,La,{})}).then(function(e){t.ya.sitekey=e.recaptchaSiteKey}).f(function(e){throw t.zb=null,e}))},rs.prototype.render=function(){ss(this);var t=this;return this.b(this.Lb().then(function(){if(null===t.Uc){var e=t.Rd;if(!t.wc){var n=fn(e),e=mn("DIV");n.appendChild(e)}t.Uc=grecaptcha.render(e,t.ya)}return t.Uc}))},rs.prototype.verify=function(){ss(this);var t=this;return this.b(this.render().then(function(e){return new bn(function(n){var i=grecaptcha.getResponse(e);if(i)n(i);else{var o=function(e){e&&(as(t,o),n(e))};t.Pc.push(o),t.wc&&grecaptcha.execute(t.Uc)}})}))};var ss=function(t){if(t.Bb)throw new pr("internal-error","RecaptchaVerifier instance has been destroyed.")};rs.prototype.clear=function(){ss(this),this.Bb=!0;for(var t=0;t<this.G.length;t++)this.G[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.wc)for(var e,t=fn(this.Rd);e=t.firstChild;)t.removeChild(e)};var us=function(){return new bn(function(t,e){if(Xo())if(i.grecaptcha)t();else{var n="__rcb"+Math.floor(1e6*Math.random()).toString();i[n]=function(){i.grecaptcha?t():e(new pr("internal-error")),delete i[n]},Sn(ei("https://www.google.com/recaptcha/api.js?onload="+n+"&render=explicit")).f(function(){e(new pr("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else e(new pr("network-request-failed"))})},ls=function(t){if(this.D=t||e.INTERNAL.reactNative&&e.INTERNAL.reactNative.AsyncStorage,!this.D)throw new pr("internal-error","The React Native compatibility library was not found.")};t=ls.prototype,t.get=function(t){return Sn(this.D.getItem(t)).then(function(t){return t&&qo(t)})},t.set=function(t,e){return Sn(this.D.setItem(t,Vo(e)))},t.remove=function(t){return Sn(this.D.removeItem(t))},t.eb=function(){},t.Va=function(){};var cs=function(){this.D={}};t=cs.prototype,t.get=function(t){return Sn(this.D[t])},t.set=function(t,e){return this.D[t]=e,Sn()},t.remove=function(t){return delete this.D[t],Sn()},t.eb=function(){},t.Va=function(){};var hs=function(){if(!fs()){if("Node"==Ro())throw new pr("internal-error","The LocalStorage compatibility library was not found.");throw new pr("web-storage-unsupported")}this.D=i.localStorage||e.INTERNAL.node.localStorage},fs=function(){var t="Node"==Ro(),t=i.localStorage||t&&e.INTERNAL.node&&e.INTERNAL.node.localStorage;if(!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}};t=hs.prototype,t.get=function(t){var e=this;return Sn().then(function(){var n=e.D.getItem(t);return qo(n)})},t.set=function(t,e){var n=this;return Sn().then(function(){var i=Vo(e);null===i?n.remove(t):n.D.setItem(t,i)})},t.remove=function(t){var e=this;return Sn().then(function(){e.D.removeItem(t)})},t.eb=function(t){i.window&&re(i.window,"storage",t)},t.Va=function(t){i.window&&le(i.window,"storage",t)};var ds=function(){this.D={}};t=ds.prototype,t.get=function(){return Sn(null)},t.set=function(){return Sn()},t.remove=function(){return Sn()},t.eb=function(){},t.Va=function(){};var ps=function(){if(!ms()){if("Node"==Ro())throw new pr("internal-error","The SessionStorage compatibility library was not found.");throw new pr("web-storage-unsupported")}this.D=i.sessionStorage||e.INTERNAL.node.sessionStorage},ms=function(){var t="Node"==Ro(),t=i.sessionStorage||t&&e.INTERNAL.node&&e.INTERNAL.node.sessionStorage;if(!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}};t=ps.prototype,t.get=function(t){var e=this;return Sn().then(function(){var n=e.D.getItem(t);return qo(n)})},t.set=function(t,e){var n=this;return Sn().then(function(){var i=Vo(e);null===i?n.remove(t):n.D.setItem(t,i)})},t.remove=function(t){var e=this;return Sn().then(function(){e.D.removeItem(t)})},t.eb=function(){},t.Va=function(){};var gs,vs=function(t,e,n,o,r,a){if(!window.indexedDB)throw new pr("web-storage-unsupported");this.Re=t,this.pd=e,this.bd=n,this.Ce=o,this.ab=r,this.$={},this.ac=[],this.Ob=0,this.gf=a||i.indexedDB},_s=function(t){return new bn(function(e,n){var i=t.gf.open(t.Re,t.ab);i.onerror=function(t){n(Error(t.target.errorCode))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore(t.pd,{keyPath:t.bd})}catch(t){n(t)}},i.onsuccess=function(t){e(t.target.result)}})},ys=function(t){return t.he||(t.he=_s(t)),t.he},bs=function(t,e){return e.objectStore(t.pd)},ws=function(t,e,n){return e.transaction([t.pd],n?"readwrite":"readonly")},Ts=function(t){return new bn(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})};t=vs.prototype,t.set=function(t,e){var n,i=!1,o=this;return Pn(ys(this).then(function(e){return n=e,e=bs(o,ws(o,n,!0)),Ts(e.get(t))}).then(function(r){var a=bs(o,ws(o,n,!0));return r?(r.value=e,Ts(a.put(r))):(o.Ob++,i=!0,r={},r[o.bd]=t,r[o.Ce]=e,Ts(a.add(r)))}).then(function(){o.$[t]=e}),function(){i&&o.Ob--})},t.get=function(t){var e=this;return ys(this).then(function(n){return Ts(bs(e,ws(e,n,!1)).get(t))}).then(function(t){return t&&t.value})},t.remove=function(t){var e=!1,n=this;return Pn(ys(this).then(function(i){return e=!0,n.Ob++,Ts(bs(n,ws(n,i,!0)).delete(t))}).then(function(){delete n.$[t]}),function(){e&&n.Ob--})},t.Pf=function(){var t=this;return ys(this).then(function(e){var n=bs(t,ws(t,e,!1));return n.getAll?Ts(n.getAll()):new bn(function(t,e){var i=[],o=n.openCursor();o.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},o.onerror=function(t){e(Error(t.target.errorCode))}})}).then(function(e){var n={},i=[];if(0==t.Ob){for(i=0;i<e.length;i++)n[e[i][t.bd]]=e[i][t.Ce];i=So(t.$,n),t.$=n}return i})},t.eb=function(t){0==this.ac.length&&this.Gd(),this.ac.push(t)},t.Va=function(t){J(this.ac,function(e){return e==t}),0==this.ac.length&&this.Lc()},t.Gd=function(){var t=this;this.Lc();var e=function(){return t.td=Ii(800).then(g(t.Pf,t)).then(function(e){0<e.length&&W(t.ac,function(t){t(e)})}).then(e).f(function(t){"STOP_EVENT"!=t.message&&e()}),t.td};e()},t.Lc=function(){this.td&&this.td.cancel("STOP_EVENT")};var Es,Ss=function(){this.Vd={Browser:ks,Node:Ls,ReactNative:As}[Ro()]},ks={U:hs,Jd:ps},Ls={U:hs,Jd:ps},As={U:ls,Jd:ds},Ps=function(t,e){this.Pe=e,or(this,"verificationId",t)};Ps.prototype.confirm=function(t){return t=jr(this.verificationId,t),this.Pe(t)};var Cs=function(t,e,n,i){return new Br(t).verifyPhoneNumber(e,n).then(function(t){return new Ps(t,i)})},xs=function(t){var e={},n=t.email,i=t.newEmail;if(t=t.requestType,!n||!t)throw Error("Invalid provider user info!");e.fromEmail=i||null,e.email=n,or(this,"operation",t),or(this,"data",lr(e))},Os=function(t,e,n,i,o,r){if(this.yf=t,this.Ff=e,this.$e=n,this.Ac=i,this.Kd=o,this.Gf=!!r,this.mb=null,this.Oa=this.Ac,this.Kd<this.Ac)throw Error("Proactive refresh lower bound greater than upper bound!")};Os.prototype.start=function(){this.Oa=this.Ac,Ds(this,!0)};var Is=function(t,e){return e?(t.Oa=t.Ac,t.$e()):(e=t.Oa,t.Oa*=2,t.Oa>t.Kd&&(t.Oa=t.Kd),e)},Ds=function(t,e){t.stop(),t.mb=Ii(Is(t,e)).then(function(){return t.Gf?Sn():er()}).then(function(){return t.yf()}).then(function(){Ds(t,!0)}).f(function(e){t.Ff(e)&&Ds(t,!1)})};Os.prototype.stop=function(){this.mb&&(this.mb.cancel(),this.mb=null)};var Ms=function(t){var e={};e["facebook.com"]=Ns,e["google.com"]=Bs,e["github.com"]=Us,e["twitter.com"]=js;var n=t&&t.providerId;return n?e[n]?new e[n](t):new Rs(t):null},Rs=function(t){var e=qo(t.rawUserInfo||"{}");if(!(t=t.providerId))throw Error("Invalid additional user info!");or(this,"profile",lr(e||{})),or(this,"providerId",t)},Ns=function(t){if(Rs.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider id!")};y(Ns,Rs);var Us=function(t){if(Rs.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider id!");or(this,"username",this.profile&&this.profile.login||null)};y(Us,Rs);var Bs=function(t){if(Rs.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider id!")};y(Bs,Rs);var js=function(t){if(Rs.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider id!");or(this,"username",t.screenName||null)};y(js,Rs);var Fs,zs=function(t,e,n,i){this.ke=t,this.Bd=e,this.Hf=n,this.Zb=i,this.S={},Es||(Es=new Ss),t=Es;try{if(wo()){gs||(gs=new vs("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1));var o=gs}else o=new t.Vd.U;this.Sa=o}catch(t){this.Sa=new cs,this.Zb=!0}try{this.Nc=new t.Vd.Jd}catch(t){this.Nc=new cs}this.Hd=g(this.we,this),this.$={}},Ws=function(){return Fs||(Fs=new zs("firebase",":",!(Ko(jo())||!Mo()),Go())),Fs};t=zs.prototype,t.Y=function(t,e){return this.ke+this.Bd+t.name+(e?this.Bd+e:"")},t.get=function(t,e){return(t.U?this.Sa:this.Nc).get(this.Y(t,e))},t.remove=function(t,e){return e=this.Y(t,e),t.U&&!this.Zb&&(this.$[e]=null),(t.U?this.Sa:this.Nc).remove(e)},t.set=function(t,e,n){var i=this.Y(t,n),o=this,r=t.U?this.Sa:this.Nc;return r.set(i,e).then(function(){return r.get(i)}).then(function(e){t.U&&!this.Zb&&(o.$[i]=e)})},t.addListener=function(t,e,n){t=this.Y(t,e),this.Zb||(this.$[t]=i.localStorage.getItem(t)),at(this.S)&&this.Gd(),this.S[t]||(this.S[t]=[]),this.S[t].push(n)},t.removeListener=function(t,e,n){t=this.Y(t,e),this.S[t]&&(J(this.S[t],function(t){return t==n}),0==this.S[t].length&&delete this.S[t]),at(this.S)&&this.Lc()},t.Gd=function(){this.Sa.eb(this.Hd),this.Zb||wo()||Zs(this)};var Zs=function(t){Gs(t),t.nd=setInterval(function(){for(var e in t.S){var n=i.localStorage.getItem(e),o=t.$[e];n!=o&&(t.$[e]=n,n=new Yt({type:"storage",key:e,target:window,oldValue:o,newValue:n,oe:!0}),t.we(n))}},1e3)},Gs=function(t){t.nd&&(clearInterval(t.nd),t.nd=null)};zs.prototype.Lc=function(){this.Sa.Va(this.Hd),Gs(this)},zs.prototype.we=function(t){if(t&&t.Ze){var e=t.Ia.key;if(0==e.indexOf(this.ke+this.Bd)&&this.S[e]){if(void 0!==t.Ia.oe?this.Sa.Va(this.Hd):Gs(this),this.Hf){var n=i.localStorage.getItem(e),o=t.Ia.newValue;if(o!==n)null!==o?i.localStorage.setItem(e,o):i.localStorage.removeItem(e);else if(this.$[e]===o&&void 0===t.Ia.oe)return}this.$[e]=i.localStorage.getItem(e),this.Od(e)}}else W(t,g(this.Od,this))},zs.prototype.Od=function(t){this.S[t]&&W(this.S[t],function(t){t()})};var Vs=function(t,e){this.v=t,this.l=e||Ws()},Hs={name:"authEvent",U:!0},qs=function(t){return t.l.get(Hs,t.v).then(function(t){return _r(t)})};Vs.prototype.cb=function(t){this.l.addListener(Hs,this.v,t)},Vs.prototype.Yb=function(t){this.l.removeListener(Hs,this.v,t)};var Ys=function(t){this.l=t||Ws()},Ks={name:"sessionId",U:!1};Ys.prototype.oc=function(t){return this.l.get(Ks,t)};var Js=function(t,e,n,i,o,r){this.B=t,this.m=e,this.w=n,this.Fa=i||null,this.xe=e+":"+n,this.If=new Ys,this.$d=new Vs(this.xe),this.ld=null,this.na=[],this.lf=o||500,this.Bf=r||2e3,this.Jb=this.Dc=null},Xs=function(t){return new pr("invalid-cordova-configuration",t)};Js.prototype.Na=function(){return this.Lb?this.Lb:this.Lb=Io().then(function(){if("function"!=typeof Fo("universalLinks.subscribe",i))throw Xs("cordova-universal-links-plugin is not installed");if(void 0===Fo("BuildInfo.packageName",i))throw Xs("cordova-plugin-buildinfo is not installed");if("function"!=typeof Fo("cordova.plugins.browsertab.openUrl",i))throw Xs("cordova-plugin-browsertab is not installed");if("function"!=typeof Fo("cordova.InAppBrowser.open",i))throw Xs("cordova-plugin-inappbrowser is not installed")},function(){throw new pr("cordova-not-ready")})};var Qs=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")},$s=function(t){var e=new Wt;return e.update(t),$(e.digest())};t=Js.prototype,t.$b=function(t,e){return e(new pr("operation-not-supported-in-this-environment")),Sn()},t.Sb=function(){return kn(new pr("operation-not-supported-in-this-environment"))},t.ye=function(){return!1},t.ve=function(){return!0},t.de=function(){return!0},t.Tb=function(t,e,n){if(this.Dc)return kn(new pr("redirect-operation-pending"));var o=this,r=i.document,a=null,s=null,u=null,l=null;return this.Dc=Pn(Sn().then(function(){return zr(e),eu(o)}).then(function(){return tu(o,t,e,n)}).then(function(){return new bn(function(t,e){s=function(){var e=Fo("cordova.plugins.browsertab.close",i);return t(),"function"==typeof e&&e(),o.Jb&&"function"==typeof o.Jb.close&&(o.Jb.close(),o.Jb=null),!1},o.cb(s),u=function(){a||(a=Ii(o.Bf).then(function(){e(new pr("redirect-cancelled-by-user"))}))},l=function(){tr()&&u()},r.addEventListener("resume",u,!1),jo().toLowerCase().match(/android/)||r.addEventListener("visibilitychange",l,!1)}).f(function(t){return nu(o).then(function(){throw t})})}),function(){u&&r.removeEventListener("resume",u,!1),l&&r.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&o.Yb(s),o.Dc=null})};var tu=function(t,e,n,o){var r=Qs(),a=new vr(e,o,null,r,new pr("no-auth-event")),s=Fo("BuildInfo.packageName",i);if("string"!=typeof s)throw new pr("invalid-cordova-configuration");var u=Fo("BuildInfo.displayName",i),l={};if(jo().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!jo().toLowerCase().match(/android/))return kn(new pr("operation-not-supported-in-this-environment"));l.apn=s}u&&(l.appDisplayName=u),r=$s(r),l.sessionId=r;var c=ns(t.B,t.m,t.w,e,n,null,o,t.Fa,l);return t.Na().then(function(){var e=t.xe;return t.If.l.set(Hs,a.F(),e)}).then(function(){var e=Fo("cordova.plugins.browsertab.isAvailable",i);if("function"!=typeof e)throw new pr("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Fo("cordova.plugins.browsertab.openUrl",i)))throw new pr("invalid-cordova-configuration");n(c)}else{if("function"!=typeof(n=Fo("cordova.InAppBrowser.open",i)))throw new pr("invalid-cordova-configuration");e=n;var o=jo();o=!(!o.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!o.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.Jb=e(c,o?"_blank":"_system","location=yes")}})})};Js.prototype.Cb=function(t){for(var e=0;e<this.na.length;e++)try{this.na[e](t)}catch(t){}};var eu=function(t){return t.ld||(t.ld=t.Na().then(function(){return new bn(function(e){var n=function(i){return e(i),t.Yb(n),!1};t.cb(n),iu(t)})})),t.ld},nu=function(t){var e=null;return qs(t.$d).then(function(n){return e=n,n=t.$d,n.l.remove(Hs,n.v)}).then(function(){return e})},iu=function(t){var e=Fo("universalLinks.subscribe",i);if("function"!=typeof e)throw new pr("invalid-cordova-configuration");var n=new vr("unknown",null,null,null,new pr("no-auth-event")),o=!1,r=Ii(t.lf).then(function(){return nu(t).then(function(){o||t.Cb(n)})}),a=function(e){o=!0,r&&r.cancel(),nu(t).then(function(i){var o=n;if(i&&e&&e.url){var o=null,r=e.url,a=ao(r),s=oo(a,"link"),u=oo(ao(s),"link"),a=oo(a,"deep_link_id");r=oo(ao(a),"link")||a||u||s||r,-1!=r.indexOf("/__/auth/callback")&&(o=ao(r),o=qo(oo(o,"firebaseError")||null),o=(o="object"==typeof o?mr(o):null)?new vr(i.ha,i.R,null,null,o):new vr(i.ha,i.R,r,i.oc())),o=o||n}t.Cb(o)})},s=i.handleOpenURL;i.handleOpenURL=function(t){if(0==t.indexOf(Fo("BuildInfo.packageName",i)+"://")&&a({url:t}),"function"==typeof s)try{s(t)}catch(t){console.error(t)}},e(null,a)};Js.prototype.cb=function(t){this.na.push(t),eu(this).f(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new vr("unknown",null,null,null,new pr("no-auth-event")),t(e))})},Js.prototype.Yb=function(t){J(this.na,function(e){return e==t})};var ou=function(t){this.v=t,this.l=Ws()},ru={name:"pendingRedirect",U:!1},au=function(t){return t.l.set(ru,"pending",t.v)},su=function(t){return t.l.remove(ru,t.v)},uu=function(t){return t.l.get(ru,t.v).then(function(t){return"pending"==t})},lu=function(t,e,n){this.B=t,this.m=e,this.w=n,this.bc=[],this.kb=!1,this.Yc=g(this.hd,this),this.Ta=new vu(this),this.ud=new Eu(this),this.Pb=new ou(this.m+":"+this.w),this.Ba={},this.Ba.unknown=this.Ta,this.Ba.signInViaRedirect=this.Ta,this.Ba.linkViaRedirect=this.Ta,this.Ba.reauthViaRedirect=this.Ta,this.Ba.signInViaPopup=this.ud,this.Ba.linkViaPopup=this.ud,this.Ba.reauthViaPopup=this.ud,this.T=cu(this.B,this.m,this.w)},cu=function(t,n,i){var o=e.SDK_VERSION||null;return Do()?new Js(t,n,i,o):new ts(t,n,i,o)};lu.prototype.reset=function(){this.kb=!1,this.T.Yb(this.Yc),this.T=cu(this.B,this.m,this.w)},lu.prototype.Kb=function(){var t=this;this.kb||(this.kb=!0,this.T.cb(this.Yc));var e=this.T;return this.T.Na().f(function(n){throw t.T==e&&t.reset(),n})};var hu=function(t){t.T.ve()&&t.Kb().f(function(e){var n=new vr("unknown",null,null,null,new pr("operation-not-supported-in-this-environment"));pu(e)&&t.hd(n)}),t.T.de()||_u(t.Ta)};lu.prototype.subscribe=function(t){if(q(this.bc,t)||this.bc.push(t),!this.kb){var e=this;uu(this.Pb).then(function(t){t?su(e.Pb).then(function(){e.Kb().f(function(t){var n=new vr("unknown",null,null,null,new pr("operation-not-supported-in-this-environment"));pu(t)&&e.hd(n)})}):hu(e)}).f(function(){hu(e)})}},lu.prototype.unsubscribe=function(t){J(this.bc,function(e){return e==t})},lu.prototype.hd=function(t){if(!t)throw new pr("invalid-auth-event");for(var e=!1,n=0;n<this.bc.length;n++){var i=this.bc[n];if(i.Pd(t.ha,t.R)){(e=this.Ba[t.ha])&&e.pe(t,i),e=!0;break}}return _u(this.Ta),e};var fu=new Qo(2e3,1e4),du=new Qo(3e4,6e4);lu.prototype.getRedirectResult=function(){return this.Ta.getRedirectResult()},lu.prototype.Sb=function(t,e,n,i,o){var r=this;return this.T.Sb(t,e,n,function(){r.kb||(r.kb=!0,r.T.cb(r.Yc))},function(){r.reset()},i,o)};var pu=function(t){return!(!t||"auth/cordova-not-ready"!=t.code)};lu.prototype.Tb=function(t,e,n){var i,o=this;return au(this.Pb).then(function(){return o.T.Tb(t,e,n).f(function(t){if(pu(t))throw new pr("operation-not-supported-in-this-environment");return i=t,su(o.Pb).then(function(){throw i})}).then(function(){return o.T.ye()?new bn(function(){}):su(o.Pb).then(function(){return o.getRedirectResult()}).then(function(){}).f(function(){})})})},lu.prototype.$b=function(t,e,n,i){return this.T.$b(n,function(n){t.Xa(e,null,n,i)},fu.get())};var mu={},gu=function(t,e,n){var i=e+":"+n;return mu[i]||(mu[i]=new lu(t,e,n)),mu[i]},vu=function(t){this.l=t,this.sb=null,this.Wb=[],this.Vb=[],this.qb=null,this.xd=!1};vu.prototype.reset=function(){this.sb=null,this.qb&&(this.qb.cancel(),this.qb=null)},vu.prototype.pe=function(t,e){if(!t)return kn(new pr("invalid-auth-event"));this.reset(),this.xd=!0;var n=t.ha,i=t.R,o=t.getError()&&"auth/web-storage-unsupported"==t.getError().code,r=t.getError()&&"auth/operation-not-supported-in-this-environment"==t.getError().code;return"unknown"!=n||o||r?t=t.X?this.vd(t,e):e.Db(n,i)?this.wd(t,e):kn(new pr("invalid-auth-event")):(wu(this,!1,null,null),t=Sn()),t};var _u=function(t){t.xd||(t.xd=!0,wu(t,!1,null,null))};vu.prototype.vd=function(t){return wu(this,!0,null,t.getError()),Sn()},vu.prototype.wd=function(t,e){var n=this;e=e.Db(t.ha,t.R);var i=t.vb,o=t.oc(),r=!!t.ha.match(/Redirect$/);return e(i,o).then(function(t){wu(n,r,t,null)}).f(function(t){wu(n,r,null,t)})};var yu=function(t,e){if(t.sb=function(){return kn(e)},t.Vb.length)for(var n=0;n<t.Vb.length;n++)t.Vb[n](e)},bu=function(t,e){if(t.sb=function(){return Sn(e)},t.Wb.length)for(var n=0;n<t.Wb.length;n++)t.Wb[n](e)},wu=function(t,e,n,i){e?i?yu(t,i):bu(t,n):bu(t,{user:null}),t.Wb=[],t.Vb=[]};vu.prototype.getRedirectResult=function(){var t=this;return new bn(function(e,n){t.sb?t.sb().then(e,n):(t.Wb.push(e),t.Vb.push(n),Tu(t))})};var Tu=function(t){var e=new pr("timeout");t.qb&&t.qb.cancel(),t.qb=Ii(du.get()).then(function(){t.sb||wu(t,!0,null,e)})},Eu=function(t){this.l=t};Eu.prototype.pe=function(t,e){if(!t)return kn(new pr("invalid-auth-event"));var n=t.ha,i=t.R;return t.X?this.vd(t,e):e.Db(n,i)?this.wd(t,e):kn(new pr("invalid-auth-event"))},Eu.prototype.vd=function(t,e){return e.Xa(t.ha,null,t.getError(),t.R),Sn()},Eu.prototype.wd=function(t,e){var n=t.R,i=t.ha,o=e.Db(i,n),r=t.vb;return t=t.oc(),o(r,t).then(function(t){e.Xa(i,t,null,n)}).f(function(t){e.Xa(i,null,t,n)})};var Su=function(t){this.g=t,this.Ca=this.ca=null,this.Ja=0};Su.prototype.F=function(){return{apiKey:this.g.m,refreshToken:this.ca,accessToken:this.Ca,expirationTime:this.Ja}};var ku=function(t,e){var n=e.idToken,i=e.refreshToken;e=Lu(e.expiresIn),t.Ca=n,t.Ja=e,t.ca=i},Lu=function(t){return _()+1e3*parseInt(t,10)},Au=function(t,e){return ta(t.g,e).then(function(e){return t.Ca=e.access_token,t.Ja=Lu(e.expires_in),t.ca=e.refresh_token,{accessToken:t.Ca,expirationTime:t.Ja,refreshToken:t.ca}}).f(function(e){throw"auth/user-token-expired"==e.code&&(t.ca=null),e})};Su.prototype.getToken=function(t){return t=!!t,this.Ca&&!this.ca?kn(new pr("user-token-expired")):t||!this.Ca||_()>this.Ja-3e4?this.ca?Au(this,{grant_type:"refresh_token",refresh_token:this.ca}):Sn(null):Sn({accessToken:this.Ca,expirationTime:this.Ja,refreshToken:this.ca})};var Pu=function(t,e,n,i,o){rr(this,{uid:t,displayName:i||null,photoURL:o||null,email:n||null,providerId:e})},Cu=function(t,e){qt.call(this,t);for(var n in e)this[n]=e[n]};y(Cu,qt);var xu=function(t,n,i){this.G=[],this.m=t.apiKey,this.w=t.appName,this.B=t.authDomain||null,t=e.SDK_VERSION?Bo(e.SDK_VERSION):null,this.g=new Hr(this.m,null,t),this.la=new Su(this.g),Ru(this,n.idToken),ku(this.la,n),or(this,"refreshToken",this.la.ca),ju(this,i||{}),_i.call(this),this.Ec=!1,this.B&&zo()&&(this.s=gu(this.B,this.m,this.w)),this.Kc=[],this.ma=null,this.ob=Iu(this),this.xb=g(this.jd,this)};y(xu,_i),xu.prototype.jd=function(){this.ob.mb&&(this.ob.stop(),this.ob.start())};var Ou=function(t){try{return e.app(t.w).auth()}catch(e){throw new pr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.w+"'!")}},Iu=function(t){return new Os(function(){return t.getIdToken(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.la.Ja-_()-3e5;return 0<e?e:0},3e4,96e4,!1)},Du=function(t){t.Bb||t.ob.mb||(t.ob.start(),le(t,"tokenChanged",t.xb),re(t,"tokenChanged",t.xb))},Mu=function(t){le(t,"tokenChanged",t.xb),t.ob.stop()},Ru=function(t,e){t.ie=e,or(t,"_lat",e)},Nu=function(t,e){J(t.Kc,function(t){return t==e})},Uu=function(t){for(var e=[],n=0;n<t.Kc.length;n++)e.push(t.Kc[n](t));return An(e).then(function(){return t})},Bu=function(t){t.s&&!t.Ec&&(t.Ec=!0,t.s.subscribe(t))},ju=function(t,e){rr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,providerData:[]})};or(xu.prototype,"providerId","firebase");var Fu=function(){},zu=function(t){return Sn().then(function(){if(t.Bb)throw new pr("app-deleted")})},Wu=function(t){return G(t.providerData,function(t){return t.providerId})},Zu=function(t,e){e&&(Gu(t,e.providerId),t.providerData.push(e))},Gu=function(t,e){J(t.providerData,function(t){return t.providerId==e})},Vu=function(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&or(t,e,n)};xu.prototype.copy=function(t){var e=this;e!=t&&(rr(this,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,providerData:[]}),W(t.providerData,function(t){Zu(e,t)}),this.la=t.la,or(this,"refreshToken",this.la.ca))},xu.prototype.reload=function(){var t=this;return this.b(zu(this).then(function(){return Hu(t).then(function(){return Uu(t)}).then(Fu)}))};var Hu=function(t){return t.getIdToken().then(function(e){var n=t.isAnonymous;return Yu(t,e).then(function(){return n||Vu(t,"isAnonymous",!1),e})})};xu.prototype.getIdToken=function(t){var e=this;return this.b(zu(this).then(function(){return e.la.getToken(t)}).then(function(t){if(!t)throw new pr("internal-error");return t.accessToken!=e.ie&&(Ru(e,t.accessToken),e.Pa()),Vu(e,"refreshToken",t.refreshToken),t.accessToken}))},xu.prototype.getToken=function(t){return nr["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(nr["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.getIdToken(t)};var qu=function(t,e){e.idToken&&t.ie!=e.idToken&&(ku(t.la,e),t.Pa(),Ru(t,e.idToken),Vu(t,"refreshToken",t.la.ca))};xu.prototype.Pa=function(){this.dispatchEvent(new Cu("tokenChanged"))};var Yu=function(t,e){return Fa(t.g,Ta,{idToken:e}).then(g(t.zf,t))};xu.prototype.zf=function(t){if(!(t=t.users)||!t.length)throw new pr("internal-error");t=t[0],ju(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber});for(var e=Ku(t),n=0;n<e.length;n++)Zu(this,e[n]);Vu(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))};var Ku=function(t){return(t=t.providerUserInfo)&&t.length?G(t,function(t){return new Pu(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl)}):[]};xu.prototype.reauthenticateAndRetrieveDataWithCredential=function(t){var e=this,n=null;return this.b(t.od(this.g,this.uid).then(function(t){return qu(e,t),n=Xu(e,t,"reauthenticate"),e.ma=null,e.reload()}).then(function(){return n}),!0)},xu.prototype.reauthenticateWithCredential=function(t){return this.reauthenticateAndRetrieveDataWithCredential(t).then(function(){})};var Ju=function(t,e){return Hu(t).then(function(){if(q(Wu(t),e))return Uu(t).then(function(){throw new pr("provider-already-linked")})})};xu.prototype.linkAndRetrieveDataWithCredential=function(t){var e=this,n=null;return this.b(Ju(this,t.providerId).then(function(){return e.getIdToken()}).then(function(n){return t.zc(e.g,n)}).then(function(t){return n=Xu(e,t,"link"),Qu(e,t)}).then(function(){return n}))},xu.prototype.linkWithCredential=function(t){return this.linkAndRetrieveDataWithCredential(t).then(function(t){return t.user})},xu.prototype.linkWithPhoneNumber=function(t,e){var n=this;return this.b(Ju(this,"phone").then(function(){return Cs(Ou(n),t,e,g(n.linkAndRetrieveDataWithCredential,n))}))},xu.prototype.reauthenticateWithPhoneNumber=function(t,e){var n=this;return this.b(Sn().then(function(){return Cs(Ou(n),t,e,g(n.reauthenticateAndRetrieveDataWithCredential,n))}),!0)};var Xu=function(t,e,n){var i=Fr(e);return e=Ms(e),ar({user:t,credential:i,additionalUserInfo:e,operationType:n})},Qu=function(t,e){return qu(t,e),t.reload().then(function(){return t})};t=xu.prototype,t.updateEmail=function(t){var e=this;return this.b(this.getIdToken().then(function(n){return e.g.updateEmail(n,t)}).then(function(t){return qu(e,t),e.reload()}))},t.updatePhoneNumber=function(t){var e=this;return this.b(this.getIdToken().then(function(n){return t.zc(e.g,n)}).then(function(t){return qu(e,t),e.reload()}))},t.updatePassword=function(t){var e=this;return this.b(this.getIdToken().then(function(n){return e.g.updatePassword(n,t)}).then(function(t){return qu(e,t),e.reload()}))},t.updateProfile=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return zu(this);var e=this;return this.b(this.getIdToken().then(function(n){return e.g.updateProfile(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return qu(e,t),Vu(e,"displayName",t.displayName||null),Vu(e,"photoURL",t.photoUrl||null),W(e.providerData,function(t){"password"===t.providerId&&(or(t,"displayName",e.displayName),or(t,"photoURL",e.photoURL))}),Uu(e)}).then(Fu))},t.unlink=function(t){var e=this;return this.b(Hu(this).then(function(n){return q(Wu(e),t)?la(e.g,n,[t]).then(function(t){var n={};return W(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),W(Wu(e),function(t){n[t]||Gu(e,t)}),n[Br.PROVIDER_ID]||or(e,"phoneNumber",null),Uu(e)}):Uu(e).then(function(){throw new pr("no-such-provider")})}))},t.delete=function(){var t=this;return this.b(this.getIdToken().then(function(e){return Fa(t.g,ba,{idToken:e})}).then(function(){t.dispatchEvent(new Cu("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");t.G=[],t.Bb=!0,Mu(t),or(t,"refreshToken",null),t.s&&t.s.unsubscribe(t)})},t.Pd=function(t,e){return!!("linkViaPopup"==t&&(this.ga||null)==e&&this.fa||"reauthViaPopup"==t&&(this.ga||null)==e&&this.fa||"linkViaRedirect"==t&&(this.Aa||null)==e||"reauthViaRedirect"==t&&(this.Aa||null)==e)},t.Xa=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.ga||null)||(n&&this.Ra?this.Ra(n):e&&!n&&this.fa&&this.fa(e),this.I&&(this.I.cancel(),this.I=null),delete this.fa,delete this.Ra)},t.Db=function(t,e){return"linkViaPopup"==t&&e==(this.ga||null)?g(this.Xd,this):"reauthViaPopup"==t&&e==(this.ga||null)?g(this.Yd,this):"linkViaRedirect"==t&&(this.Aa||null)==e?g(this.Xd,this):"reauthViaRedirect"==t&&(this.Aa||null)==e?g(this.Yd,this):null},t.nc=function(){return Yo(this.uid+":::")},t.linkWithPopup=function(t){var e=this;return $u(this,"linkViaPopup",t,function(){return Ju(e,t.providerId).then(function(){return Uu(e)})},!1)},t.reauthenticateWithPopup=function(t){return $u(this,"reauthViaPopup",t,function(){return Sn()},!0)};var $u=function(t,n,i,o,r){if(!zo())return kn(new pr("operation-not-supported-in-this-environment"));if(t.ma&&!r)return kn(t.ma);var a=dr(i.providerId),s=t.nc(),u=null;(!Go()||Mo())&&t.B&&i.isOAuthProvider&&(u=ns(t.B,t.m,t.w,n,i,null,s,e.SDK_VERSION||null));var l=Po(u,a&&a.Rb,a&&a.Qb);return o=o().then(function(){if(el(t),!r)return t.getIdToken().then(function(){})}).then(function(){return t.s.Sb(l,n,i,s,!!u)}).then(function(){return new bn(function(e,i){t.Xa(n,null,new pr("cancelled-popup-request"),t.ga||null),t.fa=e,t.Ra=i,t.ga=s,t.I=t.s.$b(t,n,l,s)})}).then(function(t){return l&&Ao(l),t?ar(t):null}).f(function(t){throw l&&Ao(l),t}),t.b(o,r)};xu.prototype.linkWithRedirect=function(t){var e=this;return tl(this,"linkViaRedirect",t,function(){return Ju(e,t.providerId)},!1)},xu.prototype.reauthenticateWithRedirect=function(t){return tl(this,"reauthViaRedirect",t,function(){return Sn()},!0)};var tl=function(t,e,n,i,o){if(!zo())return kn(new pr("operation-not-supported-in-this-environment"));if(t.ma&&!o)return kn(t.ma);var r=null,a=t.nc();return i=i().then(function(){if(el(t),!o)return t.getIdToken().then(function(){})}).then(function(){return t.Aa=a,Uu(t)}).then(function(e){return t.Ua&&(e=t.Ua,e=e.l.set(al,t.F(),e.v)),e}).then(function(){return t.s.Tb(e,n,a)}).f(function(e){if(r=e,t.Ua)return sl(t.Ua);throw r}).then(function(){if(r)throw r}),t.b(i,o)},el=function(t){if(!t.s||!t.Ec){if(t.s&&!t.Ec)throw new pr("internal-error");throw new pr("auth-domain-config-required")}};xu.prototype.Xd=function(t,e){var n=this;this.I&&(this.I.cancel(),this.I=null);var i=null,o=this.getIdToken().then(function(i){return da(n.g,{requestUri:t,sessionId:e,idToken:i})}).then(function(t){return i=Xu(n,t,"link"),Qu(n,t)}).then(function(){return i});return this.b(o)},xu.prototype.Yd=function(t,e){var n=this;this.I&&(this.I.cancel(),this.I=null);var i=null,o=Sn().then(function(){return wr(pa(n.g,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return i=Xu(n,t,"reauthenticate"),qu(n,t),n.ma=null,n.reload()}).then(function(){return i});return this.b(o,!0)},xu.prototype.sendEmailVerification=function(){var t=this;return this.b(this.getIdToken().then(function(e){return t.g.sendEmailVerification(e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},xu.prototype.b=function(t,e){var n=this,i=nl(this,t,e);return this.G.push(i),Pn(i,function(){Y(n.G,i)}),i};var nl=function(t,e,n){return t.ma&&!n?(e.cancel(),kn(t.ma)):e.f(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.ma||t.dispatchEvent(new Cu("userInvalidated")),t.ma=e),e})};xu.prototype.toJSON=function(){return this.F()},xu.prototype.F=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.m,appName:this.w,authDomain:this.B,stsTokenManager:this.la.F(),redirectEventId:this.Aa||null};return W(this.providerData,function(e){t.providerData.push(sr(e))}),t};var il=function(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n.idToken=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-_())/1e3;var i=new xu(e,n,t);return t.providerData&&W(t.providerData,function(t){t&&Zu(i,ar(t))}),t.redirectEventId&&(i.Aa=t.redirectEventId),i},ol=function(t,e,n){var i=new xu(t,e);return n&&(i.Ua=n),i.reload().then(function(){return i})},rl=function(t){this.v=t,this.l=Ws()},al={name:"redirectUser",U:!1},sl=function(t){return t.l.remove(al,t.v)},ul=function(t,e){return t.l.get(al,t.v).then(function(t){return t&&e&&(t.authDomain=e),il(t||{})})},ll=function(t){this.v=t,this.l=Ws()},cl={name:"authUser",U:!0},hl=function(t,e){return t.l.set(cl,e.F(),t.v)},fl=function(t){return t.l.remove(cl,t.v)},dl=function(t,e){return t.l.get(cl,t.v).then(function(t){return t&&e&&(t.authDomain=e),il(t||{})})},pl=function(t){if(this.Ga=!1,or(this,"app",t),!this.h().options||!this.h().options.apiKey)throw new pr("invalid-api-key");t=e.SDK_VERSION?Bo(e.SDK_VERSION):null,this.g=new Hr(this.h().options&&this.h().options.apiKey,null,t),this.G=[],this.Da=[],this.wb=[],this.vf=e.INTERNAL.createSubscribe(g(this.hf,this)),this.gc=void 0,this.xf=e.INTERNAL.createSubscribe(g(this.kf,this)),_l(this,null),t=this.h().options.apiKey;var n=this.h().name;this.ua=new ll(t+":"+n),t=this.h().options.apiKey,n=this.h().name,this.rb=new rl(t+":"+n),this.ic=this.b(bl(this)),this.ra=this.b(wl(this)),this.xc=!1,this.gd=g(this.Of,this),this.Be=g(this.ib,this),this.xb=g(this.jd,this),this.ze=g(this.df,this),this.Ae=g(this.ef,this),gl(this),this.INTERNAL={},this.INTERNAL.delete=g(this.delete,this),this.Ka=0};pl.prototype.toJSON=function(){return{apiKey:this.h().options.apiKey,authDomain:this.h().options.authDomain,appName:this.h().name,currentUser:El(this)&&El(this).F()}};var ml=function(t){return t.Se||kn(new pr("auth-domain-config-required"))},gl=function(t){var e=t.h().options.authDomain,n=t.h().options.apiKey;e&&zo()&&(t.Se=t.ic.then(function(){if(!t.Ga)return t.s=gu(e,n,t.h().name),t.s.subscribe(t),El(t)&&Bu(El(t)),t.Xb&&(Bu(t.Xb),t.Xb=null),t.s}))};t=pl.prototype,t.Pd=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.ga==e&&!!this.fa;default:return!1}},t.Xa=function(t,e,n,i){"signInViaPopup"==t&&this.ga==i&&(n&&this.Ra?this.Ra(n):e&&!n&&this.fa&&this.fa(e),this.I&&(this.I.cancel(),this.I=null),delete this.fa,delete this.Ra)},t.Db=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.ga==e&&this.fa?g(this.Ue,this):null},t.Ue=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.I&&(this.I.cancel(),this.I=null);var i=null,o=null,r=fa(n.g,t).then(function(t){return i=Fr(t),o=Ms(t),t});return t=n.ic.then(function(){return r}).then(function(t){return vl(n,t)}).then(function(){return ar({user:El(n),credential:i,additionalUserInfo:o,operationType:"signIn"})}),this.b(t)},t.nc=function(){return Yo()},t.signInWithPopup=function(t){if(!zo())return kn(new pr("operation-not-supported-in-this-environment"));var n=this,i=dr(t.providerId),o=this.nc(),r=null;(!Go()||Mo())&&this.h().options.authDomain&&t.isOAuthProvider&&(r=ns(this.h().options.authDomain,this.h().options.apiKey,this.h().name,"signInViaPopup",t,null,o,e.SDK_VERSION||null));var a=Po(r,i&&i.Rb,i&&i.Qb),i=ml(this).then(function(e){return e.Sb(a,"signInViaPopup",t,o,!!r)}).then(function(){return new bn(function(t,e){n.Xa("signInViaPopup",null,new pr("cancelled-popup-request"),n.ga),n.fa=t,n.Ra=e,n.ga=o,n.I=n.s.$b(n,"signInViaPopup",a,o)})}).then(function(t){return a&&Ao(a),t?ar(t):null}).f(function(t){throw a&&Ao(a),t});return this.b(i)},t.signInWithRedirect=function(t){if(!zo())return kn(new pr("operation-not-supported-in-this-environment"));var e=this,n=ml(this).then(function(){return e.s.Tb("signInViaRedirect",t)});return this.b(n)},t.getRedirectResult=function(){if(!zo())return kn(new pr("operation-not-supported-in-this-environment"));var t=this,e=ml(this).then(function(){return t.s.getRedirectResult()}).then(function(t){return t?ar(t):null});return this.b(e)};var vl=function(t,e){var n={};return n.apiKey=t.h().options.apiKey,n.authDomain=t.h().options.authDomain,n.appName=t.h().name,t.ic.then(function(){return ol(n,e,t.rb)}).then(function(e){return El(t)&&e.uid==El(t).uid?(El(t).copy(e),t.ib(e)):(_l(t,e),Bu(e),t.ib(e))}).then(function(){t.Pa()})},_l=function(t,e){El(t)&&(Nu(El(t),t.Be),le(El(t),"tokenChanged",t.xb),le(El(t),"userDeleted",t.ze),le(El(t),"userInvalidated",t.Ae),Mu(El(t))),e&&(e.Kc.push(t.Be),re(e,"tokenChanged",t.xb),re(e,"userDeleted",t.ze),re(e,"userInvalidated",t.Ae),0<t.Ka&&Du(e)),or(t,"currentUser",e)};pl.prototype.signOut=function(){var t=this,e=this.ra.then(function(){return El(t)?(_l(t,null),fl(t.ua).then(function(){t.Pa()})):Sn()});return this.b(e)};var yl=function(t){var e=t.h().options.authDomain,e=ul(t.rb,e).then(function(e){return(t.Xb=e)&&(e.Ua=t.rb),sl(t.rb)});return t.b(e)},bl=function(t){var e=t.h().options.authDomain,n=yl(t).then(function(){return dl(t.ua,e)}).then(function(e){return e?(e.Ua=t.rb,t.Xb&&(t.Xb.Aa||null)==(e.Aa||null)?e:e.reload().then(function(){return hl(t.ua,e).then(function(){return e})}).f(function(n){return"auth/network-request-failed"==n.code?e:fl(t.ua)})):null}).then(function(e){_l(t,e||null)});return t.b(n)},wl=function(t){return t.ic.then(function(){return t.getRedirectResult()}).f(function(){}).then(function(){if(!t.Ga)return t.gd()}).f(function(){}).then(function(){if(!t.Ga){t.xc=!0;var e=t.ua;e.l.addListener(cl,e.v,t.gd)}})};t=pl.prototype,t.Of=function(){var t=this,e=this.h().options.authDomain;return dl(this.ua,e).then(function(e){if(!t.Ga){var n;if(n=El(t)&&e){n=El(t).uid;var i=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==i&&null!==i&&""!==i&&n==i}if(n)return El(t).copy(e),El(t).getIdToken();(El(t)||e)&&(_l(t,e),e&&(Bu(e),e.Ua=t.rb),t.s&&t.s.subscribe(t),t.Pa())}})},t.ib=function(t){return hl(this.ua,t)},t.jd=function(){this.Pa(),this.ib(El(this))},t.df=function(){this.signOut()},t.ef=function(){this.signOut()};var Tl=function(t,e){var n=null,i=null;return t.b(e.then(function(e){return n=Fr(e),i=Ms(e),vl(t,e)}).then(function(){return ar({user:El(t),credential:n,additionalUserInfo:i,operationType:"signIn"})}))};t=pl.prototype,t.hf=function(t){var e=this;this.addAuthTokenListener(function(){t.next(El(e))})},t.kf=function(t){var e=this;kl(this,function(){t.next(El(e))})},t.onIdTokenChanged=function(t,n,i){var o=this;return this.xc&&e.Promise.resolve().then(function(){f(t)?t(El(o)):f(t.next)&&t.next(El(o))}),this.vf(t,n,i)},t.onAuthStateChanged=function(t,n,i){var o=this;return this.xc&&e.Promise.resolve().then(function(){o.gc=o.getUid(),f(t)?t(El(o)):f(t.next)&&t.next(El(o))}),this.xf(t,n,i)},t.getIdToken=function(t){var e=this,n=this.ra.then(function(){return El(e)?El(e).getIdToken(t).then(function(t){return{accessToken:t}}):null});return this.b(n)},t.signInWithCustomToken=function(t){var e=this;return this.ra.then(function(){return Tl(e,Fa(e.g,Ra,{token:t}))}).then(function(t){return t=t.user,Vu(t,"isAnonymous",!1),e.ib(t)}).then(function(){return El(e)})},t.signInWithEmailAndPassword=function(t,e){var n=this;return this.ra.then(function(){return Tl(n,Fa(n.g,Na,{email:t,password:e}))}).then(function(t){return t.user})},t.createUserWithEmailAndPassword=function(t,e){var n=this;return this.ra.then(function(){return Tl(n,Fa(n.g,_a,{email:t,password:e}))}).then(function(t){return t.user})},t.signInWithCredential=function(t){return this.signInAndRetrieveDataWithCredential(t).then(function(t){return t.user})},t.signInAndRetrieveDataWithCredential=function(t){var e=this;return this.ra.then(function(){return Tl(e,t.Eb(e.g))})},t.signInAnonymously=function(){var t=this;return this.ra.then(function(){var e=El(t);return e&&e.isAnonymous?e:Tl(t,t.g.signInAnonymously()).then(function(e){return e=e.user,Vu(e,"isAnonymous",!0),t.ib(e)}).then(function(){return El(t)})})},t.h=function(){return this.app};var El=function(t){return t.currentUser};pl.prototype.getUid=function(){return El(this)&&El(this).uid||null};var Sl=function(t){return El(t)&&El(t)._lat||null};t=pl.prototype,t.Pa=function(){if(this.xc){for(var t=0;t<this.Da.length;t++)this.Da[t]&&this.Da[t](Sl(this));if(this.gc!==this.getUid()&&this.wb.length)for(this.gc=this.getUid(),t=0;t<this.wb.length;t++)this.wb[t]&&this.wb[t](Sl(this))}},t.Ke=function(t){this.addAuthTokenListener(t),0<++this.Ka&&El(this)&&Du(El(this))},t.Cf=function(t){var e=this;W(this.Da,function(n){n==t&&e.Ka--}),0>this.Ka&&(this.Ka=0),0==this.Ka&&El(this)&&Mu(El(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.Da.push(t),this.b(this.ra.then(function(){e.Ga||q(e.Da,t)&&t(Sl(e))}))},t.removeAuthTokenListener=function(t){J(this.Da,function(e){return e==t})};var kl=function(t,e){t.wb.push(e),t.b(t.ra.then(function(){!t.Ga&&q(t.wb,e)&&t.gc!==t.getUid()&&(t.gc=t.getUid(),e(Sl(t)))}))};t=pl.prototype,t.delete=function(){this.Ga=!0;for(var t=0;t<this.G.length;t++)this.G[t].cancel("app-deleted");return this.G=[],this.ua&&(t=this.ua,t.l.removeListener(cl,t.v,this.gd)),this.s&&this.s.unsubscribe(this),e.Promise.resolve()},t.b=function(t){var e=this;return this.G.push(t),Pn(t,function(){Y(e.G,t)}),t},t.fetchProvidersForEmail=function(t){return this.b(oa(this.g,t))},t.verifyPasswordResetCode=function(t){return this.checkActionCode(t).then(function(t){return t.data.email})},t.confirmPasswordReset=function(t,e){return this.b(this.g.confirmPasswordReset(t,e).then(function(){}))},t.checkActionCode=function(t){return this.b(this.g.checkActionCode(t).then(function(t){return new xs(t)}))},t.applyActionCode=function(t){return this.b(this.g.applyActionCode(t).then(function(){}))},t.sendPasswordResetEmail=function(t){return this.b(this.g.sendPasswordResetEmail(t).then(function(){}))},t.signInWithPhoneNumber=function(t,e){return this.b(Cs(this,t,e,g(this.signInAndRetrieveDataWithCredential,this)))};var Ll="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),Al=function(t,e){return{name:t||"",N:"a valid string",optional:!!e,O:o}},Pl=function(){return{name:"opt_forceRefresh",N:"a boolean",optional:!0,O:r}},Cl=function(t,e){return{name:t||"",N:"a valid object",optional:!!e,O:d}},xl=function(t,e){return{name:t||"",N:"a function",optional:!!e,O:f}},Ol=function(){return{name:"",N:"null",optional:!1,O:l}},Il=function(){return{name:"",N:"an HTML element",optional:!1,O:function(t){return!!(t&&t instanceof Element)}}},Dl=function(){return{name:"auth",N:"an instance of Firebase Auth",optional:!0,O:function(t){return!!(t&&t instanceof pl)}}},Ml=function(){return{name:"app",N:"an instance of Firebase App",optional:!0,O:function(t){return!!(t&&t instanceof e.app.App)}}},Rl=function(t){return{name:t?t+"Credential":"credential",N:t?"a valid "+t+" credential":"a valid credential",optional:!1,O:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.Eb||!n)}}},Nl=function(){return{name:"authProvider",N:"a valid Auth provider",optional:!1,O:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}},Ul=function(){return{name:"applicationVerifier",N:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,O:function(t){return!!(t&&o(t.type)&&f(t.verify))}}},Bl=function(t,e,n,i){return{name:n||"",N:t.N+" or "+e.N,optional:!!i,O:function(n){return t.O(n)||e.O(n)}}},jl=function(t,e){for(var n in e){var i=e[n].name;t[i]=zl(i,t[n],e[n].a)}},Fl=function(t,e,n,i){t[e]=zl(e,n,i)},zl=function(t,e,n){if(!n)return e;var i=Wl(t);t=function(){var t=Array.prototype.slice.call(arguments);t:{for(var o=Array.prototype.slice.call(t),r=0,a=!1,s=0;s<n.length;s++)if(n[s].optional)a=!0;else{if(a)throw new pr("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(a=n.length,o.length<r||a<o.length)o="Expected "+(r==a?1==r?"1 argument":r+" arguments":r+"-"+a+" arguments")+" but got "+o.length+".";else{for(r=0;r<o.length;r++)if(a=n[r].optional&&void 0===o[r],!n[r].O(o[r])&&!a){if(o=n[r],0>r||r>=Ll.length)throw new pr("internal-error","Argument validator received an unsupported number of arguments.");o=Ll[r]+" argument "+(o.name?'"'+o.name+'" ':"")+"must be "+o.N+".";break t}o=null}}if(o)throw new pr("argument-error",i+" failed: "+o);return e.apply(this,t)};for(var o in e)t[o]=e[o];for(o in e.prototype)t.prototype[o]=e.prototype[o];return t},Wl=function(t){return t=t.split("."),t[t.length-1]};jl(pl.prototype,{applyActionCode:{name:"applyActionCode",a:[Al("code")]},checkActionCode:{name:"checkActionCode",a:[Al("code")]},confirmPasswordReset:{name:"confirmPasswordReset",a:[Al("code"),Al("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",a:[Al("email"),Al("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",a:[Al("email")]},getRedirectResult:{name:"getRedirectResult",a:[]},onAuthStateChanged:{name:"onAuthStateChanged",a:[Bl(Cl(),xl(),"nextOrObserver"),xl("opt_error",!0),xl("opt_completed",!0)]},onIdTokenChanged:{name:"onIdTokenChanged",a:[Bl(Cl(),xl(),"nextOrObserver"),xl("opt_error",!0),xl("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",a:[Al("email")]},signInAndRetrieveDataWithCredential:{name:"signInAndRetrieveDataWithCredential",a:[Rl()]},signInAnonymously:{name:"signInAnonymously",a:[]},signInWithCredential:{name:"signInWithCredential",a:[Rl()]},signInWithCustomToken:{name:"signInWithCustomToken",a:[Al("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",a:[Al("email"),Al("password")]},signInWithPhoneNumber:{name:"signInWithPhoneNumber",a:[Al("phoneNumber"),Ul()]},signInWithPopup:{name:"signInWithPopup",a:[Nl()]},signInWithRedirect:{name:"signInWithRedirect",a:[Nl()]},signOut:{name:"signOut",a:[]},toJSON:{name:"toJSON",a:[Al(null,!0)]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",a:[Al("code")]}}),jl(xu.prototype,{delete:{name:"delete",a:[]},getIdToken:{name:"getIdToken",a:[Pl()]},getToken:{name:"getToken",a:[Pl()]},linkAndRetrieveDataWithCredential:{name:"linkAndRetrieveDataWithCredential",a:[Rl()]},linkWithCredential:{name:"linkWithCredential",a:[Rl()]},linkWithPhoneNumber:{name:"linkWithPhoneNumber",a:[Al("phoneNumber"),Ul()]},linkWithPopup:{name:"linkWithPopup",a:[Nl()]},linkWithRedirect:{name:"linkWithRedirect",a:[Nl()]},reauthenticateAndRetrieveDataWithCredential:{name:"reauthenticateAndRetrieveDataWithCredential",a:[Rl()]},reauthenticateWithCredential:{name:"reauthenticateWithCredential",a:[Rl()]},reauthenticateWithPhoneNumber:{name:"reauthenticateWithPhoneNumber",a:[Al("phoneNumber"),Ul()]},reauthenticateWithPopup:{name:"reauthenticateWithPopup",a:[Nl()]},reauthenticateWithRedirect:{name:"reauthenticateWithRedirect",a:[Nl()]},reload:{name:"reload",a:[]},sendEmailVerification:{name:"sendEmailVerification",a:[]},toJSON:{name:"toJSON",a:[Al(null,!0)]},unlink:{name:"unlink",a:[Al("provider")]},updateEmail:{name:"updateEmail",a:[Al("email")]},updatePassword:{name:"updatePassword",a:[Al("password")]},updatePhoneNumber:{name:"updatePhoneNumber",a:[Rl("phone")]},updateProfile:{name:"updateProfile",a:[Cl("profile")]}}),jl(bn.prototype,{f:{name:"catch"},then:{name:"then"}}),jl(Ps.prototype,{confirm:{name:"confirm",a:[Al("verificationCode")]}}),Fl(Rr,"credential",function(t,e){return new Mr(t,e)},[Al("email"),Al("password")]),jl(Lr.prototype,{addScope:{name:"addScope",a:[Al("scope")]},setCustomParameters:{name:"setCustomParameters",a:[Cl("customOAuthParameters")]}}),Fl(Lr,"credential",Ar,[Bl(Al(),Cl(),"token")]),jl(Pr.prototype,{addScope:{name:"addScope",a:[Al("scope")]},setCustomParameters:{name:"setCustomParameters",a:[Cl("customOAuthParameters")]}}),Fl(Pr,"credential",Cr,[Bl(Al(),Cl(),"token")]),jl(xr.prototype,{addScope:{name:"addScope",a:[Al("scope")]},setCustomParameters:{name:"setCustomParameters",a:[Cl("customOAuthParameters")]}}),Fl(xr,"credential",Or,[Bl(Al(),Bl(Cl(),Ol()),"idToken"),Bl(Al(),Ol(),"accessToken",!0)]),jl(Ir.prototype,{setCustomParameters:{name:"setCustomParameters",a:[Cl("customOAuthParameters")]}}),Fl(Ir,"credential",Dr,[Bl(Al(),Cl(),"token"),Al("secret",!0)]),jl(kr.prototype,{addScope:{name:"addScope",a:[Al("scope")]},credential:{name:"credential",a:[Bl(Al(),Ol(),"idToken",!0),Bl(Al(),Ol(),"accessToken",!0)]},setCustomParameters:{name:"setCustomParameters",a:[Cl("customOAuthParameters")]}}),Fl(Br,"credential",jr,[Al("verificationId"),Al("verificationCode")]),jl(Br.prototype,{verifyPhoneNumber:{name:"verifyPhoneNumber",a:[Al("phoneNumber"),Ul()]}}),jl(pr.prototype,{toJSON:{name:"toJSON",a:[Al(null,!0)]}}),jl(Wr.prototype,{toJSON:{name:"toJSON",a:[Al(null,!0)]}}),jl(yr.prototype,{toJSON:{name:"toJSON",a:[Al(null,!0)]}}),jl(rs.prototype,{clear:{name:"clear",a:[]},render:{name:"render",a:[]},verify:{name:"verify",a:[]}}),function(){if(void 0===e||!e.INTERNAL||!e.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:pl,Error:pr};Fl(t,"EmailAuthProvider",Rr,[]),Fl(t,"FacebookAuthProvider",Lr,[]),Fl(t,"GithubAuthProvider",Pr,[]),Fl(t,"GoogleAuthProvider",xr,[]),Fl(t,"TwitterAuthProvider",Ir,[]),Fl(t,"OAuthProvider",kr,[Al("providerId")]),Fl(t,"PhoneAuthProvider",Br,[Dl()]),Fl(t,"RecaptchaVerifier",rs,[Bl(Al(),Il(),"recaptchaContainer"),Cl("recaptchaParameters",!0),Ml()]),e.INTERNAL.registerService("auth",function(t,e){return t=new pl(t),e({INTERNAL:{getUid:g(t.getUid,t),getToken:g(t.getIdToken,t),addAuthTokenListener:g(t.Ke,t),removeAuthTokenListener:g(t.Cf,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),e.INTERNAL.extendNamespace({User:xu})}()}).call(this)}).call(void 0!==typeof t?t:void 0!==typeof self?self:void 0!==typeof window?window:{})}).call(e,n(122))},function(module,exports,__webpack_require__){/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/

---

typedarray.js
Copyright (c) 2010, Linden Research, Inc.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE. */
!function(){function n(t){return void 0!==t}function ba(){}function ca(t){t.Vb=function(){return t.Ye?t.Ye:t.Ye=new t}}function da(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function ea(t){return"array"==da(t)}function fa(t){var e=da(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"string"==typeof t}function ga(t){return"number"==typeof t}function ha(t){return"function"==da(t)}function ia(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ja(t,e,n){return t.call.apply(t.bind,arguments)}function ka(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function q(t,e,n){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,q.apply(null,arguments)}function la(t,e){function n(){}n.prototype=e.prototype,t.wg=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.sg=function(t,n,i){for(var o=Array(arguments.length-2),r=2;r<arguments.length;r++)o[r-2]=arguments[r];return e.prototype[n].apply(t,o)}}function ma(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(t){}throw Error("Invalid JSON string: "+a)}function na(){this.Fd=void 0}function oa(t,e,n){switch(typeof e){case"string":pa(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"undefined":n.push("null");break;case"object":if(null==e){n.push("null");break}if(ea(e)){var i=e.length;n.push("[");for(var o="",r=0;r<i;r++)n.push(o),o=e[r],oa(t,t.Fd?t.Fd.call(e,String(r),o):o,n),o=",";n.push("]");break}n.push("{"),i="";for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),pa(r,n),n.push(":"),oa(t,t.Fd?t.Fd.call(e,r,o):o,n),i=",");n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof e)}}function pa(t,e){e.push('"',t.replace(ra,function(t){if(t in qa)return qa[t];var e=t.charCodeAt(0),n="\\u";return 16>e?n+="000":256>e?n+="00":4096>e&&(n+="0"),qa[t]=n+e.toString(16)}),'"')}function sa(){this.Wa=-1}function ta(){this.Wa=-1,this.Wa=64,this.M=[],this.Wd=[],this.Af=[],this.zd=[],this.zd[0]=128;for(var t=1;t<this.Wa;++t)this.zd[t]=0;this.Pd=this.$b=0,this.reset()}function ua(t,e,n){n||(n=0);var i=t.Af;if(p(e))for(var o=0;16>o;o++)i[o]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(o=0;16>o;o++)i[o]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(o=16;80>o;o++){var r=i[o-3]^i[o-8]^i[o-14]^i[o-16];i[o]=4294967295&(r<<1|r>>>31)}e=t.M[0],n=t.M[1];for(var a,s=t.M[2],u=t.M[3],l=t.M[4],o=0;80>o;o++)40>o?20>o?(r=u^n&(s^u),a=1518500249):(r=n^s^u,a=1859775393):60>o?(r=n&s|u&(n|s),a=2400959708):(r=n^s^u,a=3395469782),r=(e<<5|e>>>27)+r+l+a+i[o]&4294967295,l=u,u=s,s=4294967295&(n<<30|n>>>2),n=e,e=r;t.M[0]=t.M[0]+e&4294967295,t.M[1]=t.M[1]+n&4294967295,t.M[2]=t.M[2]+s&4294967295,t.M[3]=t.M[3]+u&4294967295,t.M[4]=t.M[4]+l&4294967295}function Da(t,e){var n=Ea(t,e,void 0);return 0>n?null:p(t)?t.charAt(n):t[n]}function Ea(t,e,n){for(var i=t.length,o=p(t)?t.split(""):t,r=0;r<i;r++)if(r in o&&e.call(n,o[r],r,t))return r;return-1}function Fa(e,n){var i=xa(e,n);0<=i&&t.splice.call(e,i,1)}function Ga(e,n,i){return 2>=arguments.length?t.slice.call(e,n):t.slice.call(e,n,i)}function Ha(t,e){t.sort(e||Ia)}function Ia(t,e){return t>e?1:t<e?-1:0}function v(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function Ja(t,e){var n,i={};for(n in t)i[n]=e.call(void 0,t[n],n,t);return i}function Ka(t,e){for(var n in t)if(!e.call(void 0,t[n],n,t))return!1;return!0}function La(t){var e,n=0;for(e in t)n++;return n}function Ma(t){for(var e in t)return e}function Na(t){var e,n=[],i=0;for(e in t)n[i++]=t[e];return n}function Oa(t){var e,n=[],i=0;for(e in t)n[i++]=e;return n}function Pa(t,e){for(var n in t)if(t[n]==e)return!0;return!1}function Qa(t,e,n){for(var i in t)if(e.call(n,t[i],i,t))return i}function Ra(t,e){var n=Qa(t,e,void 0);return n&&t[n]}function Sa(t){for(var e in t)return!1;return!0}function Ta(t){var e,n={};for(e in t)n[e]=t[e];return n}function ab(t,e){if(!fa(t))throw Error("encodeByteArray takes an array as a parameter");bb();for(var n=e?Za:Ya,i=[],o=0;o<t.length;o+=3){var r=t[o],a=o+1<t.length,s=a?t[o+1]:0,u=o+2<t.length,l=u?t[o+2]:0,c=r>>2,r=(3&r)<<4|s>>4,s=(15&s)<<2|l>>6,l=63&l;u||(l=64,a||(s=64)),i.push(n[c],n[r],n[s],n[l])}return i.join("")}function bb(){if(!Ya){Ya={},Za={},$a={};for(var t=0;65>t;t++)Ya[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Za[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t),$a[Za[t]]=t,62<=t&&($a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)]=t)}}function cb(t,e){if(!t)throw db(e)}function db(t){return Error("Firebase Database ("+firebase.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)}function eb(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function fb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gb(t){var e=[];return fb(t,function(t,n){ea(n)?ya(n,function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""}function ib(){var t=this;this.reject=this.resolve=null,this.ra=new hb(function(e,n){t.resolve=e,t.reject=n})}function jb(t,e){return function(n,i){n?t.reject(n):t.resolve(i),ha(e)&&(kb(t.ra),1===e.length?e(n):e(n,i))}}function kb(t){t.then(void 0,ba)}function lb(t){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(t):ma(t)}function x(t){if("undefined"!=typeof JSON&&n(JSON.stringify))t=JSON.stringify(t);else{var e=[];oa(new na,t,e),t=e.join("")}return t}function mb(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);55296<=o&&56319>=o&&(o-=55296,i++,cb(i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(o<<10)+(t.charCodeAt(i)-56320)),128>o?e[n++]=o:(2048>o?e[n++]=o>>6|192:(65536>o?e[n++]=o>>12|224:(e[n++]=o>>18|240,e[n++]=o>>12&63|128),e[n++]=o>>6&63|128),e[n++]=63&o|128)}return e}function nb(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e++:2048>i?e+=2:55296<=i&&56319>=i?(e+=4,n++):e+=3}return e}function y(t,e,n,i){var o;if(i<e?o="at least "+e:i>n&&(o=0===n?"none":"no more than "+n),o)throw Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+o+".")}function A(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t=t+" failed: "+i+" argument "}function B(t,e,i,o){if((!o||n(i))&&!ha(i))throw Error(A(t,e,o)+"must be a valid function.")}function ob(t,e,i){if(n(i)&&(!ia(i)||null===i))throw Error(A(t,e,!0)+"must be a valid context object.")}function pb(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function C(t,e){this.name=t,this.R=e}function qb(t,e){return new C(t,e)}function rb(t,e){return sb(t.name,e.name)}function tb(t,e){return sb(t,e)}function ub(t){this.uc=t,this.Cd="firebase:"}function vb(){this.pc={}}function wb(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ub(e)}}catch(t){}return new vb}function zb(t,e,n,i,o){this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.Sc=e,this.pe=n,this.qg=i,this.gf=o||"",this.$a=xb.get("host:"+t)||this.host}function Ab(t,e){e!==t.$a&&(t.$a=e,"s-"===t.$a.substr(0,2)&&xb.set("host:"+t.host,t.$a))}function Bb(t,e,n){if(D("string"==typeof e,"typeof type must == string"),D("object"==typeof n,"typeof params must == object"),e===Cb)e=(t.Sc?"wss://":"ws://")+t.$a+"/.ws?";else{if(e!==Db)throw Error("Unknown connection type: "+e);e=(t.Sc?"https://":"http://")+t.$a+"/.lp?"}t.host!==t.$a&&(n.ns=t.pe);var i=[];return v(n,function(t,e){i.push(e+"="+t)}),e+i.join("&")}function Eb(t,e){return t&&"object"==typeof t?(D(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}function Fb(t,e){var n=new Gb;return Hb(t,new E(""),function(t,i){Ib(n,t,Jb(i,e))}),n}function Jb(t,e){var n,i=t.C().H(),i=Eb(i,e);if(t.J()){var o=Eb(t.Ca(),e);return o!==t.Ca()||i!==t.C().H()?new Kb(o,G(i)):t}return n=t,i!==t.C().H()&&(n=n.fa(new Kb(i))),t.O(H,function(t,i){var o=Jb(i,e);o!==i&&(n=n.T(t,o))}),n}function Nb(t){try{var e;bb();for(var n=$a,i=[],o=0;o<t.length;){var r=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;var s=o<t.length?n[t.charAt(o)]:64;++o;var u=o<t.length?n[t.charAt(o)]:64;if(++o,null==r||null==a||null==s||null==u)throw Error();i.push(r<<2|a>>4),64!=s&&(i.push(a<<4&240|s>>2),64!=u&&i.push(s<<6&192|u))}if(8192>i.length)e=String.fromCharCode.apply(null,i);else{for(t="",n=0;n<i.length;n+=8192)t+=String.fromCharCode.apply(null,Ga(i,n,n+8192));e=t}return e}catch(t){I("base64Decode failed: ",t)}return null}function Ob(t){var e=mb(t);t=new ta,t.update(e);var e=[],n=8*t.Pd;56>t.$b?t.update(t.zd,56-t.$b):t.update(t.zd,t.Wa-(t.$b-56));for(var i=t.Wa-1;56<=i;i--)t.Wd[i]=255&n,n/=256;for(ua(t,t.Wd),i=n=0;5>i;i++)for(var o=24;0<=o;o-=8)e[n]=t.M[i]>>o&255,++n;return ab(e)}function Pb(t){for(var e="",n=0;n<arguments.length;n++)e=fa(arguments[n])?e+Pb.apply(null,arguments[n]):"object"==typeof arguments[n]?e+x(arguments[n]):e+arguments[n],e+=" ";return e}function Sb(t,e){cb(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?Qb=q(console.log,console):"object"==typeof console.log&&(Qb=function(t){console.log(t)})),e&&yb.set("logging_enabled",!0)):ha(t)?Qb=t:(Qb=null,yb.remove("logging_enabled"))}function I(t){if(!0===Rb&&(Rb=!1,null===Qb&&!0===yb.get("logging_enabled")&&Sb(!0)),Qb){var e=Pb.apply(null,arguments);Qb(e)}}function Tb(t){return function(){I(t,arguments)}}function Ub(t){if("undefined"!=typeof console){var e="FIREBASE INTERNAL ERROR: "+Pb.apply(null,arguments);void 0!==console.error?console.error(e):console.log(e)}}function Vb(t){var e=Pb.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+e)}function J(t){if("undefined"!=typeof console){var e="FIREBASE WARNING: "+Pb.apply(null,arguments);void 0!==console.warn?console.warn(e):console.log(e)}}function Wb(t){var e,n,i,o,r,a=t;if(r=n=t=e="",i=!0,o="https",p(a)){var s=a.indexOf("//");for(0<=s&&(o=a.substring(0,s-1),a=a.substring(s+2)),s=a.indexOf("/"),-1===s&&(s=a.length),e=a.substring(0,s),r="",a=a.substring(s).split("/"),s=0;s<a.length;s++)if(0<a[s].length){var u=a[s];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch(t){}r+="/"+u}a=e.split("."),3===a.length?(t=a[1],n=a[0].toLowerCase()):2===a.length&&(t=a[0]),s=e.indexOf(":"),0<=s&&(i="https"===o||"wss"===o)}return"firebase"===t&&Vb(e+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||Vb("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&J("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{jc:new zb(e,i,n,"ws"===o||"wss"===o),path:new E(r)}}function Xb(t){return ga(t)&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}function Yb(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function sb(t,e){if(t===e)return 0;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return-1;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return 1;var n=Zb(t),i=Zb(e);return null!==n?null!==i?0==n-i?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1}function $b(t,e){if(e&&t in e)return e[t];throw Error("Missing required key ("+t+") in object: "+x(e))}function ac(t){if("object"!=typeof t||null===t)return x(t);var e,n=[];for(e in t)n.push(e);n.sort(),e="{";for(var i=0;i<n.length;i++)0!==i&&(e+=","),e+=x(n[i]),e+=":",e+=ac(t[n[i]]);return e+"}"}function bc(t,e){if(t.length<=e)return[t];for(var n=[],i=0;i<t.length;i+=e)i+e>t?n.push(t.substring(i,t.length)):n.push(t.substring(i,i+e));return n}function cc(t,e){if(ea(t))for(var n=0;n<t.length;++n)e(n,t[n]);else v(t,e)}function dc(t){D(!Xb(t),"Invalid JSON number");var e,n,i,o;for(0===t?(i=n=0,e=-1/0==1/t?1:0):(e=0>t,t=Math.abs(t),t>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=i+1023,i=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074)))),o=[],t=52;t;--t)o.push(i%2?1:0),i=Math.floor(i/2);for(t=11;t;--t)o.push(n%2?1:0),n=Math.floor(n/2);for(o.push(e?1:0),o.reverse(),e=o.join(""),n="",t=0;64>t;t+=8)i=parseInt(e.substr(t,8),2).toString(16),1===i.length&&(i="0"+i),n+=i;return n.toLowerCase()}function Zb(t){return ec.test(t)&&-2147483648<=(t=Number(t))&&2147483647>=t?t:null}function fc(t){try{t()}catch(t){setTimeout(function(){throw J("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}}function gc(t,e,n){Object.defineProperty(t,e,{get:n})}function hc(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n}function ic(t){var e={},n={},i={},o="";try{var r=t.split("."),e=lb(Nb(r[0])||""),n=lb(Nb(r[1])||""),o=r[2],i=n.d||{};delete n.d}catch(t){}return{tg:e,Je:n,data:i,mg:o}}function jc(t){t=ic(t);var e=t.Je;return!!t.mg&&!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}function kc(t){return"object"==typeof(t=ic(t).Je)&&!0===w(t,"admin")}function lc(){}function nc(t){return q(t.compare,t)}function pc(t){D(!t.e()&&".priority"!==K(t),"Can't create PathIndex with empty path or .priority key"),this.bc=t}function rc(){}function sc(){}function uc(){}function xc(t,e){this.od=t,this.cc=e}function yc(t,e,n){return new xc(Ja(t.od,function(i,o){var r=w(t.cc,o);if(D(r,"Missing index implementation for "+o),i===mc){if(r.xc(e.R)){for(var a=[],s=n.Wb(qb),u=M(s);u;)u.name!=e.name&&a.push(u),u=M(s);return a.push(e),zc(a,nc(r))}return mc}return r=n.get(e.name),a=i,r&&(a=a.remove(new C(e.name,r))),a.Oa(e,e.R)}),t.cc)}function Ac(t,e,n){return new xc(Ja(t.od,function(t){if(t===mc)return t;var i=n.get(e.name);return i?t.remove(new C(e.name,i)):t}),t.cc)}function Kb(t,e){this.B=t,D(n(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.aa=e||L,Cc(this.aa),this.Db=null}function Gc(){this.set={}}function Hc(t,e){v(t.set,function(t,n){e(n,t)})}function Ic(t){D(ea(t)&&0<t.length,"Requires a non-empty array"),this.Bf=t,this.Dc={}}function Jc(t,e){D(Da(t.Bf,function(t){return t===e}),"Unknown event: "+e)}function Lc(){if(Ic.call(this,["online"]),this.hc=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!pb()){var t=this;window.addEventListener("online",function(){t.hc||(t.hc=!0,t.Ge("online",!0))},!1),window.addEventListener("offline",function(){t.hc&&(t.hc=!1,t.Ge("online",!1))},!1)}}function Mc(){Ic.call(this,["visible"]);var t,e;if("undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.Mb=!0,e){var n=this;document.addEventListener(e,function(){var e=!document[t];e!==n.Mb&&(n.Mb=e,n.Ge("visible",e))},!1)}}function E(t,e){if(1==arguments.length){this.o=t.split("/");for(var n=0,i=0;i<this.o.length;i++)0<this.o[i].length&&(this.o[n]=this.o[i],n++);this.o.length=n,this.Y=0}else this.o=t,this.Y=e}function P(t,e){var n=K(t);if(null===n)return e;if(n===K(e))return P(N(t),N(e));throw Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Nc(t,e){for(var n=t.slice(),i=e.slice(),o=0;o<n.length&&o<i.length;o++){var r=sb(n[o],i[o]);if(0!==r)return r}return n.length===i.length?0:n.length<i.length?-1:1}function K(t){return t.Y>=t.o.length?null:t.o[t.Y]}function Ec(t){return t.o.length-t.Y}function N(t){var e=t.Y;return e<t.o.length&&e++,new E(t.o,e)}function Oc(t){return t.Y<t.o.length?t.o[t.o.length-1]:null}function Pc(t,e){this.Qa=t.slice(),this.Ha=Math.max(1,this.Qa.length),this.Qe=e;for(var n=0;n<this.Qa.length;n++)this.Ha+=nb(this.Qa[n]);Qc(this)}function Qc(t){if(768<t.Ha)throw Error(t.Qe+"has a key path longer than 768 bytes ("+t.Ha+").");if(32<t.Qa.length)throw Error(t.Qe+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Rc(t))}function Rc(t){return 0==t.Qa.length?"":"in property '"+t.Qa.join(".")+"'"}function Sc(){this.children={},this.bd=0,this.value=null}function Tc(t,e,n){this.ud=t||"",this.Pc=e||null,this.A=n||new Sc}function Uc(t,e){for(var n,i=e instanceof E?e:new E(e),o=t;null!==(n=K(i));)o=new Tc(n,o,w(o.A.children,n)||new Sc),i=N(i);return o}function Vc(t,e){D(void 0!==e,"Cannot set value to undefined"),t.A.value=e,Wc(t)}function Xc(t,e,n,i){n&&!i&&e(t),t.O(function(t){Xc(t,e,!0,i)}),n&&i&&e(t)}function Yc(t,e){for(var n=t.parent();null!==n&&!e(n);)n=n.parent()}function Wc(t){if(null!==t.Pc){var e=t.Pc,n=t.ud,i=t.e(),o=eb(e.A.children,n);i&&o?(delete e.A.children[n],e.A.bd--,Wc(e)):i||o||(e.A.children[n]=t.A,e.A.bd++,Wc(e))}}function Zc(t,e){this.La=t,this.ba=e||$c}function ad(t,e){for(var n,i=t.ba,o=null;!i.e();){if(0===(n=t.La(e,i.key))){if(i.left.e())return o?o.key:null;for(i=i.left;!i.right.e();)i=i.right;return i.key}0>n?i=i.left:0<n&&(o=i,i=i.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function bd(t,e,n,i,o){for(this.Hd=o||null,this.le=i,this.Pa=[],o=1;!t.e();)if(o=e?n(t.key,e):1,i&&(o*=-1),0>o)t=this.le?t.left:t.right;else{if(0===o){this.Pa.push(t);break}this.Pa.push(t),t=this.le?t.right:t.left}}function M(t){if(0===t.Pa.length)return null;var e,n=t.Pa.pop();if(e=t.Hd?t.Hd(n.key,n.value):{key:n.key,value:n.value},t.le)for(n=n.left;!n.e();)t.Pa.push(n),n=n.right;else for(n=n.right;!n.e();)t.Pa.push(n),n=n.left;return e}function cd(t){if(0===t.Pa.length)return null;var e;return e=t.Pa,e=e[e.length-1],t.Hd?t.Hd(e.key,e.value):{key:e.key,value:e.value}}function dd(t,e,n,i,o){this.key=t,this.value=e,this.color=null==n||n,this.left=null!=i?i:$c,this.right=null!=o?o:$c}function ed(t){return t.left.e()?t:ed(t.left)}function hd(t){return t.left.e()?$c:(t.left.ea()||t.left.left.ea()||(t=id(t)),t=t.X(null,null,null,hd(t.left),null),gd(t))}function gd(t){return t.right.ea()&&!t.left.ea()&&(t=ld(t)),t.left.ea()&&t.left.left.ea()&&(t=jd(t)),t.left.ea()&&t.right.ea()&&(t=kd(t)),t}function id(t){return t=kd(t),t.right.left.ea()&&(t=t.X(null,null,null,null,jd(t.right)),t=ld(t),t=kd(t)),t}function ld(t){return t.right.X(null,null,t.color,t.X(null,null,!0,null,t.right.left),null)}function jd(t){return t.left.X(null,null,t.color,null,t.X(null,null,!0,t.left.right,null))}function kd(t){return t.X(null,null,!t.color,t.left.X(null,null,!t.left.color,null,null),t.right.X(null,null,!t.right.color,null,null))}function md(){}function O(t,e,n){this.k=t,(this.aa=e)&&Cc(this.aa),t.e()&&D(!this.aa||this.aa.e(),"An empty node cannot have a priority"),this.yb=n,this.Db=null}function pd(t,e){var n;return n=(n=od(t,e))?(n=n.Gc())&&n.name:t.k.Gc(),n?new C(n,t.k.get(n)):null}function qd(t,e){var n;return n=(n=od(t,e))?(n=n.ec())&&n.name:t.k.ec(),n?new C(n,t.k.get(n)):null}function od(t,e){return e===tc?null:t.yb.get(e.toString())}function G(t,e){if(null===t)return L;var n=null;if("object"==typeof t&&".priority"in t?n=t[".priority"]:void 0!==e&&(n=e),D(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Kb(t,G(n));if(t instanceof Array){var i=L,o=t;return v(o,function(t,e){if(eb(o,e)&&"."!==e.substring(0,1)){var n=G(t);!n.J()&&n.e()||(i=i.T(e,n))}}),i.fa(G(n))}var r=[],a=!1,s=t;if(fb(s,function(t){if("string"!=typeof t||"."!==t.substring(0,1)){var e=G(s[t]);e.e()||(a=a||!e.C().e(),r.push(new C(t,e)))}}),0==r.length)return L;var u=zc(r,rb,function(t){return t.name},tb);if(a){var l=zc(r,nc(H));return new O(u,G(n),new xc({".priority":l},{".priority":H}))}return new O(u,G(n),Bc)}function sd(t){this.count=parseInt(Math.log(t+1)/rd,10),this.Oe=this.count-1,this.Cf=t+1&parseInt(Array(this.count+1).join("1"),2)}function td(t){var e=!(t.Cf&1<<t.Oe);return t.Oe--,e}function zc(t,e,n,i){function o(e,i){var r=i-e;if(0==r)return null;if(1==r){var a=t[e],s=n?n(a):a;return new dd(s,a.R,!1,null,null)}var a=parseInt(r/2,10)+e,r=o(e,a),u=o(a+1,i),a=t[a],s=n?n(a):a;return new dd(s,a.R,!1,r,u)}t.sort(e);var r=function(e){function i(e,i){var u=s-e,l=s;s-=e;var l=o(u+1,l),u=t[u],c=n?n(u):u,l=new dd(c,u.R,i,null,l);r?r.left=l:a=l,r=l}for(var r=null,a=null,s=t.length,u=0;u<e.count;++u){var l=td(e),c=Math.pow(2,e.count-(u+1));l?i(c,!1):(i(c,!1),i(c,!0))}return a}(new sd(t.length));return null!==r?new Zc(i||e,r):new Zc(i||e)}function Fc(t){return"number"==typeof t?"number:"+dc(t):"string:"+t}function Cc(t){if(t.J()){var e=t.H();D("string"==typeof e||"number"==typeof e||"object"==typeof e&&eb(e,".sv"),"Priority must be a string or number.")}else D(t===qc||t.e(),"priority of unexpected type.");D(t===qc||t.C().e(),"Priority nodes can't have a priority of their own.")}function ud(){O.call(this,new Zc(tb),L,Bc)}function vd(t,e){this.value=t,this.children=e||wd}function xd(t){var e=R;return v(t,function(t,n){e=e.set(new E(n),t)}),e}function yd(t,e,n){if(null!=t.value&&n(t.value))return{path:Q,value:t.value};if(e.e())return null;var i=K(e);return t=t.children.get(i),null!==t?(e=yd(t,N(e),n),null!=e?{path:new E(i).n(e.path),value:e.value}:null):null}function zd(t,e){return yd(t,e,function(){return!0})}function Ad(t,e,n){if(e.e())return n;var i=K(e);return e=Ad(t.children.get(i)||R,N(e),n),i=e.e()?t.children.remove(i):t.children.Oa(i,e),new vd(t.value,i)}function Bd(t,e){return Cd(t,Q,e)}function Cd(t,e,n){var i={};return t.children.ha(function(t,o){i[t]=Cd(o,e.n(t),n)}),n(e,t.value,i)}function Dd(t,e,n){return Ed(t,e,Q,n)}function Ed(t,e,n,i){var o=!!t.value&&i(n,t.value);return o||(e.e()?null:(o=K(e),(t=t.children.get(o))?Ed(t,N(e),n.n(o),i):null))}function Fd(t,e,n){Gd(t,e,Q,n)}function Gd(t,e,n,i){if(e.e())return t;t.value&&i(n,t.value);var o=K(e);return(t=t.children.get(o))?Gd(t,N(e),n.n(o),i):R}function Hd(t,e){Id(t,Q,e)}function Id(t,e,n){t.children.ha(function(t,i){Id(i,e.n(t),n)}),t.value&&n(e,t.value)}function Jd(t,e){t.children.ha(function(t,n){n.value&&e(t,n.value)})}function Md(t){return p(t)&&0!==t.length&&!Kd.test(t)}function Nd(t){return null===t||p(t)||ga(t)&&!Xb(t)||ia(t)&&eb(t,".sv")}function Od(t,e,i,o){o&&!n(e)||Pd(A(t,1,o),e,i)}function Pd(t,e,i){if(i instanceof E&&(i=new Pc(i,t)),!n(e))throw Error(t+"contains undefined "+Rc(i));if(ha(e))throw Error(t+"contains a function "+Rc(i)+" with contents: "+e.toString());if(Xb(e))throw Error(t+"contains "+e.toString()+" "+Rc(i));if(p(e)&&e.length>10485760/3&&10485760<nb(e))throw Error(t+"contains a string greater than 10485760 utf8 bytes "+Rc(i)+" ('"+e.substring(0,50)+"...')");if(ia(e)){var o=!1,r=!1;if(fb(e,function(e,n){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(r=!0,!Md(e)))throw Error(t+" contains an invalid key ("+e+") "+Rc(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),Pd(t,n,i),i.pop()}),o&&r)throw Error(t+' contains ".value" child '+Rc(i)+" in addition to actual children.")}}function Qd(t,e){var n,i;for(n=0;n<e.length;n++){i=e[n];for(var o=i.slice(),r=0;r<o.length;r++)if((".priority"!==o[r]||r!==o.length-1)&&!Md(o[r]))throw Error(t+"contains an invalid key ("+o[r]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}for(e.sort(Nc),o=null,n=0;n<e.length;n++){if(i=e[n],null!==o&&o.contains(i))throw Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}function Rd(t,e,n){var i=A(t,1,!1);if(!ia(e)||ea(e))throw Error(i+" must be an object containing the children to replace.");var o=[];fb(e,function(t,e){var r=new E(t);if(Pd(i,e,n.n(r)),".priority"===Oc(r)&&!Nd(e))throw Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)}),Qd(i,o)}function Sd(t,e,n){if(Xb(n))throw Error(A(t,e,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Nd(n))throw Error(A(t,e,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Td(t,e,i){if(!i||n(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(A(t,1,i)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Ud(t,e){if(n(e)&&!Md(e))throw Error(A(t,2,!0)+'was an invalid key: "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Vd(t,e){if(!p(e)||0===e.length||Ld.test(e))throw Error(A(t,1,!1)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Wd(t,e){if(".info"===K(e))throw Error(t+" failed: Can't modify data under /.info/")}function Xd(t,e){var n,i=e.path.toString();if(!(n=!p(e.jc.host)||0===e.jc.host.length||!Md(e.jc.pe))&&(n=0!==i.length)&&(i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),n=!(p(i)&&0!==i.length&&!Ld.test(i))),n)throw Error(A(t,1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}function Gb(){this.k=this.B=null}function Ib(t,e,n){if(e.e())t.B=n,t.k=null;else if(null!==t.B)t.B=t.B.F(e,n);else{null==t.k&&(t.k=new Gc);var i=K(e);t.k.contains(i)||t.k.add(i,new Gb),t=t.k.get(i),e=N(e),Ib(t,e,n)}}function Yd(t,e){if(e.e())return t.B=null,t.k=null,!0;if(null!==t.B){if(t.B.J())return!1;var n=t.B;return t.B=null,n.O(H,function(e,n){Ib(t,new E(e),n)}),Yd(t,e)}return null===t.k||(n=K(e),e=N(e),t.k.contains(n)&&Yd(t.k.get(n),e)&&t.k.remove(n),!!t.k.e()&&(t.k=null,!0))}function Hb(t,e,n){null!==t.B?n(e,t.B):t.O(function(t,i){Hb(i,new E(e.toString()+"/"+t),n)})}function Zd(t,e){this.type=$d,this.source=t,this.path=e}function ae(t,e,n){this.type=be,this.source=t,this.path=e,this.children=n}function de(t,e,n){this.type=ee,this.source=fe,this.path=t,this.Ob=e,this.Id=n}function ce(t,e,n){this.type=ge,this.source=t,this.path=e,this.Ga=n}function he(t,e,n,i){this.ee=t,this.Se=e,this.Hb=n,this.Ee=i,D(!i||e,"Tagged queries must be from server.")}function je(t,e,n){this.A=t,this.da=e,this.Sb=n}function ke(t){return t.da}function le(t){return t.Sb}function me(t,e){return e.e()?t.da&&!t.Sb:ne(t,K(e))}function ne(t,e){return t.da&&!t.Sb||t.A.Da(e)}function oe(t,e){this.N=t,this.Ld=e}function pe(t,e,n,i){return new oe(new je(e,n,i),t.Ld)}function qe(t){return t.N.da?t.N.j():null}function re(t){return t.Ld.da?t.Ld.j():null}function se(){}function ue(t,e,n){this.xf=t,this.Ka=e,this.yd=n}function ve(t,e){this.Sd=t,this.Df=e}function we(t){this.U=t}function De(t,e,n,i,o,r){var a=e.N;if(null!=i.lc(n))return e;var s;if(n.e())D(ke(e.w()),"If change path is empty, we must have complete server data"),le(e.w())?(o=re(e),i=i.rc(o instanceof O?o:L)):i=i.Aa(re(e)),r=t.U.ya(e.N.j(),i,r);else{var u=K(n);if(".priority"==u)D(1==Ec(n),"Can't have a priority with additional path components"),r=a.j(),s=e.w().j(),i=i.ad(n,r,s),r=null!=i?t.U.fa(r,i):a.j();else{var l=N(n);ne(a,u)?(s=e.w().j(),i=i.ad(n,a.j(),s),i=null!=i?a.j().Q(u).F(l,i):a.j().Q(u)):i=i.qc(u,e.w()),r=null!=i?t.U.F(a.j(),u,i,l,o,r):a.j()}}return pe(e,r,a.da||n.e(),t.U.Na())}function ze(t,e,n,i,o,r,a,s){var u=e.w();if(a=a?t.U:t.U.Ub(),n.e())i=a.ya(u.j(),i,null);else if(a.Na()&&!u.Sb)i=u.j().F(n,i),i=a.ya(u.j(),i,null);else{var l=K(n);if(!me(u,n)&&1<Ec(n))return e;var c=N(n);i=u.j().Q(l).F(c,i),i=".priority"==l?a.fa(u.j(),i):a.F(u.j(),l,i,c,te,null)}return u=u.da||n.e(),e=new oe(e.N,new je(i,u,a.Na())),De(t,e,n,o,new ue(o,e,r),s)}function ye(t,e,n,i,o,r,a){var s=e.N;if(o=new ue(o,e,r),n.e())a=t.U.ya(e.N.j(),i,a),t=pe(e,a,!0,t.U.Na());else if(".priority"===(r=K(n)))a=t.U.fa(e.N.j(),i),t=pe(e,a,s.da,s.Sb);else{n=N(n);var u=s.j().Q(r);if(!n.e()){var l=o.Te(r);i=null!=l?".priority"===Oc(n)&&l.P(n.parent()).e()?l:l.F(n,i):L}u.Z(i)?t=e:(a=t.U.F(s.j(),r,i,n,o,a),t=pe(e,a,s.da,t.U.Na()))}return t}function Ae(t,e,n,i,o,r,a){var s=e;return Hd(i,function(i,u){var l=n.n(i);ne(e.N,K(l))&&(s=ye(t,s,l,u,o,r,a))}),Hd(i,function(i,u){var l=n.n(i);ne(e.N,K(l))||(s=ye(t,s,l,u,o,r,a))}),s}function Fe(t,e){return Hd(e,function(e,n){t=t.F(e,n)}),t}function Be(t,e,n,i,o,r,a,s){if(e.w().j().e()&&!ke(e.w()))return e;var u=e;n=n.e()?i:Ad(R,n,i);var l=e.w().j();return n.children.ha(function(n,i){if(l.Da(n)){var c=e.w().j().Q(n),c=Fe(c,i);u=ze(t,u,new E(n),c,o,r,a,s)}}),n.children.ha(function(n,i){var c=!ne(e.w(),n)&&null==i.value;l.Da(n)||c||(c=e.w().j().Q(n),c=Fe(c,i),u=ze(t,u,new E(n),c,o,r,a,s))}),u}function Ce(t,e,n,i,o,r,a){if(null!=o.lc(n))return e;var s=le(e.w()),u=e.w();if(null!=i.value){if(n.e()&&u.da||me(u,n))return ze(t,e,n,u.j().P(n),o,r,s,a);if(n.e()){var l=R;return u.j().O(tc,function(t,e){l=l.set(new E(t),e)}),Be(t,e,n,l,o,r,s,a)}return e}return l=R,Hd(i,function(t){var e=n.n(t);me(u,e)&&(l=l.set(t,u.j().P(e)))}),Be(t,e,n,l,o,r,s,a)}function Ge(t){this.V=t,this.g=t.m.g}function He(t,e,n,i){var o=[],r=[];return ya(e,function(e){e.type===Ie&&t.g.nd(e.qe,e.Ja)&&r.push(new S(Je,e.Ja,e.Xa))}),Ke(t,o,Le,e,i,n),Ke(t,o,Me,e,i,n),Ke(t,o,Je,r,i,n),Ke(t,o,Ie,e,i,n),Ke(t,o,Ne,e,i,n),o}function Ke(t,e,n,i,o,r){i=za(i,function(t){return t.type===n}),Ha(i,q(t.Ff,t)),ya(i,function(n){var i=Oe(t,n,r);ya(o,function(o){o.nf(n.type)&&e.push(o.createEvent(i,t.V))})})}function Oe(t,e,n){return"value"!==e.type&&"child_removed"!==e.type&&(e.Dd=n.Ve(e.Xa,e.Ja,t.g)),e}function Pe(t,e){this.V=t;var n=t.m,i=new Qe(n.g),n=T(n)?new Qe(n.g):n.xa?new Re(n):new Se(n);this.hf=new we(n);var o=e.w(),r=e.N,a=i.ya(L,o.j(),null),s=n.ya(L,r.j(),null);this.Ka=new oe(new je(s,r.da,n.Na()),new je(a,o.da,i.Na())),this.Za=[],this.Jf=new Ge(t)}function Te(t){return t.V}function Ve(t,e){var n=t.Ka.N,i=[];return n.j().J()||n.j().O(H,function(t,e){i.push(new S(Me,e,t))}),n.da&&i.push(Ee(n.j())),Ue(t,i,n.j(),e)}function Ue(t,e,n,i){return He(t.Jf,e,n,i?[i]:t.Za)}function We(t,e,n,i){this.ae=e,this.Md=n,this.Dd=i,this.hd=t}function Xe(t,e,n){this.ae=t,this.error=e,this.path=n}function Ye(){this.vb=[]}function Ze(t,e){for(var n=null,i=0;i<e.length;i++){var o=e[i],r=o.Yb();null===n||r.Z(n.Yb())||(t.vb.push(n),n=null),null===n&&(n=new $e(r)),n.add(o)}n&&t.vb.push(n)}function af(t,e,n){Ze(t,n),bf(t,function(t){return t.Z(e)})}function cf(t,e,n){Ze(t,n),bf(t,function(t){return t.contains(e)||e.contains(t)})}function bf(t,e){for(var n=!0,i=0;i<t.vb.length;i++){var o=t.vb[i];if(o)if(o=o.Yb(),e(o)){for(var o=t.vb[i],r=0;r<o.jd.length;r++){var a=o.jd[r];if(null!==a){o.jd[r]=null;var s=a.Tb();Qb&&I("event: "+a.toString()),fc(s)}}t.vb[i]=null}else n=!1}n&&(t.vb=[])}function $e(t){this.qa=t,this.jd=[]}function Qe(t){this.g=t}function Se(t){this.he=new Qe(t.g),this.g=t.g;var e;t.ka?(e=ef(t),e=t.g.Ec(ff(t),e)):e=t.g.Hc(),this.Uc=e,t.na?(e=gf(t),t=t.g.Ec(hf(t),e)):t=t.g.Fc(),this.vc=t}function Re(t){this.sa=new Se(t),this.g=t.g,D(t.xa,"Only valid if limit has been set"),this.oa=t.oa,this.Ib=!jf(t)}function kf(t,e,n,i,o,r){var a;if(t.Ib){var s=nc(t.g);a=function(t,e){return s(e,t)}}else a=nc(t.g);D(e.Eb()==t.oa,"");var u=new C(n,i),l=t.Ib?pd(e,t.g):qd(e,t.g),c=t.sa.matches(u);if(e.Da(n)){for(var h=e.Q(n),l=o.fe(t.g,l,t.Ib);null!=l&&(l.name==n||e.Da(l.name));)l=o.fe(t.g,l,t.Ib);return o=null==l?1:a(l,u),c&&!i.e()&&0<=o?(null!=r&&df(r,new S(Ie,i,n,h)),e.T(n,i)):(null!=r&&df(r,new S(Le,h,n)),e=e.T(n,L),null!=l&&t.sa.matches(l)?(null!=r&&df(r,new S(Me,l.R,l.name)),e.T(l.name,l.R)):e)}return i.e()?e:c&&0<=a(l,u)?(null!=r&&(df(r,new S(Le,l.R,l.name)),df(r,new S(Me,i,n))),e.T(n,i).T(l.name,L)):e}function S(t,e,n,i){this.type=t,this.Ja=e,this.Xa=n,this.qe=i,this.Dd=void 0}function Ee(t){return new S(Ne,t)}function xe(){this.fb={}}function df(t,e){var n=e.type,i=e.Xa;D(n==Me||n==Ie||n==Le,"Only child changes supported for tracking"),D(".priority"!==i,"Only non-priority child changes can be tracked.");var o=w(t.fb,i);if(o){var r=o.type;if(n==Me&&r==Le)t.fb[i]=new S(Ie,e.Ja,i,o.Ja);else if(n==Le&&r==Me)delete t.fb[i];else if(n==Le&&r==Ie)t.fb[i]=new S(Le,o.qe,i);else if(n==Ie&&r==Me)t.fb[i]=new S(Me,e.Ja,i);else{if(n!=Ie||r!=Ie)throw Mb("Illegal combination of changes: "+e+" occurred after "+o);t.fb[i]=new S(Ie,e.Ja,i,o.qe)}}else t.fb[i]=e}function lf(){this.Rb=this.na=this.Kb=this.ka=this.xa=!1,this.oa=0,this.mb="",this.dc=null,this.zb="",this.ac=null,this.xb="",this.g=H}function jf(t){return""===t.mb?t.ka:"l"===t.mb}function ff(t){return D(t.ka,"Only valid if start has been set"),t.dc}function ef(t){return D(t.ka,"Only valid if start has been set"),t.Kb?t.zb:"[MIN_NAME]"}function hf(t){return D(t.na,"Only valid if end has been set"),t.ac}function gf(t){return D(t.na,"Only valid if end has been set"),t.Rb?t.xb:"[MAX_NAME]"}function nf(t){var e=new lf;return e.xa=t.xa,e.oa=t.oa,e.ka=t.ka,e.dc=t.dc,e.Kb=t.Kb,e.zb=t.zb,e.na=t.na,e.ac=t.ac,e.Rb=t.Rb,e.xb=t.xb,e.g=t.g,e.mb=t.mb,e}function of(t,e){var n=nf(t);return n.g=e,n}function pf(t){var e={};if(t.ka&&(e.sp=t.dc,t.Kb&&(e.sn=t.zb)),t.na&&(e.ep=t.ac,t.Rb&&(e.en=t.xb)),t.xa){e.l=t.oa;var n=t.mb;""===n&&(n=jf(t)?"l":"r"),e.vf=n}return t.g!==H&&(e.i=t.g.toString()),e}function T(t){return!(t.ka||t.na||t.xa)}function qf(t){return T(t)&&t.g==H}function rf(t){var e={};if(qf(t))return e;var n;return t.g===H?n="$priority":t.g===wc?n="$value":t.g===tc?n="$key":(D(t.g instanceof pc,"Unrecognized index type!"),n=t.g.toString()),e.orderBy=x(n),t.ka&&(e.startAt=x(t.dc),t.Kb&&(e.startAt+=","+x(t.zb))),t.na&&(e.endAt=x(t.ac),t.Rb&&(e.endAt+=","+x(t.xb))),t.xa&&(jf(t)?e.limitToFirst=t.oa:e.limitToLast=t.oa),e}function sf(t){this.W=t}function uf(t,e,n){if(e.e())return new sf(new vd(n));var i=zd(t.W,e);if(null!=i){var o=i.path,i=i.value;return e=P(o,e),i=i.F(e,n),new sf(t.W.set(o,i))}return t=Ad(t.W,e,new vd(n)),new sf(t)}function vf(t,e,n){var i=t;return fb(n,function(t,n){i=uf(i,e.n(t),n)}),i}function wf(t,e){var n=zd(t.W,e);return null!=n?t.W.get(n.path).P(P(n.path,e)):null}function xf(t){var e=[],n=t.W.value;return null!=n?n.J()||n.O(H,function(t,n){e.push(new C(t,n))}):t.W.children.ha(function(t,n){null!=n.value&&e.push(new C(t,n.value))}),e}function yf(t,e){if(e.e())return t;var n=wf(t,e);return new sf(null!=n?new vd(n):t.W.subtree(e))}function zf(t,e,n){if(null!=e.value)return n.F(t,e.value);var i=null;return e.children.ha(function(e,o){".priority"===e?(D(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):n=zf(t.n(e),o,n)}),n.P(t).e()||null===i||(n=n.F(t.n(".priority"),i)),n}function Af(){this.Jd=L}function Bf(t){this.oc=t}function Cf(t,e){t.oc.INTERNAL.addAuthTokenListener(e)}function Df(){this.S=tf,this.la=[],this.Bc=-1}function Ef(t,e){for(var n=0;n<t.la.length;n++){var i=t.la[n];if(i.Zc===e)return i}return null}function Ff(t,e){return t.Ga?t.path.contains(e):!!Qa(t.children,function(n,i){return t.path.n(i).contains(e)})}function Hf(t){return t.visible}function Gf(t,e,n){for(var i=tf,o=0;o<t.length;++o){var r=t[o];if(e(r)){var a=r.path;if(r.Ga)n.contains(a)?(a=P(n,a),i=uf(i,a,r.Ga)):a.contains(n)&&(a=P(a,n),i=uf(i,Q,r.Ga.P(a)));else{if(!r.children)throw Mb("WriteRecord should have .snap or .children");n.contains(a)?(a=P(n,a),i=vf(i,a,r.children)):a.contains(n)&&(a=P(a,n),a.e()?i=vf(i,Q,r.children):(r=w(r.children,K(a)))&&(r=r.P(N(a)),i=uf(i,Q,r)))}}}return i}function If(t,e){this.Lb=t,this.W=e}function Jf(t,e){this.rf={},this.Vc=new Kf(t),this.va=e;var n=1e4+2e4*Math.random();hc(q(this.lf,this),Math.floor(n))}function Lf(){this.tc={}}function Mf(t,e,i){n(i)||(i=1),eb(t.tc,e)||(t.tc[e]=0),t.tc[e]+=i}function Kf(t){this.Ef=t,this.rd=null}function Pf(t){return t=t.toString(),Nf[t]||(Nf[t]=new Lf),Nf[t]}function Qf(t,e){var n=t.toString();return Of[n]||(Of[n]=e()),Of[n]}function Rf(t,e,n){this.f=Tb("p:rest:"),this.L=t,this.Gb=e,this.$c=n,this.$={}}function Sf(t,e){return n(e)?"tag$"+e:(D(qf(t.m),"should have a tag if it's not a default query."),t.path.toString())}function Tf(t,e,n,i){n=n||{},n.format="export",t.$c.getToken(!1).then(function(o){(o=o&&o.accessToken)&&(n.auth=o);var r=(t.L.Sc?"https://":"http://")+t.L.host+e+"?"+gb(n);t.f("Sending REST request for "+r);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(i&&4===a.readyState){t.f("REST Response for "+r+" received. status:",a.status,"response:",a.responseText);var e=null;if(200<=a.status&&300>a.status){try{e=lb(a.responseText)}catch(t){J("Failed to parse JSON response for "+r+": "+a.responseText)}i(null,e)}else 401!==a.status&&404!==a.status&&J("Got unsuccessful REST response for "+r+" Status: "+a.status),i(a.status);i=null}},a.open("GET",r,!0),a.send()})}function Uf(t){this.te=t,this.Bd=[],this.Qb=0,this.Yd=-1,this.Fb=null}function Vf(t,e,n){t.Yd=e,t.Fb=n,t.Yd<t.Qb&&(t.Fb(),t.Fb=null)}function Wf(t,e,n){for(t.Bd[e]=n;t.Bd[t.Qb];){var i=t.Bd[t.Qb];delete t.Bd[t.Qb];for(var o=0;o<i.length;++o)if(i[o]){var r=t;fc(function(){r.te(i[o])})}if(t.Qb===t.Yd){t.Fb&&(clearTimeout(t.Fb),t.Fb(),t.Fb=null);break}t.Qb++}}function Yf(t,e,n,i){this.Zd=t,this.f=Tb(this.Zd),this.frames=this.zc=null,this.pb=this.qb=this.Fe=0,this.Va=Pf(e),t={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),n&&(t.s=n),i&&(t.ls=i),this.Ke=Bb(e,Cb,t)}function ag(t,e){if(t.frames.push(e),t.frames.length==t.Fe){var n=t.frames.join("");t.frames=null,n=lb(n),t.Xf(n)}}function $f(t){clearInterval(t.zc),t.zc=setInterval(function(){t.Ia&&bg(t,"0"),$f(t)},Math.floor(45e3))}function bg(t,e){try{t.Ia.send(e)}catch(e){t.f("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(q(t.bb,t),0)}}function cg(t,e,n,i){this.Zd=t,this.f=Tb(t),this.jc=e,this.pb=this.qb=0,this.Va=Pf(e),this.tf=n,this.wc=!1,this.Cb=i,this.Yc=function(t){return Bb(e,Db,t)}}function gg(t,e){var n=x(e).length;t.pb+=n,Mf(t.Va,"bytes_received",n)}function fg(t,e,n,i){if(this.Yc=i,this.ib=n,this.ve=new Gc,this.Qc=[],this.$d=Math.floor(1e8*Math.random()),this.Kd=!0,this.Qd=Lb(),window["pLPCommand"+this.Qd]=t,window["pRTLPCB"+this.Qd]=e,t=document.createElement("iframe"),t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||I("No IE domain setting required")}catch(e){t.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}t.contentDocument?t.gb=t.contentDocument:t.contentWindow?t.gb=t.contentWindow.document:t.document&&(t.gb=t.document),this.Ea=t,t="",this.Ea.src&&"javascript:"===this.Ea.src.substr(0,11)&&(t='<script>document.domain="'+document.domain+'";<\/script>'),t="<html><body>"+t+"</body></html>";try{this.Ea.gb.open(),this.Ea.gb.write(t),this.Ea.gb.close()}catch(t){I("frame writing exception"),t.stack&&I(t.stack),I(t)}}function ig(t){if(t.Ud&&t.Kd&&t.ve.count()<(0<t.Qc.length?2:1)){t.$d++;var e={};e.id=t.Vf,e.pw=t.Wf,e.ser=t.$d;for(var e=t.Yc(e),n="",i=0;0<t.Qc.length&&1870>=t.Qc[0].Pe.length+30+n.length;){var o=t.Qc.shift(),n=n+"&seg"+i+"="+o.jg+"&ts"+i+"="+o.pg+"&d"+i+"="+o.Pe;i++}return jg(t,e+n,t.$d),!0}return!1}function jg(t,e,n){function i(){t.ve.remove(n),ig(t)}t.ve.add(n,1);var o=setTimeout(i,Math.floor(25e3));hg(t,e,function(){clearTimeout(o),i()})}function hg(t,e,n){setTimeout(function(){try{if(t.Kd){var i=t.Ea.gb.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){I("Long-poll script failed to load: "+e),t.Kd=!1,t.close()},t.Ea.gb.body.appendChild(i)}}catch(t){}},Math.floor(1))}function kg(t){lg(this,t)}function lg(t,e){var n=Yf&&Yf.isAvailable(),i=n&&!(xb.Ze||!0===xb.get("previous_websocket_failure"));if(e.qg&&(n||J("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)t.Wc=[Yf];else{var o=t.Wc=[];cc(mg,function(t,e){e&&e.isAvailable()&&o.push(e)})}}function ng(t){if(0<t.Wc.length)return t.Wc[0];throw Error("No transports available")}function og(t,e,n,i,o,r,a){this.id=t,this.f=Tb("c:"+this.id+":"),this.te=n,this.Lc=i,this.ia=o,this.se=r,this.L=e,this.Ad=[],this.Le=0,this.sf=new kg(e),this.Ua=0,this.Cb=a,this.f("Connection created"),pg(this)}function pg(t){var e=ng(t.sf);t.I=new e("c:"+t.id+":"+t.Le++,t.L,void 0,t.Cb),t.xe=e.responsesRequiredToBeHealthy||0;var n=qg(t,t.I),i=rg(t,t.I);t.Xc=t.I,t.Rc=t.I,t.D=null,t.Bb=!1,setTimeout(function(){t.I&&t.I.open(n,i)},Math.floor(0)),0<(e=e.healthyTimeout||0)&&(t.md=hc(function(){t.md=null,t.Bb||(t.I&&102400<t.I.pb?(t.f("Connection exceeded healthy timeout but has received "+t.I.pb+" bytes.  Marking connection healthy."),t.Bb=!0,t.I.sd()):t.I&&10240<t.I.qb?t.f("Connection exceeded healthy timeout but has sent "+t.I.qb+" bytes.  Leaving connection alive."):(t.f("Closing unhealthy connection after timeout."),t.close()))},Math.floor(e)))}function rg(t,e){return function(n){e===t.I?(t.I=null,n||0!==t.Ua?1===t.Ua&&t.f("Realtime connection lost."):(t.f("Realtime connection failed."),"s-"===t.L.$a.substr(0,2)&&(xb.remove("host:"+t.L.host),t.L.$a=t.L.host)),t.close()):e===t.D?(t.f("Secondary connection lost."),n=t.D,t.D=null,t.Xc!==n&&t.Rc!==n||t.close()):t.f("closing an old connection")}}function qg(t,e){return function(n){if(2!=t.Ua)if(e===t.Rc){var i=$b("t",n);if(n=$b("d",n),"c"==i){if(i=$b("t",n),"d"in n)if(n=n.d,"h"===i){var i=n.ts,o=n.v,r=n.h;t.qf=n.s,Ab(t.L,r),0==t.Ua&&(t.I.start(),sg(t,t.I,i),"5"!==o&&J("Protocol version mismatch detected"),n=t.sf,(n=1<n.Wc.length?n.Wc[1]:null)&&tg(t,n))}else if("n"===i){for(t.f("recvd end transmission on primary"),t.Rc=t.D,n=0;n<t.Ad.length;++n)t.wd(t.Ad[n]);t.Ad=[],ug(t)}else"s"===i?(t.f("Connection shutdown command received. Shutting down..."),t.se&&(t.se(n),t.se=null),t.ia=null,t.close()):"r"===i?(t.f("Reset packet received.  New host: "+n),Ab(t.L,n),1===t.Ua?t.close():(vg(t),pg(t))):"e"===i?Ub("Server Error: "+n):"o"===i?(t.f("got pong on primary."),wg(t),xg(t)):Ub("Unknown control packet command: "+i)}else"d"==i&&t.wd(n)}else if(e===t.D)if(i=$b("t",n),n=$b("d",n),"c"==i)"t"in n&&(n=n.t,"a"===n?yg(t):"r"===n?(t.f("Got a reset on secondary, closing it"),t.D.close(),t.Xc!==t.D&&t.Rc!==t.D||t.close()):"o"===n&&(t.f("got pong on secondary."),t.pf--,yg(t)));else{if("d"!=i)throw Error("Unknown protocol layer: "+i);t.Ad.push(n)}else t.f("message on old connection")}}function ug(t){t.Xc===t.D&&t.Rc===t.D&&(t.f("cleaning up and promoting a connection: "+t.D.Zd),t.I=t.D,t.D=null)}function yg(t){0>=t.pf?(t.f("Secondary connection is healthy."),t.Bb=!0,t.D.sd(),t.D.start(),t.f("sending client ack on secondary"),t.D.send({t:"c",d:{t:"a",d:{}}}),t.f("Ending transmission on primary"),t.I.send({t:"c",d:{t:"n",d:{}}}),t.Xc=t.D,ug(t)):(t.f("sending ping on secondary."),t.D.send({t:"c",d:{t:"p",d:{}}}))}function wg(t){t.Bb||0>=--t.xe&&(t.f("Primary connection is healthy."),t.Bb=!0,t.I.sd())}function tg(t,e){t.D=new e("c:"+t.id+":"+t.Le++,t.L,t.qf),t.pf=e.responsesRequiredToBeHealthy||0,t.D.open(qg(t,t.D),rg(t,t.D)),hc(function(){t.D&&(t.f("Timed out trying to upgrade."),t.D.close())},Math.floor(6e4))}function sg(t,e,n){t.f("Realtime connection established."),t.I=e,t.Ua=1,t.Lc&&(t.Lc(n,t.qf),t.Lc=null),0===t.xe?(t.f("Primary connection is healthy."),t.Bb=!0):hc(function(){xg(t)},Math.floor(5e3))}function xg(t){t.Bb||1!==t.Ua||(t.f("sending ping on primary."),zg(t,{t:"c",d:{t:"p",d:{}}}))}function zg(t,e){if(1!==t.Ua)throw"Connection is not connected";t.Xc.send(e)}function vg(t){t.f("Shutting down all connections"),t.I&&(t.I.close(),t.I=null),t.D&&(t.D.close(),t.D=null),t.md&&(clearTimeout(t.md),t.md=null)}function Ag(t,e,n,i,o,r){if(this.id=Bg++,this.f=Tb("p:"+this.id+":"),this.qd={},this.$={},this.pa=[],this.Oc=0,this.Kc=[],this.ma=!1,this.Sa=1e3,this.td=3e5,this.Gb=e,this.Jc=n,this.ue=i,this.L=t,this.ob=this.Fa=this.Cb=this.ze=null,this.$c=o,this.de=!1,this.ke=0,r)throw Error("Auth override specified in options, but not supported on non Node.js platforms");this.Vd=r,this.ub=null,this.Mb=!1,this.Gd={},this.ig=0,this.Re=!0,this.Ac=this.me=null,Cg(this,0),Mc.Vb().gc("visible",this.Zf,this),-1===t.host.indexOf("fblocal")&&Lc.Vb().gc("online",this.Yf,this)}function Eg(t,e){var n=e.eg,i=n.path.toString(),o=n.ja();t.f("Listen on "+i+" for "+o);var r={p:i};e.tag&&(r.q=pf(n.m),r.t=e.tag),r.h=e.ld(),t.ua("q",r,function(r){var a=r.d,s=r.s;if(a&&"object"==typeof a&&eb(a,"w")){var u=w(a,"w");ea(u)&&0<=xa(u,"no_index")&&J('Using an unspecified index. Consider adding ".indexOn": "'+n.m.g.toString()+'" at '+n.path.toString()+" to your security rules for better performance")}(t.$[i]&&t.$[i][o])===e&&(t.f("listen response",r),"ok"!==s&&Fg(t,i,o),e.G&&e.G(s,a))})}function Gg(t){if(t.ma&&t.ob){var e=t.ob,n=jc(e)?"auth":"gauth",i={cred:e};null===t.Vd?i.noauth=!0:"object"==typeof t.Vd&&(i.authvar=t.Vd),t.ua(n,i,function(n){var i=n.s;n=n.d||"error",t.ob===e&&("ok"===i?t.ke=0:Hg(t,i,n))})}}function Ig(t,e,n,i,o){n={p:n,d:i},t.f("onDisconnect "+e,n),t.ua(e,n,function(t){o&&setTimeout(function(){o(t.s,t.d)},Math.floor(0))})}function Jg(t,e,i,o,r,a){o={p:i,d:o},n(a)&&(o.h=a),t.pa.push({action:e,mf:o,G:r}),t.Oc++,e=t.pa.length-1,t.ma?Kg(t,e):t.f("Buffering put: "+i)}function Kg(t,e){var n=t.pa[e].action,i=t.pa[e].mf,o=t.pa[e].G;t.pa[e].fg=t.ma,t.ua(n,i,function(i){t.f(n+" response",i),delete t.pa[e],t.Oc--,0===t.Oc&&(t.pa=[]),o&&o(i.s,i.d)})}function Cg(t,e){D(!t.Fa,"Scheduling a connect when we're already connected/ing?"),t.ub&&clearTimeout(t.ub),t.ub=setTimeout(function(){t.ub=null,Ng(t)},Math.floor(e))}function Ng(t){if(Og(t)){t.f("Making a connection attempt"),t.me=(new Date).getTime(),t.Ac=null;var e=q(t.wd,t),n=q(t.Lc,t),i=q(t.df,t),o=t.id+":"+Dg++,r=t.Cb,a=!1,s=null,u=function(){s?s.close():(a=!0,i())};t.Fa={close:u,ua:function(t){D(s,"sendRequest call when we're not connected not allowed."),s.ua(t)}};var l=t.de;t.de=!1,t.$c.getToken(l).then(function(u){a?I("getToken() completed but was canceled"):(I("getToken() completed. Creating connection."),t.ob=u&&u.accessToken,s=new og(o,t.L,e,n,i,function(e){J(e+" ("+t.L.toString()+")"),t.ab("server_kill")},r))}).then(null,function(e){t.f("Failed to get token: "+e),a||u()})}}function Lg(t,e,n){n=n?Aa(n,function(t){return ac(t)}).join("$"):"default",(t=Fg(t,e,n))&&t.G&&t.G("permission_denied")}function Fg(t,e,i){e=new E(e).toString();var o;return n(t.$[e])?(o=t.$[e][i],delete t.$[e][i],0===La(t.$[e])&&delete t.$[e]):o=void 0,o}function Hg(t,e,n){I("Auth token revoked: "+e+"/"+n),t.ob=null,t.de=!0,t.Fa.close(),"invalid_token"!==e&&"permission_denied"!==e||3<=++t.ke&&(t.Sa=3e4,t=t.$c,e='Provided authentication credentials for the app named "'+t.oc.name+'" are invalid. This usually indicates your app was not initialized correctly. ',e="credential"in t.oc.options?e+'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in t.oc.options?e+'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',J(e))}function Mg(t){Gg(t),v(t.$,function(e){v(e,function(e){Eg(t,e)})});for(var e=0;e<t.pa.length;e++)t.pa[e]&&Kg(t,e);for(;t.Kc.length;)e=t.Kc.shift(),Ig(t,e.action,e.we,e.data,e.G)}function Og(t){var e;return e=Lc.Vb().hc,Sa(t.qd)&&e}function Pg(t){t instanceof Qg||Vb("Don't call new Database() directly - please use firebase.database()."),this.ta=t,this.ba=new U(t,Q),this.INTERNAL=new Rg(this)}function Tg(t,e){null===t.ta&&Vb("Cannot call "+e+" on a deleted database.")}function Rg(t){this.Ya=t}function V(t,e,n){this.A=t,this.V=e,this.g=n}function Vg(t,e,n){this.Pb=t,this.rb=e,this.tb=n||null}function Wg(t,e,n){this.ga=t,this.rb=e,this.tb=n}function Xg(){this.za={}}function Zg(t){return za(Na(t.za),function(t){return!T(t.V.m)})}function $g(t,e){if(T(e.m))return Yg(t);var n=e.ja();return w(t.za,n)}function Yg(t){return Ra(t.za,function(t){return T(t.V.m)})||null}function ah(t){this.wa=R,this.jb=new Df,this.De={},this.ic={},this.Cc=t}function bh(t,e,i,o,r){var a=t.jb,s=r;return D(o>a.Bc,"Stacking an older write on top of newer ones"),n(s)||(s=!0),a.la.push({path:e,Ga:i,Zc:o,visible:s}),s&&(a.S=uf(a.S,e,i)),a.Bc=o,r?ch(t,new ce(fe,e,i)):[]}function dh(t,e,n,i){var o=t.jb;return D(i>o.Bc,"Stacking an older merge on top of newer ones"),o.la.push({path:e,children:n,Zc:i,visible:!0}),o.S=vf(o.S,e,n),o.Bc=i,n=xd(n),ch(t,new ae(fe,e,n))}function eh(t,e,n){n=n||!1;var i=Ef(t.jb,e);if(t.jb.Ed(e)){var o=R;return null!=i.Ga?o=o.set(Q,!0):fb(i.children,function(t,e){o=o.set(new E(t),e)}),ch(t,new de(i.path,o,n))}return[]}function fh(t,e,n){return n=xd(n),ch(t,new ae(ie,e,n))}function gh(t,e,n,i){if(null!=(i=hh(t,i))){var o=ih(i);return i=o.path,o=o.Hb,e=P(i,e),n=new ce(new he(!1,!0,o,!0),e,n),jh(t,i,n)}return[]}function kh(t,e,n,i){if(i=hh(t,i)){var o=ih(i);return i=o.path,o=o.Hb,e=P(i,e),n=xd(n),n=new ae(new he(!1,!0,o,!0),e,n),jh(t,i,n)}return[]}function oh(t){return Bd(t,function(t,e,n){if(e&&null!=Yg(e))return[Yg(e)];var i=[];return e&&(i=Zg(e)),v(n,function(t){i=i.concat(t)}),i})}function sh(t,e){for(var n=0;n<e.length;++n){var i=e[n];if(!T(i.m)){var i=lh(i),o=t.ic[i];delete t.ic[i],delete t.De["_"+o]}}}function qh(t){return T(t.m)&&!qf(t.m)?t.wb():t}function nh(t,e,n){var i=e.path,o=rh(t,e);if(n=ph(t,n),e=t.Cc.Ae(qh(e),o,n.ld,n.G),i=t.wa.subtree(i),o)D(null==Yg(i.value),"If we're adding a query, it shouldn't be shadowed");else for(o=Bd(i,function(t,e,n){if(!t.e()&&e&&null!=Yg(e))return[Te(Yg(e))];var i=[];return e&&(i=i.concat(Aa(Zg(e),function(t){return t.V}))),v(n,function(t){i=i.concat(t)}),i}),i=0;i<o.length;++i)n=o[i],t.Cc.Od(qh(n),rh(t,n));return e}function ph(t,e){var n=e.V,i=rh(t,n);return{ld:function(){return(e.w()||L).hash()},G:function(e){if("ok"===e){if(i){var o=n.path;if(e=hh(t,i)){var r=ih(e);e=r.path,r=r.Hb,o=P(e,o),o=new Zd(new he(!1,!0,r,!0),o),e=jh(t,e,o)}else e=[]}else e=ch(t,new Zd(ie,n.path));return e}return o="Unknown Error","too_big"===e?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?o="Client doesn't have permission to access the desired data.":"unavailable"==e&&(o="The service is unavailable"),o=Error(e+" at "+n.path.toString()+": "+o),o.code=e.toUpperCase(),t.kb(n,null,o)}}}function lh(t){return t.path.toString()+"$"+t.ja()}function ih(t){var e=t.indexOf("$");return D(-1!==e&&e<t.length-1,"Bad queryKey."),{Hb:t.substr(e+1),path:new E(t.substr(0,e))}}function hh(t,e){var n=t.De,i="_"+e;return i in n?n[i]:void 0}function rh(t,e){var n=lh(e);return w(t.ic,n)}function jh(t,e,n){var i=t.wa.get(e);return D(i,"Missing sync point for query tag that we're tracking"),i.eb(n,new If(e,t.jb),null)}function ch(t,e){return th(t,e,t.wa,null,new If(Q,t.jb))}function th(t,e,n,i,o){if(e.path.e())return uh(t,e,n,i,o);var r=n.get(Q);null==i&&null!=r&&(i=r.hb(Q));var a=[],s=K(e.path),u=e.Mc(s);if((n=n.children.get(s))&&u)var l=i?i.Q(s):null,s=o.n(s),a=a.concat(th(t,u,n,l,s));return r&&(a=a.concat(r.eb(e,o,i))),a}function uh(t,e,n,i,o){var r=n.get(Q);null==i&&null!=r&&(i=r.hb(Q));var a=[];return n.children.ha(function(n,r){var s=i?i.Q(n):null,u=o.n(n),l=e.Mc(n);l&&(a=a.concat(uh(t,l,r,s,u)))}),r&&(a=a.concat(r.eb(e,o,i))),a}function Qg(t,e,n){this.app=n;var i=new Bf(n);if(this.L=t,this.Va=Pf(t),this.Vc=null,this.ca=new Ye,this.vd=1,this.Ra=null,e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.va=new Rf(this.L,q(this.Gb,this),i),setTimeout(q(this.Jc,this,!0),0);else{if(e=n.options.databaseAuthVariableOverride,"undefined"!==da(e)&&null!==e){if("object"!==da(e))throw Error("Only objects are supported for option databaseAuthVariableOverride");try{x(e)}catch(t){throw Error("Invalid authOverride provided: "+t)}}this.va=this.Ra=new Ag(this.L,q(this.Gb,this),q(this.Jc,this),q(this.ue,this),i,e)}var o=this;Cf(i,function(t){o.va.kf(t)}),this.og=Qf(t,q(function(){return new Jf(this.Va,this.va)},this)),this.mc=new Tc,this.ie=new Af,this.pd=new ah({Ae:function(t,e,n,i){return e=[],n=o.ie.j(t.path),n.e()||(e=ch(o.pd,new ce(ie,t.path,n)),setTimeout(function(){i("ok")},0)),e},Od:ba}),vh(this,"connected",!1),this.ia=new Gb,this.Ya=new Pg(this),this.fd=0,this.je=null,this.K=new ah({Ae:function(t,e,n,i){return o.va.$e(t,n,e,function(e,n){var r=i(e,n);cf(o.ca,t.path,r)}),[]},Od:function(t,e){o.va.uf(t,e)}})}function wh(t){return t=t.ie.j(new E(".info/serverTimeOffset")).H()||0,(new Date).getTime()+t}function xh(t){return t=t={timestamp:wh(t)},t.timestamp=t.timestamp||(new Date).getTime(),t}function vh(t,e,n){e=new E("/.info/"+e),n=G(n);var i=t.ie;i.Jd=i.Jd.F(e,n),n=ch(t.pd,new ce(ie,e,n)),cf(t.ca,e,n)}function zh(t){t.f("onDisconnectEvents");var e=xh(t),n=[];Hb(Fb(t.ia,e),Q,function(e,i){n=n.concat(ch(t.K,new ce(ie,e,i)));var o=Bh(t,e);yh(t,o)}),t.ia=new Gb,cf(t.ca,Q,n)}function Ch(t,e,n,i){var o=G(n);t.va.re(e.toString(),o.H(!0),function(n,r){"ok"===n&&Ib(t.ia,e,o),Ah(i,n,r)})}function Dh(t,e,n,i,o){var r=G(n,i);t.va.re(e.toString(),r.H(!0),function(n,i){"ok"===n&&Ib(t.ia,e,r),Ah(o,n,i)})}function Eh(t,e,n,i){var o,r=!0;for(o in n)r=!1;r?(I("onDisconnect().update() called with empty data.  Don't do anything."),Ah(i,"ok")):t.va.cf(e.toString(),n,function(o,r){if("ok"===o)for(var a in n){var s=G(n[a]);Ib(t.ia,e.n(a),s)}Ah(i,o,r)})}function Fh(t,e,n){n=".info"===K(e.path)?t.pd.Nb(e,n):t.K.Nb(e,n),af(t.ca,e.path,n)}function Ah(t,e,n){t&&fc(function(){if("ok"==e)t(null);else{var i=(e||"error").toUpperCase(),o=i;n&&(o+=": "+n),o=Error(o),o.code=i,t(o)}})}function Gh(t,e,i,o,r){function a(){}t.f("transaction on "+e);var s=new U(t,e);if(s.gc("value",a),i={path:e,update:i,G:o,status:null,ef:Lb(),He:r,of:0,Rd:function(){s.Ic("value",a)},Td:null,Ba:null,cd:null,dd:null,ed:null},o=t.K.Aa(e,void 0)||L,i.cd=o,o=i.update(o.H()),n(o)){Pd("transaction failed: Data returned ",o,i.path),i.status=1,r=Uc(t.mc,e);var u=r.Ca()||[];u.push(i),Vc(r,u),"object"==typeof o&&null!==o&&eb(o,".priority")?(u=w(o,".priority"),D(Nd(u),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):u=(t.K.Aa(e)||L).C().H(),r=xh(t),o=G(o,u),r=Jb(o,r),i.dd=o,i.ed=r,i.Ba=t.vd++,i=bh(t.K,e,r,i.Ba,i.He),cf(t.ca,e,i),Hh(t)}else i.Rd(),i.dd=null,i.ed=null,i.G&&(t=new V(i.cd,new U(t,i.path),H),i.G(null,!1,t))}function Hh(t,e){var n=e||t.mc;if(e||Ih(t,n),null!==n.Ca()){var i=Jh(t,n);D(0<i.length,"Sending zero length transaction queue"),Ca(i,function(t){return 1===t.status})&&Kh(t,n.path(),i)}else n.kd()&&n.O(function(e){Hh(t,e)})}function Kh(t,e,n){for(var i=Aa(n,function(t){return t.Ba}),o=t.K.Aa(e,i)||L,i=o,o=o.hash(),r=0;r<n.length;r++){var a=n[r];D(1===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=2,a.of++;var s=P(e,a.path),i=i.F(s,a.dd)}i=i.H(!0),t.va.put(e.toString(),i,function(i){t.f("transaction put response",{path:e.toString(),status:i});var o=[];if("ok"===i){for(i=[],r=0;r<n.length;r++){if(n[r].status=3,o=o.concat(eh(t.K,n[r].Ba)),n[r].G){var a=n[r].ed,s=new U(t,n[r].path);i.push(q(n[r].G,null,null,!0,new V(a,s,H)))}n[r].Rd()}for(Ih(t,Uc(t.mc,e)),Hh(t),cf(t.ca,e,o),r=0;r<i.length;r++)fc(i[r])}else{if("datastale"===i)for(r=0;r<n.length;r++)n[r].status=4===n[r].status?5:1;else for(J("transaction at "+e.toString()+" failed: "+i),r=0;r<n.length;r++)n[r].status=5,n[r].Td=i;yh(t,e)}},o)}function yh(t,e){var n=Lh(t,e),i=n.path(),n=Jh(t,n);return Mh(t,n,i),i}function Mh(t,e,i){if(0!==e.length){for(var o=[],r=[],a=za(e,function(t){return 1===t.status}),a=Aa(a,function(t){return t.Ba}),s=0;s<e.length;s++){var u,l=e[s],c=P(i,l.path),h=!1;if(D(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),5===l.status)h=!0,u=l.Td,r=r.concat(eh(t.K,l.Ba,!0));else if(1===l.status)if(25<=l.of)h=!0,u="maxretry",r=r.concat(eh(t.K,l.Ba,!0));else{var f=t.K.Aa(l.path,a)||L;l.cd=f;var d=e[s].update(f.H());n(d)?(Pd("transaction failed: Data returned ",d,l.path),c=G(d),"object"==typeof d&&null!=d&&eb(d,".priority")||(c=c.fa(f.C())),f=l.Ba,d=xh(t),d=Jb(c,d),l.dd=c,l.ed=d,l.Ba=t.vd++,Fa(a,f),r=r.concat(bh(t.K,l.path,d,l.Ba,l.He)),r=r.concat(eh(t.K,f,!0))):(h=!0,u="nodata",r=r.concat(eh(t.K,l.Ba,!0)))}cf(t.ca,i,r),r=[],h&&(e[s].status=3,setTimeout(e[s].Rd,Math.floor(0)),e[s].G&&("nodata"===u?(l=new U(t,e[s].path),o.push(q(e[s].G,null,null,!1,new V(e[s].cd,l,H)))):o.push(q(e[s].G,null,Error(u),!1,null))))}for(Ih(t,t.mc),s=0;s<o.length;s++)fc(o[s]);Hh(t)}}function Lh(t,e){for(var n,i=t.mc;null!==(n=K(e))&&null===i.Ca();)i=Uc(i,n),e=N(e);return i}function Jh(t,e){var n=[];return Nh(t,e,n),n.sort(function(t,e){return t.ef-e.ef}),n}function Nh(t,e,n){var i=e.Ca();if(null!==i)for(var o=0;o<i.length;o++)n.push(i[o]);e.O(function(e){Nh(t,e,n)})}function Ih(t,e){var n=e.Ca();if(n){for(var i=0,o=0;o<n.length;o++)3!==n[o].status&&(n[i]=n[o],i++);n.length=i,Vc(e,0<n.length?n:null)}e.O(function(e){Ih(t,e)})}function Bh(t,e){var n=Lh(t,e).path(),i=Uc(t.mc,e);return Yc(i,function(e){Oh(t,e)}),Oh(t,i),Xc(i,function(e){Oh(t,e)}),n}function Oh(t,e){var n=e.Ca();if(null!==n){for(var i=[],o=[],r=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(D(r===a-1,"All SENT items should be at beginning of queue."),r=a,n[a].status=4,n[a].Td="set"):(D(1===n[a].status,"Unexpected transaction status in abort"),n[a].Rd(),o=o.concat(eh(t.K,n[a].Ba,!0)),n[a].G&&i.push(q(n[a].G,null,Error("set"),!1,null))));for(-1===r?Vc(e,null):n.length=r+1,cf(t.ca,e.path(),o),a=0;a<i.length;a++)fc(i[a])}}function Ug(){this.lb={},this.wf=!1}function Ph(t,e){this.committed=t,this.snapshot=e}function X(t,e,n,i){this.u=t,this.path=e,this.m=n,this.Nc=i}function Qh(t){var e=null,n=null;if(t.ka&&(e=ff(t)),t.na&&(n=hf(t)),t.g===tc){if(t.ka){if("[MIN_NAME]"!=ef(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof e)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(t.na){if("[MAX_NAME]"!=gf(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(t.g===H){if(null!=e&&!Nd(e)||null!=n&&!Nd(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(D(t.g instanceof pc||t.g===wc,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function Rh(t){if(t.ka&&t.na&&t.xa&&(!t.xa||""===t.mb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function Sh(t,e){if(!0===t.Nc)throw Error(e+": You can't combine multiple orderBy calls.")}function Th(t,e,n){var i={cancel:null,Ma:null};if(e&&n)i.cancel=e,B(t,3,i.cancel,!0),i.Ma=n,ob(t,4,i.Ma);else if(e)if("object"==typeof e&&null!==e)i.Ma=e;else{if("function"!=typeof e)throw Error(A(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i}function Y(t,e){this.ta=t,this.qa=e}function U(t,e){if(!(t instanceof Qg))throw Error("new Firebase() no longer supported - use app.database().");X.call(this,t,e,mf,!1),this.then=void 0,this.catch=void 0}var firebase=__webpack_require__(147),g,aa=this,qa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ra=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;la(ta,sa),ta.prototype.reset=function(){this.M[0]=1732584193,this.M[1]=4023233417,this.M[2]=2562383102,this.M[3]=271733878,this.M[4]=3285377520,this.Pd=this.$b=0},ta.prototype.update=function(t,e){if(null!=t){n(e)||(e=t.length);for(var i=e-this.Wa,o=0,r=this.Wd,a=this.$b;o<e;){if(0==a)for(;o<=i;)ua(this,t,o),o+=this.Wa;if(p(t)){for(;o<e;)if(r[a]=t.charCodeAt(o),++a,++o,a==this.Wa){ua(this,r),a=0;break}}else for(;o<e;)if(r[a]=t[o],++a,++o,a==this.Wa){ua(this,r),a=0;break}}this.$b=a,this.Pd+=e}};var r;t:{var va=aa.navigator;if(va){var wa=va.userAgent;if(wa){r=wa;break t}}r=""}var t=Array.prototype,xa=t.indexOf?function(e,n,i){return t.indexOf.call(e,n,i)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,p(t))return p(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ya=t.forEach?function(e,n,i){t.forEach.call(e,n,i)}:function(t,e,n){for(var i=t.length,o=p(t)?t.split(""):t,r=0;r<i;r++)r in o&&e.call(n,o[r],r,t)},za=t.filter?function(e,n,i){return t.filter.call(e,n,i)}:function(t,e,n){for(var i=t.length,o=[],r=0,a=p(t)?t.split(""):t,s=0;s<i;s++)if(s in a){var u=a[s];e.call(n,u,s,t)&&(o[r++]=u)}return o},Aa=t.map?function(e,n,i){return t.map.call(e,n,i)}:function(t,e,n){for(var i=t.length,o=Array(i),r=p(t)?t.split(""):t,a=0;a<i;a++)a in r&&(o[a]=e.call(n,r[a],a,t));return o},Ba=t.reduce?function(e,n,i,o){for(var r=[],a=1,s=arguments.length;a<s;a++)r.push(arguments[a]);return o&&(r[0]=q(n,o)),t.reduce.apply(e,r)}:function(t,e,n,i){var o=n;return ya(t,function(n,r){o=e.call(i,o,n,r,t)}),o},Ca=t.every?function(e,n,i){return t.every.call(e,n,i)}:function(t,e,n){for(var i=t.length,o=p(t)?t.split(""):t,r=0;r<i;r++)if(r in o&&!e.call(n,o[r],r,t))return!1;return!0},Ua=-1!=r.indexOf("Opera")||-1!=r.indexOf("OPR"),Va=-1!=r.indexOf("Trident")||-1!=r.indexOf("MSIE"),Wa=-1!=r.indexOf("Gecko")&&-1==r.toLowerCase().indexOf("webkit")&&!(-1!=r.indexOf("Trident")||-1!=r.indexOf("MSIE")),Xa=-1!=r.toLowerCase().indexOf("webkit");!function(){var t,e="";Ua&&aa.opera?(e=aa.opera.version,ha(e)&&e()):(Wa?t=/rv\:([^\);]+)(\)|;)/:Va?t=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Xa&&(t=/WebKit\/(\S+)/),t&&(e=(e=t.exec(r))?e[1]:""),Va&&(t=(t=aa.document)?t.documentMode:void 0)>parseFloat(e)&&String(t))}();var Ya=null,Za=null,$a=null,hb=firebase.Promise;g=ub.prototype,g.set=function(t,e){null==e?this.uc.removeItem(this.Cd+t):this.uc.setItem(this.Cd+t,x(e))},g.get=function(t){return t=this.uc.getItem(this.Cd+t),null==t?null:lb(t)},g.remove=function(t){this.uc.removeItem(this.Cd+t)},g.Ze=!1,g.toString=function(){return this.uc.toString()},vb.prototype.set=function(t,e){null==e?delete this.pc[t]:this.pc[t]=e},vb.prototype.get=function(t){return eb(this.pc,t)?this.pc[t]:null},vb.prototype.remove=function(t){delete this.pc[t]},vb.prototype.Ze=!0;var xb=wb("localStorage"),yb=wb("sessionStorage");zb.prototype.toString=function(){var t=(this.Sc?"https://":"http://")+this.host;return this.gf&&(t+="<"+this.gf+">"),t};var Lb=function(){var t=1;return function(){return t++}}(),D=cb,Mb=db,Qb=null,Rb=!0,ec=/^-?\d{1,10}$/,mc={};lc.prototype.nd=function(t,e){return 0!==this.compare(new C("[MIN_NAME]",t),new C("[MIN_NAME]",e))},lc.prototype.Hc=function(){return oc},la(pc,lc),g=pc.prototype,g.xc=function(t){return!t.P(this.bc).e()},g.compare=function(t,e){var n=t.R.P(this.bc),i=e.R.P(this.bc),n=n.sc(i);return 0===n?sb(t.name,e.name):n},g.Ec=function(t,e){var n=G(t),n=L.F(this.bc,n);return new C(e,n)},g.Fc=function(){return new C("[MAX_NAME]",L.F(this.bc,qc))},g.toString=function(){return this.bc.slice().join("/")},la(rc,lc),g=rc.prototype,g.compare=function(t,e){var n=t.R.C(),i=e.R.C(),n=n.sc(i);return 0===n?sb(t.name,e.name):n},g.xc=function(t){return!t.C().e()},g.nd=function(t,e){return!t.C().Z(e.C())},g.Hc=function(){return oc},g.Fc=function(){return new C("[MAX_NAME]",new Kb("[PRIORITY-POST]",qc))},g.Ec=function(t,e){return new C(e,new Kb("[PRIORITY-POST]",G(t)))},g.toString=function(){return".priority"};var H=new rc;la(sc,lc),g=sc.prototype,g.compare=function(t,e){return sb(t.name,e.name)},g.xc=function(){throw Mb("KeyIndex.isDefinedOn not expected to be called.")},g.nd=function(){return!1},g.Hc=function(){return oc},g.Fc=function(){return new C("[MAX_NAME]",L)},g.Ec=function(t){return D(p(t),"KeyIndex indexValue must always be a string."),new C(t,L)},g.toString=function(){return".key"};var tc=new sc;la(uc,lc),g=uc.prototype,g.compare=function(t,e){var n=t.R.sc(e.R);return 0===n?sb(t.name,e.name):n},g.xc=function(){return!0},g.nd=function(t,e){return!t.Z(e)},g.Hc=function(){return oc},g.Fc=function(){return vc},g.Ec=function(t,e){return new C(e,G(t))},g.toString=function(){return".value"};var wc=new uc;xc.prototype.get=function(t){var e=w(this.od,t);if(!e)throw Error("No index defined for "+t);return e===mc?null:e};var Bc=new xc({".priority":mc},{".priority":H}),Dc=["object","boolean","number","string"];g=Kb.prototype,g.J=function(){return!0},g.C=function(){return this.aa},g.fa=function(t){return new Kb(this.B,t)},g.Q=function(t){return".priority"===t?this.aa:L},g.P=function(t){return t.e()?this:".priority"===K(t)?this.aa:L},g.Da=function(){return!1},g.Ve=function(){return null},g.T=function(t,e){return".priority"===t?this.fa(e):e.e()&&".priority"!==t?this:L.T(t,e).fa(this.aa)},g.F=function(t,e){var n=K(t);return null===n?e:e.e()&&".priority"!==n?this:(D(".priority"!==n||1===Ec(t),".priority must be the last token in a path"),this.T(n,L.F(N(t),e)))},g.e=function(){return!1},g.Eb=function(){return 0},g.O=function(){return!1},g.H=function(t){return t&&!this.C().e()?{".value":this.Ca(),".priority":this.C().H()}:this.Ca()},g.hash=function(){if(null===this.Db){var t="";this.aa.e()||(t+="priority:"+Fc(this.aa.H())+":");var e=typeof this.B,t=t+(e+":"),t="number"===e?t+dc(this.B):t+this.B;this.Db=Ob(t)}return this.Db},g.Ca=function(){return this.B},g.sc=function(t){if(t===L)return 1;if(t instanceof O)return-1;D(t.J(),"Unknown node type");var e=typeof t.B,n=typeof this.B,i=xa(Dc,e),o=xa(Dc,n);return D(0<=i,"Unknown leaf type: "+e),D(0<=o,"Unknown leaf type: "+n),i===o?"object"===n?0:this.B<t.B?-1:this.B===t.B?0:1:o-i},g.nb=function(){return this},g.yc=function(){return!0},g.Z=function(t){return t===this||!!t.J()&&(this.B===t.B&&this.aa.Z(t.aa))},g.toString=function(){return x(this.H(!0))},g=Gc.prototype,g.add=function(t,e){this.set[t]=null===e||e},g.contains=function(t){return eb(this.set,t)},g.get=function(t){return this.contains(t)?this.set[t]:void 0},g.remove=function(t){delete this.set[t]},g.clear=function(){this.set={}},g.e=function(){return Sa(this.set)},g.count=function(){return La(this.set)},g.keys=function(){var t=[];return v(this.set,function(e,n){t.push(n)}),t},Ic.prototype.Ge=function(t,e){var n;n=this.Dc[t]||[];var i=n.length;if(0<i){for(var o=Array(i),r=0;r<i;r++)o[r]=n[r];n=o}else n=[];for(i=0;i<n.length;i++)n[i].Ie.apply(n[i].Ma,Array.prototype.slice.call(arguments,1))},Ic.prototype.gc=function(t,e,n){Jc(this,t),this.Dc[t]=this.Dc[t]||[],this.Dc[t].push({Ie:e,Ma:n}),(t=this.Ue(t))&&e.apply(n,t)},Ic.prototype.Ic=function(t,e,n){Jc(this,t),t=this.Dc[t]||[];for(var i=0;i<t.length;i++)if(t[i].Ie===e&&(!n||n===t[i].Ma)){t.splice(i,1);break}};var Kc=function(){var t=0,e=[];return function(n){var i=n===t;t=n;for(var o=Array(8),r=7;0<=r;r--)o[r]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(D(0===n,"Cannot push at time == 0"),n=o.join(""),i){for(r=11;0<=r&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;12>r;r++)e[r]=Math.floor(64*Math.random());for(r=0;12>r;r++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(e[r]);return D(20===n.length,"nextPushId: Length should be 20."),n}}();la(Lc,Ic),Lc.prototype.Ue=function(t){return D("online"===t,"Unknown event type: "+t),[this.hc]},ca(Lc),la(Mc,Ic),Mc.prototype.Ue=function(t){return D("visible"===t,"Unknown event type: "+t),[this.Mb]},ca(Mc),g=E.prototype,g.toString=function(){for(var t="",e=this.Y;e<this.o.length;e++)""!==this.o[e]&&(t+="/"+this.o[e]);return t||"/"},g.slice=function(t){return this.o.slice(this.Y+(t||0))},g.parent=function(){if(this.Y>=this.o.length)return null;for(var t=[],e=this.Y;e<this.o.length-1;e++)t.push(this.o[e]);return new E(t,0)},g.n=function(t){for(var e=[],n=this.Y;n<this.o.length;n++)e.push(this.o[n]);if(t instanceof E)for(n=t.Y;n<t.o.length;n++)e.push(t.o[n]);else for(t=t.split("/"),n=0;n<t.length;n++)0<t[n].length&&e.push(t[n]);return new E(e,0)},g.e=function(){return this.Y>=this.o.length},g.Z=function(t){if(Ec(this)!==Ec(t))return!1;for(var e=this.Y,n=t.Y;e<=this.o.length;e++,n++)if(this.o[e]!==t.o[n])return!1;return!0},g.contains=function(t){var e=this.Y,n=t.Y;if(Ec(this)>Ec(t))return!1;for(;e<this.o.length;){if(this.o[e]!==t.o[n])return!1;++e,++n}return!0};var Q=new E("");Pc.prototype.push=function(t){0<this.Qa.length&&(this.Ha+=1),this.Qa.push(t),this.Ha+=nb(t),Qc(this)},Pc.prototype.pop=function(){var t=this.Qa.pop();this.Ha-=nb(t),0<this.Qa.length&&--this.Ha},g=Tc.prototype,g.Ca=function(){return this.A.value},g.clear=function(){this.A.value=null,this.A.children={},this.A.bd=0,Wc(this)},g.kd=function(){return 0<this.A.bd},g.e=function(){return null===this.Ca()&&!this.kd()},g.O=function(t){var e=this;v(this.A.children,function(n,i){t(new Tc(i,e,n))})},g.path=function(){return new E(null===this.Pc?this.ud:this.Pc.path()+"/"+this.ud)},g.name=function(){return this.ud},g.parent=function(){return this.Pc},g=Zc.prototype,g.Oa=function(t,e){return new Zc(this.La,this.ba.Oa(t,e,this.La).X(null,null,!1,null,null))},g.remove=function(t){return new Zc(this.La,this.ba.remove(t,this.La).X(null,null,!1,null,null))},g.get=function(t){for(var e,n=this.ba;!n.e();){if(0===(e=this.La(t,n.key)))return n.value;0>e?n=n.left:0<e&&(n=n.right)}return null},g.e=function(){return this.ba.e()},g.count=function(){return this.ba.count()},g.Gc=function(){return this.ba.Gc()},g.ec=function(){return this.ba.ec()},g.ha=function(t){return this.ba.ha(t)},g.Wb=function(t){return new bd(this.ba,null,this.La,!1,t)},g.Xb=function(t,e){return new bd(this.ba,t,this.La,!1,e)},g.Zb=function(t,e){return new bd(this.ba,t,this.La,!0,e)},g.We=function(t){return new bd(this.ba,null,this.La,!0,t)},g=dd.prototype,g.X=function(t,e,n,i,o){return new dd(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=o?o:this.right)},g.count=function(){return this.left.count()+1+this.right.count()},g.e=function(){return!1},g.ha=function(t){return this.left.ha(t)||t(this.key,this.value)||this.right.ha(t)},g.Gc=function(){return ed(this).key},g.ec=function(){return this.right.e()?this.key:this.right.ec()},g.Oa=function(t,e,n){var i,o;return o=this,i=n(t,o.key),o=0>i?o.X(null,null,null,o.left.Oa(t,e,n),null):0===i?o.X(null,e,null,null,null):o.X(null,null,null,null,o.right.Oa(t,e,n)),gd(o)},g.remove=function(t,e){var n,i;if(n=this,0>e(t,n.key))n.left.e()||n.left.ea()||n.left.left.ea()||(n=id(n)),n=n.X(null,null,null,n.left.remove(t,e),null);else{if(n.left.ea()&&(n=jd(n)),n.right.e()||n.right.ea()||n.right.left.ea()||(n=kd(n),n.left.left.ea()&&(n=jd(n),n=kd(n))),0===e(t,n.key)){if(n.right.e())return $c;i=ed(n.right),n=n.X(i.key,i.value,null,null,hd(n.right))}n=n.X(null,null,null,null,n.right.remove(t,e))}return gd(n)},g.ea=function(){return this.color},g=md.prototype,g.X=function(){return this},g.Oa=function(t,e){return new dd(t,e,null)},g.remove=function(){return this},g.count=function(){return 0},g.e=function(){return!0},g.ha=function(){return!1},g.Gc=function(){return null},g.ec=function(){return null},g.ea=function(){return!1};var $c=new md;g=O.prototype,g.J=function(){return!1},g.C=function(){return this.aa||L},g.fa=function(t){return this.k.e()?this:new O(this.k,t,this.yb)},g.Q=function(t){return".priority"===t?this.C():(t=this.k.get(t),null===t?L:t)},g.P=function(t){var e=K(t);return null===e?this:this.Q(e).P(N(t))},g.Da=function(t){return null!==this.k.get(t)},g.T=function(t,e){if(D(e,"We should always be passing snapshot nodes"),".priority"===t)return this.fa(e);var n,i,o=new C(t,e);return e.e()?(n=this.k.remove(t),o=Ac(this.yb,o,this.k)):(n=this.k.Oa(t,e),o=yc(this.yb,o,this.k)),i=n.e()?L:this.aa,new O(n,i,o)},g.F=function(t,e){var n=K(t);if(null===n)return e;D(".priority"!==K(t)||1===Ec(t),".priority must be the last token in a path");var i=this.Q(n).F(N(t),e);return this.T(n,i)},g.e=function(){return this.k.e()},g.Eb=function(){return this.k.count()};var nd=/^(0|[1-9]\d*)$/;g=O.prototype,g.H=function(t){if(this.e())return null;var e={},n=0,i=0,o=!0;if(this.O(H,function(r,a){e[r]=a.H(t),n++,o&&nd.test(r)?i=Math.max(i,Number(r)):o=!1}),!t&&o&&i<2*n){var r,a=[];for(r in e)a[r]=e[r];return a}return t&&!this.C().e()&&(e[".priority"]=this.C().H()),e},g.hash=function(){if(null===this.Db){var t="";this.C().e()||(t+="priority:"+Fc(this.C().H())+":"),this.O(H,function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.Db=""===t?"":Ob(t)}return this.Db},g.Ve=function(t,e,n){return(n=od(this,n))?(t=ad(n,new C(t,e)))?t.name:null:ad(this.k,t)},g.O=function(t,e){var n=od(this,t);return n?n.ha(function(t){return e(t.name,t.R)}):this.k.ha(e)},g.Wb=function(t){return this.Xb(t.Hc(),t)},g.Xb=function(t,e){var n=od(this,e);if(n)return n.Xb(t,function(t){return t});for(var n=this.k.Xb(t.name,qb),i=cd(n);null!=i&&0>e.compare(i,t);)M(n),i=cd(n);return n},g.We=function(t){return this.Zb(t.Fc(),t)},g.Zb=function(t,e){var n=od(this,e);if(n)return n.Zb(t,function(t){return t});for(var n=this.k.Zb(t.name,qb),i=cd(n);null!=i&&0<e.compare(i,t);)M(n),i=cd(n);return n},g.sc=function(t){return this.e()?t.e()?0:-1:t.J()||t.e()?1:t===qc?-1:0},g.nb=function(t){if(t===tc||Pa(this.yb.cc,t.toString()))return this;var e=this.yb,n=this.k;D(t!==tc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i=[],o=!1,n=n.Wb(qb),r=M(n);r;)o=o||t.xc(r.R),i.push(r),r=M(n);return i=o?zc(i,nc(t)):mc,o=t.toString(),n=Ta(e.cc),n[o]=t,t=Ta(e.od),t[o]=i,new O(this.k,this.aa,new xc(t,n))},g.yc=function(t){return t===tc||Pa(this.yb.cc,t.toString())},g.Z=function(t){if(t===this)return!0;if(t.J())return!1;if(this.C().Z(t.C())&&this.k.count()===t.k.count()){var e=this.Wb(H);t=t.Wb(H);for(var n=M(e),i=M(t);n&&i;){if(n.name!==i.name||!n.R.Z(i.R))return!1;n=M(e),i=M(t)}return null===n&&null===i}return!1},g.toString=function(){return x(this.H(!0))};var rd=Math.log(2),L=new O(new Zc(tb),null,Bc);la(ud,O),g=ud.prototype,g.sc=function(t){return t===this?0:1},g.Z=function(t){return t===this},g.C=function(){return this},g.Q=function(){return L},g.e=function(){return!1};var qc=new ud,oc=new C("[MIN_NAME]",L),vc=new C("[MAX_NAME]",qc),wd=new Zc(function(t,e){return t===e?0:t<e?-1:1});g=vd.prototype,g.e=function(){return null===this.value&&this.children.e()},g.subtree=function(t){if(t.e())return this;var e=this.children.get(K(t));return null!==e?e.subtree(N(t)):R},g.set=function(t,e){if(t.e())return new vd(e,this.children);var n=K(t),i=(this.children.get(n)||R).set(N(t),e),n=this.children.Oa(n,i);return new vd(this.value,n)},g.remove=function(t){if(t.e())return this.children.e()?R:new vd(null,this.children);var e=K(t),n=this.children.get(e);return n?(t=n.remove(N(t)),e=t.e()?this.children.remove(e):this.children.Oa(e,t),null===this.value&&e.e()?R:new vd(this.value,e)):this},g.get=function(t){if(t.e())return this.value;var e=this.children.get(K(t));return e?e.get(N(t)):null};var R=new vd(null);vd.prototype.toString=function(){var t={};return Hd(this,function(e,n){t[e.toString()]=n.toString()}),x(t)};var Kd=/[\[\].#$\/\u0000-\u001F\u007F]/,Ld=/[\[\].#$\u0000-\u001F\u007F]/;Gb.prototype.find=function(t){if(null!=this.B)return this.B.P(t);if(t.e()||null==this.k)return null;var e=K(t);return t=N(t),this.k.contains(e)?this.k.get(e).find(t):null},Gb.prototype.O=function(t){null!==this.k&&Hc(this.k,function(e,n){t(e,n)})},Zd.prototype.Mc=function(){return this.path.e()?new Zd(this.source,Q):new Zd(this.source,N(this.path))},Zd.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},ae.prototype.Mc=function(t){return this.path.e()?(t=this.children.subtree(new E(t)),t.e()?null:t.value?new ce(this.source,Q,t.value):new ae(this.source,Q,t)):(D(K(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ae(this.source,N(this.path),this.children))},ae.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},de.prototype.Mc=function(t){return this.path.e()?null!=this.Ob.value?(D(this.Ob.children.e(),"affectedTree should not have overlapping affected paths."),this):(t=this.Ob.subtree(new E(t)),new de(Q,t,this.Id)):(D(K(this.path)===t,"operationForChild called for unrelated child."),new de(N(this.path),this.Ob,this.Id))},de.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Id+" affectedTree="+this.Ob+")"},ce.prototype.Mc=function(t){return this.path.e()?new ce(this.source,Q,this.Ga.Q(t)):new ce(this.source,N(this.path),this.Ga)},ce.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ga.toString()+")"};var ge=0,be=1,ee=2,$d=3,fe=new he(!0,!1,null,!1),ie=new he(!1,!0,null,!1);he.prototype.toString=function(){return this.ee?"user":this.Ee?"server(queryID="+this.Hb+")":"server"},je.prototype.j=function(){return this.A},oe.prototype.w=function(){return this.Ld},se.prototype.Te=function(){return null},se.prototype.fe=function(){return null};var te=new se;ue.prototype.Te=function(t){var e=this.Ka.N;return ne(e,t)?e.j().Q(t):(e=null!=this.yd?new je(this.yd,!0,!1):this.Ka.w(),this.xf.qc(t,e))},ue.prototype.fe=function(t,e,n){var i=null!=this.yd?this.yd:re(this.Ka);return t=this.xf.Xd(i,e,1,n,t),0===t.length?null:t[0]},we.prototype.eb=function(t,e,n,i){var o,r=new xe;if(e.type===ge)e.source.ee?n=ye(this,t,e.path,e.Ga,n,i,r):(D(e.source.Se,"Unknown source."),o=e.source.Ee||le(t.w())&&!e.path.e(),n=ze(this,t,e.path,e.Ga,n,i,o,r));else if(e.type===be)e.source.ee?n=Ae(this,t,e.path,e.children,n,i,r):(D(e.source.Se,"Unknown source."),o=e.source.Ee||le(t.w()),n=Be(this,t,e.path,e.children,n,i,o,r));else if(e.type===ee)if(e.Id)if(e=e.path,null!=n.lc(e))n=t;else{if(o=new ue(n,t,i),i=t.N.j(),e.e()||".priority"===K(e))ke(t.w())?e=n.Aa(re(t)):(e=t.w().j(),D(e instanceof O,"serverChildren would be complete if leaf node"),e=n.rc(e)),e=this.U.ya(i,e,r);else{var a=K(e),s=n.qc(a,t.w());null==s&&ne(t.w(),a)&&(s=i.Q(a)),e=null!=s?this.U.F(i,a,s,N(e),o,r):t.N.j().Da(a)?this.U.F(i,a,L,N(e),o,r):i,e.e()&&ke(t.w())&&(i=n.Aa(re(t)),i.J()&&(e=this.U.ya(e,i,r)))}i=ke(t.w())||null!=n.lc(Q),n=pe(t,e,i,this.U.Na())}else n=Ce(this,t,e.path,e.Ob,n,i,r);else{if(e.type!==$d)throw Mb("Unknown operation type: "+e.type);i=e.path,e=t.w(),o=e.j(),a=e.da||i.e(),n=De(this,new oe(t.N,new je(o,a,e.Sb)),i,n,te,r)}return r=Na(r.fb),i=n,e=i.N,e.da&&(o=e.j().J()||e.j().e(),a=qe(t),(0<r.length||!t.N.da||o&&!e.j().Z(a)||!e.j().C().Z(a.C()))&&r.push(Ee(qe(i)))),new ve(n,r)},Ge.prototype.Ff=function(t,e){if(null==t.Xa||null==e.Xa)throw Mb("Should only compare child_ events.");return this.g.compare(new C(t.Xa,t.Ja),new C(e.Xa,e.Ja))},g=Pe.prototype,g.w=function(){return this.Ka.w().j()},g.hb=function(t){var e=re(this.Ka);return e&&(T(this.V.m)||!t.e()&&!e.Q(K(t)).e())?e.P(t):null},g.e=function(){return 0===this.Za.length},g.Nb=function(t){this.Za.push(t)},g.kb=function(t,e){var n=[];if(e){D(null==t,"A cancel should cancel all event registrations.");var i=this.V.path;ya(this.Za,function(t){(t=t.Me(e,i))&&n.push(t)})}if(t){for(var o=[],r=0;r<this.Za.length;++r){var a=this.Za[r];if(a.matches(t)){if(t.Xe()){o=o.concat(this.Za.slice(r+1));break}}else o.push(a)}this.Za=o}else this.Za=[];return n},g.eb=function(t,e,n){t.type===be&&null!==t.source.Hb&&(D(re(this.Ka),"We should always have a full cache before handling merges"),D(qe(this.Ka),"Missing event cache, even though we have a server cache"));var i=this.Ka;return t=this.hf.eb(i,t,e,n),e=this.hf,n=t.Sd,D(n.N.j().yc(e.U.g),"Event snap not indexed"),D(n.w().j().yc(e.U.g),"Server snap not indexed"),D(ke(t.Sd.w())||!ke(i.w()),"Once a server snap is complete, it should never go back"),this.Ka=t.Sd,Ue(this,t.Df,t.Sd.N.j(),null)},We.prototype.Yb=function(){var t=this.Md.wb();return"value"===this.hd?t.path:t.getParent().path},We.prototype.ge=function(){return this.hd},We.prototype.Tb=function(){return this.ae.Tb(this)},We.prototype.toString=function(){return this.Yb().toString()+":"+this.hd+":"+x(this.Md.be())},Xe.prototype.Yb=function(){return this.path},Xe.prototype.ge=function(){return"cancel"},Xe.prototype.Tb=function(){return this.ae.Tb(this)},Xe.prototype.toString=function(){return this.path.toString()+":cancel"},$e.prototype.add=function(t){this.jd.push(t)},$e.prototype.Yb=function(){return this.qa},g=Qe.prototype,g.F=function(t,e,n,i,o,r){return D(t.yc(this.g),"A node must be indexed if only a child is updated"),o=t.Q(e),o.P(i).Z(n.P(i))&&o.e()==n.e()?t:(null!=r&&(n.e()?t.Da(e)?df(r,new S(Le,o,e)):D(t.J(),"A child remove without an old child only makes sense on a leaf node"):o.e()?df(r,new S(Me,n,e)):df(r,new S(Ie,n,e,o))),t.J()&&n.e()?t:t.T(e,n).nb(this.g))},g.ya=function(t,e,n){return null!=n&&(t.J()||t.O(H,function(t,i){e.Da(t)||df(n,new S(Le,i,t))}),e.J()||e.O(H,function(e,i){if(t.Da(e)){var o=t.Q(e);o.Z(i)||df(n,new S(Ie,i,e,o))}else df(n,new S(Me,i,e))})),e.nb(this.g)},g.fa=function(t,e){return t.e()?L:t.fa(e)},g.Na=function(){return!1},g.Ub=function(){return this},g=Se.prototype,g.matches=function(t){return 0>=this.g.compare(this.Uc,t)&&0>=this.g.compare(t,this.vc)},g.F=function(t,e,n,i,o,r){return this.matches(new C(e,n))||(n=L),this.he.F(t,e,n,i,o,r)},g.ya=function(t,e,n){e.J()&&(e=L);var i=e.nb(this.g),i=i.fa(L),o=this;return e.O(H,function(t,e){o.matches(new C(t,e))||(i=i.T(t,L))}),this.he.ya(t,i,n)},g.fa=function(t){return t},g.Na=function(){return!0},g.Ub=function(){return this.he},g=Re.prototype,g.F=function(t,e,n,i,o,r){return this.sa.matches(new C(e,n))||(n=L),t.Q(e).Z(n)?t:t.Eb()<this.oa?this.sa.Ub().F(t,e,n,i,o,r):kf(this,t,e,n,o,r)},g.ya=function(t,e,n){var i;if(e.J()||e.e())i=L.nb(this.g);else if(2*this.oa<e.Eb()&&e.yc(this.g)){i=L.nb(this.g),e=this.Ib?e.Zb(this.sa.vc,this.g):e.Xb(this.sa.Uc,this.g);for(var o=0;0<e.Pa.length&&o<this.oa;){var r=M(e);if(!(this.Ib?0>=this.g.compare(this.sa.Uc,r):0>=this.g.compare(r,this.sa.vc)))break;i=i.T(r.name,r.R),o++}}else{i=e.nb(this.g),i=i.fa(L);var a,s,u;if(this.Ib){e=i.We(this.g),a=this.sa.vc,s=this.sa.Uc;var l=nc(this.g);u=function(t,e){return l(e,t)}}else e=i.Wb(this.g),a=this.sa.Uc,s=this.sa.vc,u=nc(this.g);for(var o=0,c=!1;0<e.Pa.length;)r=M(e),!c&&0>=u(a,r)&&(c=!0),c&&o<this.oa&&0>=u(r,s)?o++:i=i.T(r.name,L)}return this.sa.Ub().ya(t,i,n)},g.fa=function(t){return t},g.Na=function(){return!0},g.Ub=function(){return this.sa.Ub()};var Me="child_added",Le="child_removed",Ie="child_changed",Je="child_moved",Ne="value",mf=new lf;g=lf.prototype,g.ne=function(t){var e=nf(this);return e.xa=!0,e.oa=t,e.mb="l",e},g.oe=function(t){var e=nf(this);return e.xa=!0,e.oa=t,e.mb="r",e},g.Nd=function(t,e){var i=nf(this);return i.ka=!0,n(t)||(t=null),i.dc=t,null!=e?(i.Kb=!0,i.zb=e):(i.Kb=!1,i.zb=""),i},g.gd=function(t,e){var i=nf(this);return i.na=!0,n(t)||(t=null),i.ac=t,n(e)?(i.Rb=!0,i.xb=e):(i.vg=!1,i.xb=""),i},g.toString=function(){return x(pf(this))};var tf=new sf(new vd(null));sf.prototype.Ed=function(t){return t.e()?tf:(t=Ad(this.W,t,R),new sf(t))},sf.prototype.e=function(){return this.W.e()},sf.prototype.apply=function(t){return zf(Q,this.W,t)},Af.prototype.j=function(t){return this.Jd.P(t)},Af.prototype.toString=function(){return this.Jd.toString()},Bf.prototype.getToken=function(t){return this.oc.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(I("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},g=Df.prototype,g.Ed=function(t){var e=Ea(this.la,function(e){return e.Zc===t});D(0<=e,"removeWrite called with nonexistent writeId.");var n=this.la[e];this.la.splice(e,1);for(var i=n.visible,o=!1,r=this.la.length-1;i&&0<=r;){var a=this.la[r];a.visible&&(r>=e&&Ff(a,n.path)?i=!1:n.path.contains(a.path)&&(o=!0)),r--}if(i){if(o)this.S=Gf(this.la,Hf,Q),this.Bc=0<this.la.length?this.la[this.la.length-1].Zc:-1;else if(n.Ga)this.S=this.S.Ed(n.path);else{var s=this;v(n.children,function(t,e){s.S=s.S.Ed(n.path.n(e))})}return!0}return!1},g.Aa=function(t,e,n,i){if(n||i){var o=yf(this.S,t);return!i&&o.e()?e:i||null!=e||null!=wf(o,Q)?(o=Gf(this.la,function(e){return(e.visible||i)&&(!n||!(0<=xa(n,e.Zc)))&&(e.path.contains(t)||t.contains(e.path))},t),e=e||L,o.apply(e)):null}return null!=(o=wf(this.S,t))?o:(o=yf(this.S,t),o.e()?e:null!=e||null!=wf(o,Q)?(e=e||L,o.apply(e)):null)},g.rc=function(t,e){var n=L,i=wf(this.S,t);if(i)i.J()||i.O(H,function(t,e){n=n.T(t,e)});else if(e){var o=yf(this.S,t);e.O(H,function(t,e){var i=yf(o,new E(t)).apply(e);n=n.T(t,i)}),ya(xf(o),function(t){n=n.T(t.name,t.R)})}else o=yf(this.S,t),ya(xf(o),function(t){n=n.T(t.name,t.R)});return n},g.ad=function(t,e,n,i){return D(n||i,"Either existingEventSnap or existingServerSnap must exist"),t=t.n(e),null!=wf(this.S,t)?null:(t=yf(this.S,t),t.e()?i.P(e):t.apply(i.P(e)))},g.qc=function(t,e,n){t=t.n(e);var i=wf(this.S,t);return null!=i?i:ne(n,e)?yf(this.S,t).apply(n.j().Q(e)):null},g.lc=function(t){return wf(this.S,t)},g.Xd=function(t,e,n,i,o,r){var a;if(t=yf(this.S,t),null==(a=wf(t,Q))){if(null==e)return[];a=t.apply(e)}if(a=a.nb(r),a.e()||a.J())return[];for(e=[],t=nc(r),o=o?a.Zb(n,r):a.Xb(n,r),r=M(o);r&&e.length<i;)0!==t(r,n)&&e.push(r),r=M(o);return e},g=If.prototype,g.Aa=function(t,e,n){return this.W.Aa(this.Lb,t,e,n)},g.rc=function(t){return this.W.rc(this.Lb,t)},g.ad=function(t,e,n){return this.W.ad(this.Lb,t,e,n)},g.lc=function(t){return this.W.lc(this.Lb.n(t))},g.Xd=function(t,e,n,i,o){return this.W.Xd(this.Lb,t,e,n,i,o)},g.qc=function(t,e){return this.W.qc(this.Lb,t,e)},g.n=function(t){return new If(this.Lb.n(t),this.W)},Jf.prototype.lf=function(){var t,e=this.Vc.get(),n={},i=!1;for(t in e)0<e[t]&&eb(this.rf,t)&&(n[t]=e[t],i=!0);i&&this.va.ye(n),hc(q(this.lf,this),Math.floor(6e5*Math.random()))},Lf.prototype.get=function(){return Ta(this.tc)},Kf.prototype.get=function(){var t=this.Ef.get(),e=Ta(t);if(this.rd)for(var n in this.rd)e[n]-=this.rd[n];return this.rd=t,e};var Nf={},Of={};g=Rf.prototype,g.$e=function(t,e,n,i){var o=t.path.toString();this.f("Listen called for "+o+" "+t.ja());var r=Sf(t,n),a={};this.$[r]=a,t=rf(t.m);var s=this;Tf(this,o+".json",t,function(t,e){var u=e;404===t&&(t=u=null),null===t&&s.Gb(o,u,!1,n),w(s.$,r)===a&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},g.uf=function(t,e){var n=Sf(t,e);delete this.$[n]},g.kf=function(){},g.re=function(){},g.cf=function(){},g.xd=function(){},g.put=function(){},g.af=function(){},g.ye=function(){};var Cb="websocket",Db="long_polling",Xf=null;"undefined"!=typeof MozWebSocket?Xf=MozWebSocket:"undefined"!=typeof WebSocket&&(Xf=WebSocket);var Zf;Yf.prototype.open=function(t,e){this.ib=e,this.Xf=t,this.f("Websocket connecting to "+this.Ke),this.wc=!1,xb.set("previous_websocket_failure",!0);try{this.Ia=new Xf(this.Ke)}catch(t){this.f("Error instantiating WebSocket.");var n=t.message||t.data;return n&&this.f(n),void this.bb()}var i=this;this.Ia.onopen=function(){i.f("Websocket connected."),i.wc=!0},this.Ia.onclose=function(){i.f("Websocket connection was disconnected."),i.Ia=null,i.bb()},this.Ia.onmessage=function(t){if(null!==i.Ia)if(t=t.data,i.pb+=t.length,Mf(i.Va,"bytes_received",t.length),$f(i),null!==i.frames)ag(i,t);else{t:{if(D(null===i.frames,"We already have a frame buffer"),6>=t.length){var e=Number(t);if(!isNaN(e)){i.Fe=e,i.frames=[],t=null;break t}}i.Fe=1,i.frames=[]}null!==t&&ag(i,t)}},this.Ia.onerror=function(t){i.f("WebSocket error.  Closing connection."),(t=t.message||t.data)&&i.f(t),i.bb()}},Yf.prototype.start=function(){},Yf.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&4.4>parseFloat(e[1])&&(t=!0)}return!t&&null!==Xf&&!Zf},Yf.responsesRequiredToBeHealthy=2,Yf.healthyTimeout=3e4,g=Yf.prototype,g.sd=function(){xb.remove("previous_websocket_failure")},g.send=function(t){$f(this),t=x(t),this.qb+=t.length,Mf(this.Va,"bytes_sent",t.length),t=bc(t,16384),1<t.length&&bg(this,String(t.length));for(var e=0;e<t.length;e++)bg(this,t[e])},g.Tc=function(){this.Ab=!0,this.zc&&(clearInterval(this.zc),this.zc=null),this.Ia&&(this.Ia.close(),this.Ia=null)},g.bb=function(){this.Ab||(this.f("WebSocket is closing itself"),this.Tc(),this.ib&&(this.ib(this.wc),this.ib=null))},g.close=function(){this.Ab||(this.f("WebSocket is being closed"),this.Tc())};var dg,eg;cg.prototype.open=function(t,e){this.Ne=0,this.ia=e,this.bf=new Uf(t),this.Ab=!1;var n=this;this.sb=setTimeout(function(){n.f("Timed out trying to connect."),n.bb(),n.sb=null},Math.floor(3e4)),Yb(function(){if(!n.Ab){n.Ta=new fg(function(t,e,i,o,r){if(gg(n,arguments),n.Ta)if(n.sb&&(clearTimeout(n.sb),n.sb=null),n.wc=!0,"start"==t)n.id=e,n.ff=i;else{if("close"!==t)throw Error("Unrecognized command received: "+t);e?(n.Ta.Kd=!1,Vf(n.bf,e,function(){n.bb()})):n.bb()}},function(t,e){gg(n,arguments),Wf(n.bf,t,e)},function(){n.bb()},n.Yc);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.Ta.Qd&&(t.cb=n.Ta.Qd),t.v="5",n.tf&&(t.s=n.tf),n.Cb&&(t.ls=n.Cb),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),t=n.Yc(t),n.f("Connecting via long-poll to "+t),hg(n.Ta,t,function(){})}})},cg.prototype.start=function(){var t=this.Ta,e=this.ff;for(t.Vf=this.id,t.Wf=e,t.Ud=!0;ig(t););t=this.id,e=this.ff,this.fc=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.fc.src=this.Yc(n),this.fc.style.display="none",document.body.appendChild(this.fc)},cg.isAvailable=function(){return dg||!eg&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.rg)&&!0},g=cg.prototype,g.sd=function(){},g.Tc=function(){this.Ab=!0,this.Ta&&(this.Ta.close(),this.Ta=null),this.fc&&(document.body.removeChild(this.fc),this.fc=null),this.sb&&(clearTimeout(this.sb),this.sb=null)},g.bb=function(){this.Ab||(this.f("Longpoll is closing itself"),this.Tc(),this.ia&&(this.ia(this.wc),this.ia=null))},g.close=function(){this.Ab||(this.f("Longpoll is being closed."),this.Tc())},g.send=function(t){t=x(t),this.qb+=t.length,Mf(this.Va,"bytes_sent",t.length),t=mb(t),t=ab(t,!0),t=bc(t,1840);for(var e=0;e<t.length;e++){var n=this.Ta;n.Qc.push({jg:this.Ne,pg:t.length,Pe:t[e]}),n.Ud&&ig(n),this.Ne++}},fg.prototype.close=function(){if(this.Ud=!1,this.Ea){this.Ea.gb.body.innerHTML="";var t=this;setTimeout(function(){null!==t.Ea&&(document.body.removeChild(t.Ea),t.Ea=null)},Math.floor(0))}var e=this.ib;e&&(this.ib=null,e())};var mg=[cg,Yf];og.prototype.ua=function(t){zg(this,{t:"d",d:t})},og.prototype.wd=function(t){wg(this),this.te(t)},og.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,vg(this),this.ia&&(this.ia(),this.ia=null))};var Bg=0,Dg=0;g=Ag.prototype,g.ua=function(t,e,n){var i=++this.ig;t={r:i,a:t,b:e},this.f(x(t)),D(this.ma,"sendRequest call when we're not connected not allowed."),this.Fa.ua(t),n&&(this.Gd[i]=n)},g.$e=function(t,e,n,i){var o=t.ja(),r=t.path.toString();this.f("Listen called for "+r+" "+o),this.$[r]=this.$[r]||{},D(qf(t.m)||!T(t.m),"listen() called for non-default but complete query"),D(!this.$[r][o],"listen() called twice for same path/queryId."),t={G:i,ld:e,eg:t,tag:n},this.$[r][o]=t,this.ma&&Eg(this,t)},g.kf=function(t){this.ob=t,this.f("Auth token refreshed"),this.ob?Gg(this):this.ma&&this.ua("unauth",{},function(){}),(t&&40===t.length||kc(t))&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.td=3e4)},g.uf=function(t,e){var n=t.path.toString(),i=t.ja();if(this.f("Unlisten called for "+n+" "+i),D(qf(t.m)||!T(t.m),"unlisten() called for non-default but complete query"),Fg(this,n,i)&&this.ma){var o=pf(t.m);this.f("Unlisten on "+n+" for "+i),n={p:n},e&&(n.q=o,n.t=e),this.ua("n",n)}},g.re=function(t,e,n){this.ma?Ig(this,"o",t,e,n):this.Kc.push({we:t,action:"o",data:e,G:n})},g.cf=function(t,e,n){this.ma?Ig(this,"om",t,e,n):this.Kc.push({we:t,action:"om",data:e,G:n})},g.xd=function(t,e){this.ma?Ig(this,"oc",t,null,e):this.Kc.push({we:t,action:"oc",data:null,G:e})},g.put=function(t,e,n,i){Jg(this,"p",t,e,n,i)},g.af=function(t,e,n,i){Jg(this,"m",t,e,n,i)},g.ye=function(t){this.ma&&(t={c:t},this.f("reportStats",t),this.ua("s",t,function(t){"ok"!==t.s&&this.f("reportStats","Error sending stats: "+t.d)}))},g.wd=function(t){if("r"in t){this.f("from server: "+x(t));var e=t.r,n=this.Gd[e];n&&(delete this.Gd[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&(e=t.a,t=t.b,this.f("handleServerMessage",e,t),"d"===e?this.Gb(t.p,t.d,!1,t.t):"m"===e?this.Gb(t.p,t.d,!0,t.t):"c"===e?Lg(this,t.p,t.q):"ac"===e?Hg(this,t.s,t.d):"sd"===e?this.ze?this.ze(t):"msg"in t&&"undefined"!=typeof console&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: ")):Ub("Unrecognized action received from server: "+x(e)+"\nAre you using the latest client?"))}},g.Lc=function(t,e){if(this.f("connection ready"),this.ma=!0,this.Ac=(new Date).getTime(),this.ue({serverTimeOffset:t-(new Date).getTime()}),this.Cb=e,this.Re){var n={};n["sdk.js."+firebase.SDK_VERSION.replace(/\./g,"-")]=1,pb()?n["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(n["framework.reactnative"]=1),this.ye(n)}Mg(this),this.Re=!1,this.Jc(!0)},g.Zf=function(t){t&&!this.Mb&&this.Sa===this.td&&(this.f("Window became visible.  Reducing delay."),this.Sa=1e3,this.Fa||Cg(this,0)),this.Mb=t},g.Yf=function(t){t?(this.f("Browser went online."),this.Sa=1e3,this.Fa||Cg(this,0)):(this.f("Browser went offline.  Killing connection."),this.Fa&&this.Fa.close())},g.df=function(){this.f("data client disconnected"),this.ma=!1,this.Fa=null;for(var t=0;t<this.pa.length;t++){var e=this.pa[t];e&&"h"in e.mf&&e.fg&&(e.G&&e.G("disconnect"),delete this.pa[t],this.Oc--)}0===this.Oc&&(this.pa=[]),this.Gd={},Og(this)&&(this.Mb?this.Ac&&(3e4<(new Date).getTime()-this.Ac&&(this.Sa=1e3),this.Ac=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Sa=this.td,this.me=(new Date).getTime()),t=Math.max(0,this.Sa-((new Date).getTime()-this.me)),t*=Math.random(),this.f("Trying to reconnect in "+t+"ms"),Cg(this,t),this.Sa=Math.min(this.td,1.3*this.Sa)),this.Jc(!1)},g.ab=function(t){I("Interrupting connection for reason: "+t),this.qd[t]=!0,this.Fa?this.Fa.close():(this.ub&&(clearTimeout(this.ub),this.ub=null),this.ma&&this.df())},g.kc=function(t){I("Resuming connection for reason: "+t),delete this.qd[t],Sa(this.qd)&&(this.Sa=1e3,this.Fa||Cg(this,0))};var Sg={TIMESTAMP:{".sv":"timestamp"}};g=Pg.prototype,g.app=null,g.jf=function(t){return Tg(this,"ref"),y("database.ref",0,1,arguments.length),n(t)?this.ba.n(t):this.ba},g.gg=function(t){Tg(this,"database.refFromURL"),y("database.refFromURL",1,1,arguments.length);var e=Wb(t);Xd("database.refFromURL",e);var n=e.jc;return n.host!==this.ta.L.host&&Vb("database.refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+this.ta.L.host+")"),this.jf(e.path.toString())},g.Pf=function(){y("database.goOffline",0,0,arguments.length),Tg(this,"goOffline"),this.ta.ab()},g.Qf=function(){y("database.goOnline",0,0,arguments.length),Tg(this,"goOnline"),this.ta.kc()},Object.defineProperty(Pg.prototype,"app",{get:function(){return this.ta.app}}),Rg.prototype.delete=function(){Tg(this.Ya,"delete");var t=Ug.Vb(),e=this.Ya.ta;return w(t.lb,e.app.name)!==e&&Vb("Database "+e.app.name+" has already been deleted."),e.ab(),delete t.lb[e.app.name],this.Ya.ta=null,this.Ya.ba=null,this.Ya=this.Ya.INTERNAL=null,firebase.Promise.resolve()},Pg.prototype.ref=Pg.prototype.jf,Pg.prototype.refFromURL=Pg.prototype.gg,Pg.prototype.goOnline=Pg.prototype.Qf,Pg.prototype.goOffline=Pg.prototype.Pf,Rg.prototype.delete=Rg.prototype.delete,V.prototype.H=function(){return y("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.H()},V.prototype.val=V.prototype.H,V.prototype.be=function(){return y("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.H(!0)},V.prototype.exportVal=V.prototype.be,V.prototype.toJSON=function(){return y("Firebase.DataSnapshot.toJSON",0,1,arguments.length),this.be()},V.prototype.toJSON=V.prototype.toJSON,V.prototype.Lf=function(){return y("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},V.prototype.exists=V.prototype.Lf,V.prototype.n=function(t){y("Firebase.DataSnapshot.child",0,1,arguments.length),ga(t)&&(t=String(t)),Vd("Firebase.DataSnapshot.child",t);var e=new E(t),n=this.V.n(e);return new V(this.A.P(e),n,H)},V.prototype.child=V.prototype.n,V.prototype.Da=function(t){y("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Vd("Firebase.DataSnapshot.hasChild",t);var e=new E(t);return!this.A.P(e).e()},V.prototype.hasChild=V.prototype.Da,V.prototype.C=function(){return y("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().H()},V.prototype.getPriority=V.prototype.C,V.prototype.forEach=function(t){if(y("Firebase.DataSnapshot.forEach",1,1,arguments.length),B("Firebase.DataSnapshot.forEach",1,t,!1),this.A.J())return!1;var e=this;return!!this.A.O(this.g,function(n,i){return t(new V(i,e.V.n(n),H))})},V.prototype.forEach=V.prototype.forEach,V.prototype.kd=function(){return y("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),!this.A.J()&&!this.A.e()},V.prototype.hasChildren=V.prototype.kd,V.prototype.getKey=function(){return y("Firebase.DataSnapshot.key",0,0,arguments.length),this.V.getKey()},gc(V.prototype,"key",V.prototype.getKey),V.prototype.Eb=function(){return y("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Eb()},V.prototype.numChildren=V.prototype.Eb,V.prototype.wb=function(){return y("Firebase.DataSnapshot.ref",0,0,arguments.length),this.V},gc(V.prototype,"ref",V.prototype.wb),g=Vg.prototype,g.nf=function(t){return"value"===t},g.createEvent=function(t,e){var n=e.m.g;return new We("value",this,new V(t.Ja,e.wb(),n))},g.Tb=function(t){var e=this.tb;if("cancel"===t.ge()){D(this.rb,"Raising a cancel event on a listener with no cancel callback");var n=this.rb;return function(){n.call(e,t.error)}}var i=this.Pb;return function(){i.call(e,t.Md)}},g.Me=function(t,e){return this.rb?new Xe(this,t,e):null},g.matches=function(t){return t instanceof Vg&&(!t.Pb||!this.Pb||t.Pb===this.Pb&&t.tb===this.tb)},g.Xe=function(){return null!==this.Pb},g=Wg.prototype,g.nf=function(t){return t="children_added"===t?"child_added":t,("children_removed"===t?"child_removed":t)in this.ga},g.Me=function(t,e){return this.rb?new Xe(this,t,e):null},g.createEvent=function(t,e){D(null!=t.Xa,"Child events should have a childName.");var n=e.wb().n(t.Xa);return new We(t.type,this,new V(t.Ja,n,e.m.g),t.Dd)},g.Tb=function(t){var e=this.tb;if("cancel"===t.ge()){D(this.rb,"Raising a cancel event on a listener with no cancel callback");var n=this.rb;return function(){n.call(e,t.error)}}var i=this.ga[t.hd];return function(){i.call(e,t.Md,t.Dd)}},g.matches=function(t){if(t instanceof Wg){if(!this.ga||!t.ga)return!0;if(this.tb===t.tb){var e=La(t.ga);if(e===La(this.ga)){if(1===e){var e=Ma(t.ga),n=Ma(this.ga);return!(n!==e||t.ga[e]&&this.ga[n]&&t.ga[e]!==this.ga[n])}return Ka(this.ga,function(e,n){return t.ga[n]===e})}}}return!1},g.Xe=function(){return null!==this.ga},g=Xg.prototype,g.e=function(){return Sa(this.za)},g.eb=function(t,e,n){var i=t.source.Hb;if(null!==i)return i=w(this.za,i),D(null!=i,"SyncTree gave us an op for an invalid query."),i.eb(t,e,n);var o=[];return v(this.za,function(i){o=o.concat(i.eb(t,e,n))}),o},g.Nb=function(t,e,n,i,o){var r=t.ja(),a=w(this.za,r);if(!a){var a=n.Aa(o?i:null),s=!1;a?s=!0:(a=i instanceof O?n.rc(i):L,s=!1),a=new Pe(t,new oe(new je(a,s,!1),new je(i,o,!1))),this.za[r]=a}return a.Nb(e),Ve(a,e)},g.kb=function(t,e,n){var i=t.ja(),o=[],r=[],a=null!=Yg(this);if("default"===i){var s=this;v(this.za,function(t,i){r=r.concat(t.kb(e,n)),t.e()&&(delete s.za[i],T(t.V.m)||o.push(t.V))})}else{var u=w(this.za,i);u&&(r=r.concat(u.kb(e,n)),u.e()&&(delete this.za[i],T(u.V.m)||o.push(u.V)))}return a&&null==Yg(this)&&o.push(new U(t.u,t.path)),{hg:o,Kf:r}},g.hb=function(t){var e=null;return v(this.za,function(n){e=e||n.hb(t)}),e},ah.prototype.Nb=function(t,e){var n=t.path,i=null,o=!1;Fd(this.wa,n,function(t,e){var r=P(t,n);i=i||e.hb(r),o=o||null!=Yg(e)});var r=this.wa.get(n);r?(o=o||null!=Yg(r),i=i||r.hb(Q)):(r=new Xg,this.wa=this.wa.set(n,r));var a;null!=i?a=!0:(a=!1,i=L,Jd(this.wa.subtree(n),function(t,e){var n=e.hb(Q);n&&(i=i.T(t,n))}));var s=null!=$g(r,t);if(!s&&!T(t.m)){var u=lh(t);D(!(u in this.ic),"View does not exist, but we have a tag");var l=mh++;this.ic[u]=l,this.De["_"+l]=u}return a=r.Nb(t,e,new If(n,this.jb),i,a),s||o||(r=$g(r,t),a=a.concat(nh(this,t,r))),a},ah.prototype.kb=function(t,e,n){var i=t.path,o=this.wa.get(i),r=[];if(o&&("default"===t.ja()||null!=$g(o,t))){r=o.kb(t,e,n),o.e()&&(this.wa=this.wa.remove(i)),o=r.hg,r=r.Kf,e=-1!==Ea(o,function(t){return T(t.m)});var a=Dd(this.wa,i,function(t,e){return null!=Yg(e)});if(e&&!a&&(i=this.wa.subtree(i),!i.e()))for(var i=oh(i),s=0;s<i.length;++s){var u=i[s],l=u.V,u=ph(this,u);this.Cc.Ae(qh(l),rh(this,l),u.ld,u.G)}if(!a&&0<o.length&&!n)if(e)this.Cc.Od(qh(t),null);else{var c=this;ya(o,function(t){t.ja();var e=c.ic[lh(t)];c.Cc.Od(qh(t),e)})}sh(this,o)}return r},ah.prototype.Aa=function(t,e){var n=this.jb,i=Dd(this.wa,t,function(e,n){var i=P(e,t);if(i=n.hb(i))return i});return n.Aa(t,i,e,!0)};var mh=1;g=Qg.prototype,g.toString=function(){return(this.L.Sc?"https://":"http://")+this.L.host},g.name=function(){return this.L.pe},g.Gb=function(t,e,n,i){this.fd++;var o=new E(t);e=this.je?this.je(t,e):e,t=[],i?n?(e=Ja(e,function(t){return G(t)}),t=kh(this.K,o,e,i)):(e=G(e),t=gh(this.K,o,e,i)):n?(i=Ja(e,function(t){return G(t)}),t=fh(this.K,o,i)):(i=G(e),t=ch(this.K,new ce(ie,o,i))),i=o,0<t.length&&(i=yh(this,o)),cf(this.ca,i,t)},g.Jc=function(t){vh(this,"connected",t),!1===t&&zh(this)},g.ue=function(t){var e=this;cc(t,function(t,n){vh(e,n,t)})},g.Jb=function(t,e,n,i){this.f("set",{path:t.toString(),value:e,ug:n});var o=xh(this);e=G(e,n);var o=Jb(e,o),r=this.vd++,o=bh(this.K,t,o,r,!0);Ze(this.ca,o);var a=this;this.va.put(t.toString(),e.H(!0),function(e,n){var o="ok"===e;o||J("set at "+t+" failed: "+e),o=eh(a.K,r,!o),cf(a.ca,t,o),Ah(i,e,n)}),o=Bh(this,t),yh(this,o),cf(this.ca,o,[])},g.update=function(t,e,n){this.f("update",{path:t.toString(),value:e});var i=!0,o=xh(this),r={};if(v(e,function(t,e){i=!1;var n=G(t);r[e]=Jb(n,o)}),i)I("update() called with empty data.  Don't do anything."),Ah(n,"ok");else{var a=this.vd++,s=dh(this.K,t,r,a);Ze(this.ca,s);var u=this;this.va.af(t.toString(),e,function(e,i){var o="ok"===e;o||J("update at "+t+" failed: "+e);var o=eh(u.K,a,!o),r=t;0<o.length&&(r=yh(u,t)),cf(u.ca,r,o),Ah(n,e,i)}),v(e,function(e,n){var i=Bh(u,t.n(n));yh(u,i)}),cf(this.ca,t,[])}},g.xd=function(t,e){var n=this;this.va.xd(t.toString(),function(i,o){"ok"===i&&Yd(n.ia,t),Ah(e,i,o)})},g.ab=function(){this.Ra&&this.Ra.ab("repo_interrupt")},g.kc=function(){this.Ra&&this.Ra.kc("repo_interrupt")},g.Be=function(t){if("undefined"!=typeof console){t?(this.Vc||(this.Vc=new Kf(this.Va)),t=this.Vc.get()):t=this.Va.get();var e,n=Ba(Oa(t),function(t,e){return Math.max(e.length,t)},0);for(e in t){for(var i=t[e],o=e.length;o<n+2;o++)e+=" ";console.log(e+i)}}},g.Ce=function(t){Mf(this.Va,t),this.og.rf[t]=!0},g.f=function(t){var e="";this.Ra&&(e=this.Ra.id+":"),I(e,arguments)},Ug.prototype.ab=function(){for(var t in this.lb)this.lb[t].ab()},Ug.prototype.kc=function(){for(var t in this.lb)this.lb[t].kc()},Ug.prototype.ce=function(t){this.wf=t},ca(Ug),Ug.prototype.interrupt=Ug.prototype.ab,Ug.prototype.resume=Ug.prototype.kc;var W={};W.nc=Ag,W.DataConnection=W.nc,Ag.prototype.ng=function(t,e){this.ua("q",{p:t},e)},W.nc.prototype.simpleListen=W.nc.prototype.ng,Ag.prototype.Hf=function(t,e){this.ua("echo",{d:t},e)},W.nc.prototype.echo=W.nc.prototype.Hf,Ag.prototype.interrupt=Ag.prototype.ab,W.zf=og,W.RealTimeConnection=W.zf,og.prototype.sendRequest=og.prototype.ua,og.prototype.close=og.prototype.close,W.Rf=function(t){var e=Ag.prototype.put;return Ag.prototype.put=function(i,o,r,a){n(a)&&(a=t()),e.call(this,i,o,r,a)},function(){Ag.prototype.put=e}},W.hijackHash=W.Rf,W.yf=zb,W.ConnectionTarget=W.yf,W.ja=function(t){return t.ja()},W.queryIdentifier=W.ja,W.Uf=function(t){return t.u.Ra.$},W.listens=W.Uf,W.ce=function(t){Ug.Vb().ce(t)},W.forceRestClient=W.ce,W.Context=Ug,g=X.prototype,g.wb=function(){return y("Query.ref",0,0,arguments.length),new U(this.u,this.path)},g.gc=function(t,e,n,i){y("Query.on",2,4,arguments.length),Td("Query.on",t,!1),B("Query.on",2,e,!1);var o=Th("Query.on",n,i);if("value"===t)Fh(this.u,this,new Vg(e,o.cancel||null,o.Ma||null));else{var r={};r[t]=e,Fh(this.u,this,new Wg(r,o.cancel,o.Ma))}return e},g.Ic=function(t,e,n){y("Query.off",0,3,arguments.length),Td("Query.off",t,!0),B("Query.off",2,e,!0),ob("Query.off",3,n);var i=null,o=null;"value"===t?i=new Vg(e||null,null,n||null):t&&(e&&(o={},o[t]=e),i=new Wg(o,null,n||null)),o=this.u,i=".info"===K(this.path)?o.pd.kb(this,i):o.K.kb(this,i),af(o.ca,this.path,i)},g.$f=function(t,e){function n(s){r&&(r=!1,o.Ic(t,n),e&&e.call(i.Ma,s),a.resolve(s))}y("Query.once",1,4,arguments.length),Td("Query.once",t,!1),B("Query.once",2,e,!0);var i=Th("Query.once",arguments[2],arguments[3]),o=this,r=!0,a=new ib;return kb(a.ra),this.gc(t,n,function(e){o.Ic(t,n),i.cancel&&i.cancel.call(i.Ma,e),a.reject(e)}),a.ra},g.ne=function(t){if(y("Query.limitToFirst",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.ne(t),this.Nc)},g.oe=function(t){if(y("Query.limitToLast",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.oe(t),this.Nc)},g.ag=function(t){if(y("Query.orderByChild",1,1,arguments.length),"$key"===t)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Vd("Query.orderByChild",t),Sh(this,"Query.orderByChild");var e=new E(t);if(e.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return e=new pc(e),e=of(this.m,e),Qh(e),new X(this.u,this.path,e,!0)},g.bg=function(){y("Query.orderByKey",0,0,arguments.length),Sh(this,"Query.orderByKey");var t=of(this.m,tc);return Qh(t),new X(this.u,this.path,t,!0)},g.cg=function(){y("Query.orderByPriority",0,0,arguments.length),Sh(this,"Query.orderByPriority");var t=of(this.m,H);return Qh(t),new X(this.u,this.path,t,!0)},g.dg=function(){y("Query.orderByValue",0,0,arguments.length),Sh(this,"Query.orderByValue");var t=of(this.m,wc);return Qh(t),new X(this.u,this.path,t,!0)},g.Nd=function(t,e){y("Query.startAt",0,2,arguments.length),Od("Query.startAt",t,this.path,!0),Ud("Query.startAt",e);var i=this.m.Nd(t,e);if(Rh(i),Qh(i),this.m.ka)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(t)||(e=t=null),new X(this.u,this.path,i,this.Nc)},g.gd=function(t,e){y("Query.endAt",0,2,arguments.length),Od("Query.endAt",t,this.path,!0),Ud("Query.endAt",e);var n=this.m.gd(t,e);if(Rh(n),Qh(n),this.m.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new X(this.u,this.path,n,this.Nc)},g.If=function(t,e){if(y("Query.equalTo",1,2,arguments.length),Od("Query.equalTo",t,this.path,!1),Ud("Query.equalTo",e),this.m.ka)throw Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.m.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Nd(t,e).gd(t,e)},g.toString=function(){y("Query.toString",0,0,arguments.length);for(var t=this.path,e="",n=t.Y;n<t.o.length;n++)""!==t.o[n]&&(e+="/"+encodeURIComponent(String(t.o[n])));return this.u.toString()+(e||"/")},g.toJSON=function(){return y("Query.toJSON",0,1,arguments.length),this.toString()},g.ja=function(){var t=ac(pf(this.m));return"{}"===t?"default":t},g.isEqual=function(t){if(y("Query.isEqual",1,1,arguments.length),!(t instanceof X))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var e=this.u===t.u,n=this.path.Z(t.path),i=this.ja()===t.ja();return e&&n&&i},X.prototype.on=X.prototype.gc,X.prototype.off=X.prototype.Ic,X.prototype.once=X.prototype.$f,X.prototype.limitToFirst=X.prototype.ne,X.prototype.limitToLast=X.prototype.oe,X.prototype.orderByChild=X.prototype.ag,X.prototype.orderByKey=X.prototype.bg,X.prototype.orderByPriority=X.prototype.cg,X.prototype.orderByValue=X.prototype.dg,X.prototype.startAt=X.prototype.Nd,X.prototype.endAt=X.prototype.gd,X.prototype.equalTo=X.prototype.If,X.prototype.toString=X.prototype.toString,X.prototype.isEqual=X.prototype.isEqual,gc(X.prototype,"ref",X.prototype.wb),Y.prototype.cancel=function(t){y("Firebase.onDisconnect().cancel",0,1,arguments.length),B("Firebase.onDisconnect().cancel",1,t,!0);var e=new ib;return this.ta.xd(this.qa,jb(e,t)),e.ra},Y.prototype.cancel=Y.prototype.cancel,Y.prototype.remove=function(t){y("Firebase.onDisconnect().remove",0,1,arguments.length),Wd("Firebase.onDisconnect().remove",this.qa),B("Firebase.onDisconnect().remove",1,t,!0);var e=new ib;return Ch(this.ta,this.qa,null,jb(e,t)),e.ra},Y.prototype.remove=Y.prototype.remove,Y.prototype.set=function(t,e){y("Firebase.onDisconnect().set",1,2,arguments.length),Wd("Firebase.onDisconnect().set",this.qa),Od("Firebase.onDisconnect().set",t,this.qa,!1),B("Firebase.onDisconnect().set",2,e,!0);var n=new ib;return Ch(this.ta,this.qa,t,jb(n,e)),n.ra},Y.prototype.set=Y.prototype.set,Y.prototype.Jb=function(t,e,n){y("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),Wd("Firebase.onDisconnect().setWithPriority",this.qa),Od("Firebase.onDisconnect().setWithPriority",t,this.qa,!1),Sd("Firebase.onDisconnect().setWithPriority",2,e),B("Firebase.onDisconnect().setWithPriority",3,n,!0);var i=new ib;return Dh(this.ta,this.qa,t,e,jb(i,n)),i.ra},Y.prototype.setWithPriority=Y.prototype.Jb,Y.prototype.update=function(t,e){if(y("Firebase.onDisconnect().update",1,2,arguments.length),Wd("Firebase.onDisconnect().update",this.qa),ea(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,J("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Rd("Firebase.onDisconnect().update",t,this.qa),B("Firebase.onDisconnect().update",2,e,!0),n=new ib,Eh(this.ta,this.qa,t,jb(n,e)),n.ra},Y.prototype.update=Y.prototype.update;var Z={Mf:function(){dg=Zf=!0}};if(Z.forceLongPolling=Z.Mf,Z.Nf=function(){eg=!0},Z.forceWebSockets=Z.Nf,Z.Tf=function(){return Yf.isAvailable()},Z.isWebSocketsAvailable=Z.Tf,Z.lg=function(t,e){t.u.Ra.ze=e},Z.setSecurityDebugCallback=Z.lg,Z.Be=function(t,e){t.u.Be(e)},Z.stats=Z.Be,Z.Ce=function(t,e){t.u.Ce(e)},Z.statsIncrementCounter=Z.Ce,Z.fd=function(t){return t.u.fd},Z.dataUpdateCount=Z.fd,Z.Sf=function(t,e){t.u.je=e},Z.interceptServerData=Z.Sf,la(U,X),g=U.prototype,g.getKey=function(){return y("Firebase.key",0,0,arguments.length),this.path.e()?null:Oc(this.path)},g.n=function(t){if(y("Firebase.child",1,1,arguments.length),ga(t))t=String(t);else if(!(t instanceof E))if(null===K(this.path)){var e=t;e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Vd("Firebase.child",e)}else Vd("Firebase.child",t);return new U(this.u,this.path.n(t))},g.getParent=function(){y("Firebase.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new U(this.u,t)},g.Of=function(){y("Firebase.ref",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},g.Gf=function(){return this.u.Ya},g.set=function(t,e){y("Firebase.set",1,2,arguments.length),Wd("Firebase.set",this.path),Od("Firebase.set",t,this.path,!1),B("Firebase.set",2,e,!0);var n=new ib;return this.u.Jb(this.path,t,null,jb(n,e)),n.ra},g.update=function(t,e){if(y("Firebase.update",1,2,arguments.length),Wd("Firebase.update",this.path),ea(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,J("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Rd("Firebase.update",t,this.path),B("Firebase.update",2,e,!0),n=new ib,this.u.update(this.path,t,jb(n,e)),n.ra},g.Jb=function(t,e,n){if(y("Firebase.setWithPriority",2,3,arguments.length),Wd("Firebase.setWithPriority",this.path),Od("Firebase.setWithPriority",t,this.path,!1),Sd("Firebase.setWithPriority",2,e),B("Firebase.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new ib;return this.u.Jb(this.path,t,e,jb(i,n)),i.ra},g.remove=function(t){return y("Firebase.remove",0,1,arguments.length),Wd("Firebase.remove",this.path),B("Firebase.remove",1,t,!0),this.set(null,t)},g.transaction=function(t,e,i){if(y("Firebase.transaction",1,3,arguments.length),Wd("Firebase.transaction",this.path),B("Firebase.transaction",1,t,!1),B("Firebase.transaction",2,e,!0),n(i)&&"boolean"!=typeof i)throw Error(A("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.transaction failed: "+this.getKey()+" is a read-only object.";void 0===i&&(i=!0);var o=new ib;return ha(e)&&kb(o.ra),Gh(this.u,this.path,t,function(t,n,i){t?o.reject(t):o.resolve(new Ph(n,i)),ha(e)&&e(t,n,i)},i),o.ra},g.kg=function(t,e){y("Firebase.setPriority",1,2,arguments.length),Wd("Firebase.setPriority",this.path),Sd("Firebase.setPriority",1,t),B("Firebase.setPriority",2,e,!0);var n=new ib;return this.u.Jb(this.path.n(".priority"),t,null,jb(n,e)),n.ra},g.push=function(t,e){y("Firebase.push",0,2,arguments.length),Wd("Firebase.push",this.path),Od("Firebase.push",t,this.path,!0),B("Firebase.push",2,e,!0);var n=wh(this.u),i=Kc(n),n=this.n(i),o=this.n(i),i=null!=t?n.set(t,e).then(function(){return o}):hb.resolve(o);return n.then=q(i.then,i),n.catch=q(i.then,i,void 0),ha(e)&&kb(i),n},g.ib=function(){return Wd("Firebase.onDisconnect",this.path),new Y(this.u,this.path)},U.prototype.child=U.prototype.n,U.prototype.set=U.prototype.set,U.prototype.update=U.prototype.update,U.prototype.setWithPriority=U.prototype.Jb,U.prototype.remove=U.prototype.remove,U.prototype.transaction=U.prototype.transaction,U.prototype.setPriority=U.prototype.kg,U.prototype.push=U.prototype.push,U.prototype.onDisconnect=U.prototype.ib,gc(U.prototype,"database",U.prototype.Gf),gc(U.prototype,"key",U.prototype.getKey),gc(U.prototype,"parent",U.prototype.getParent),gc(U.prototype,"root",U.prototype.Of),void 0===firebase)throw Error("Cannot install Firebase Database - be sure to load firebase-app.js first.");try{firebase.INTERNAL.registerService("database",function(t){var e=Ug.Vb(),i=t.options.databaseURL;n(i)||Vb("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var o=Wb(i),i=o.jc;return Xd("Invalid Firebase Database URL",o),o.path.e()||Vb("Database URL must point to the root of a Firebase Database (not including a child path)."),(o=w(e.lb,t.name))&&Vb("FIREBASE INTERNAL ERROR: Database initialized multiple times."),o=new Qg(i,e.wf,t),e.lb[t.name]=o,o.Ya},{Reference:U,Query:X,Database:Pg,enableLogging:Sb,INTERNAL:Z,TEST_ACCESS:W,ServerValue:Sg})}catch(t){Vb("Failed to register the Firebase Database Service ("+t+")")}module.exports=firebase.database}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t){t.INTERNAL.registerService("messaging",function(t){return self&&"ServiceWorkerGlobalScope"in self?new u.default(t):new a.default(t)},{Messaging:a.default})}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.registerMessaging=o;var r=n(177),a=i(r),s=n(176),u=i(s);o(i(n(147)).default)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(159),h=i(c),f=n(148),d=i(f),p=n(162),m=i(p),g=n(160),v=i(g),_=function(t){function e(t){r(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return self.addEventListener("push",function(t){return n.onPush_(t)},!1),self.addEventListener("pushsubscriptionchange",function(t){return n.onSubChange_(t)},!1),self.addEventListener("notificationclick",function(t){return n.onNotificationClick_(t)},!1),n.bgMessageHandler_=null,n}return s(e,t),l(e,[{key:"onPush_",value:function(t){var e=this,n=void 0;try{n=t.data.json()}catch(t){return}var i=this.hasVisibleClients_().then(function(t){if(t){if(n.notification||e.bgMessageHandler_)return e.sendMessageToWindowClients_(n)}else{var i=e.getNotificationData_(n);if(i){var o=i.title||"";return self.registration.showNotification(o,i)}if(e.bgMessageHandler_)return e.bgMessageHandler_(n)}});t.waitUntil(i)}},{key:"onSubChange_",value:function(t){var e=this,n=this.getToken().then(function(t){if(!t)throw e.errorFactory_.create(d.default.codes.NO_FCM_TOKEN_FOR_RESUBSCRIBE);var n=null,i=e.getTokenManager();return i.getTokenDetailsFromToken(t).then(function(t){if(!(n=t))throw e.errorFactory_.create(d.default.codes.INVALID_SAVED_TOKEN);return self.registration.pushManager.subscribe(v.default.SUBSCRIPTION_OPTIONS)}).then(function(t){return i.subscribeToFCM(n.fcmSenderId,t,n.fcmPushSet)}).catch(function(t){return i.deleteToken(n.fcmToken).then(function(){throw e.errorFactory_.create(d.default.codes.UNABLE_TO_RESUBSCRIBE,{message:t})})})});t.waitUntil(n)}},{key:"onNotificationClick_",value:function(t){var e=this;if(t.notification&&t.notification.data&&t.notification.data.FCM_MSG){t.stopImmediatePropagation(),t.notification.close();var n=t.notification.data.FCM_MSG,i=n.notification.click_action;if(i){var o=this.getWindowClient_(i).then(function(t){return t||self.clients.openWindow(i)}).then(function(t){if(t){n.notification,delete n.notification;var i=m.default.createNewMsg(m.default.TYPES_OF_MSG.NOTIFICATION_CLICKED,n);return e.attemptToMessageClient_(t,i)}});t.waitUntil(o)}}}},{key:"getNotificationData_",value:function(t){if(t&&"object"===u(t.notification)){var e=Object.assign({},t.notification);return e.data=o({},"FCM_MSG",t),e}}},{key:"setBackgroundMessageHandler",value:function(t){if(t&&"function"!=typeof t)throw this.errorFactory_.create(d.default.codes.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler_=t}},{key:"getWindowClient_",value:function(t){var e=new URL(t).href;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(t){for(var n=null,i=0;i<t.length;i++){if(new URL(t[i].url).href===e){n=t[i];break}}if(n)return n.focus(),n})}},{key:"attemptToMessageClient_",value:function(t,e){var n=this;return new Promise(function(i,o){if(!t)return o(n.errorFactory_.create(d.default.codes.NO_WINDOW_CLIENT_TO_MSG));t.postMessage(e),i()})}},{key:"hasVisibleClients_",value:function(){return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(t){return t.some(function(t){return"visible"===t.visibilityState})})}},{key:"sendMessageToWindowClients_",value:function(t){var e=this;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(n){var i=m.default.createNewMsg(m.default.TYPES_OF_MSG.PUSH_MSG_RECEIVED,t);return Promise.all(n.map(function(t){return e.attemptToMessageClient_(t,i)}))})}},{key:"getSWRegistration_",value:function(){return Promise.resolve(self.registration)}}]),e}(h.default);e.default=_,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)},l=n(159),c=i(l),h=n(148),f=i(h),d=n(162),p=i(d),m=n(179),g=i(m),v=n(161),_=i(v),y=n(158),b=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.registrationToUse_,n.manifestCheckPromise_,n.messageObserver_=null,n.onMessage_=(0,y.createSubscribe)(function(t){n.messageObserver_=t}),n.tokenRefreshObserver_=null,n.onTokenRefresh_=(0,y.createSubscribe)(function(t){n.tokenRefreshObserver_=t}),n.setupSWMessageListener_(),n}return a(e,t),s(e,[{key:"getToken",value:function(){var t=this;return this.isSupported_()?this.manifestCheck_().then(function(){return u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getToken",t).call(t)}):Promise.reject(this.errorFactory_.create(f.default.codes.UNSUPPORTED_BROWSER))}},{key:"manifestCheck_",value:function(){var t=this;if(this.manifestCheckPromise_)return this.manifestCheckPromise_;var e=document.querySelector('link[rel="manifest"]');return this.manifestCheckPromise_=e?fetch(e.href).then(function(t){return t.json()}).catch(function(){return Promise.resolve()}).then(function(e){if(e&&e.gcm_sender_id&&"103953800507"!==e.gcm_sender_id)throw t.errorFactory_.create(f.default.codes.INCORRECT_GCM_SENDER_ID)}):Promise.resolve(),this.manifestCheckPromise_}},{key:"requestPermission",value:function(){var t=this;return Notification.permission===_.default.granted?Promise.resolve():new Promise(function(e,n){var i=function(i){return i===_.default.granted?e():n(i===_.default.denied?t.errorFactory_.create(f.default.codes.PERMISSION_BLOCKED):t.errorFactory_.create(f.default.codes.PERMISSION_DEFAULT))},o=Notification.requestPermission(function(t){o||i(t)});o&&o.then(i)})}},{key:"useServiceWorker",value:function(t){if(!(t instanceof ServiceWorkerRegistration))throw this.errorFactory_.create(f.default.codes.SW_REGISTRATION_EXPECTED);if(void 0!==this.registrationToUse_)throw this.errorFactory_.create(f.default.codes.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse_=t}},{key:"onMessage",value:function(t,e,n){return this.onMessage_(t,e,n)}},{key:"onTokenRefresh",value:function(t,e,n){return this.onTokenRefresh_(t,e,n)}},{key:"waitForRegistrationToActivate_",value:function(t){var e=this,n=t.installing||t.waiting||t.active;return new Promise(function(i,o){if(!n)return void o(e.errorFactory_.create(f.default.codes.NO_SW_IN_REG));if("activated"===n.state)return void i(t);if("redundant"===n.state)return void o(e.errorFactory_.create(f.default.codes.SW_REG_REDUNDANT));var r=function(){if("activated"===n.state)i(t);else{if("redundant"!==n.state)return;o(e.errorFactory_.create(f.default.codes.SW_REG_REDUNDANT))}n.removeEventListener("statechange",r)};n.addEventListener("statechange",r)})}},{key:"getSWRegistration_",value:function(){var t=this;return this.registrationToUse_?this.waitForRegistrationToActivate_(this.registrationToUse_):(this.registrationToUse_=null,navigator.serviceWorker.register(g.default.path,{scope:g.default.scope}).catch(function(e){throw t.errorFactory_.create(f.default.codes.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:e.message})}).then(function(e){return t.waitForRegistrationToActivate_(e).then(function(){return t.registrationToUse_=e,e.update(),e})}))}},{key:"setupSWMessageListener_",value:function(){var t=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[p.default.PARAMS.TYPE_OF_MSG]){var n=e.data;switch(n[p.default.PARAMS.TYPE_OF_MSG]){case p.default.TYPES_OF_MSG.PUSH_MSG_RECEIVED:case p.default.TYPES_OF_MSG.NOTIFICATION_CLICKED:var i=n[p.default.PARAMS.DATA];t.messageObserver_.next(i)}}},!1)}},{key:"isSupported_",value:function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}}]),e}(c.default);e.default=b,t.exports=e.default},function(t,e,n){"use strict";function i(t){var e=new Uint8Array(t);return window.btoa(String.fromCharCode.apply(null,e))}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return i(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},t.exports=e.default},function(t,e,n){"use strict";/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.default={path:"/firebase-messaging-sw.js",scope:"/firebase-cloud-messaging-push-scope"},t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(151),s=n(148),u=i(s),l=n(178),c=i(l),h=n(160),f=i(h),d="fcm_token_object_Store",p=function(){function t(){o(this,t),this.errorFactory_=new a.ErrorFactory("messaging","Messaging",u.default.map),this.openDbPromise_=null}return r(t,[{key:"openDatabase_",value:function(){return this.openDbPromise_?this.openDbPromise_:(this.openDbPromise_=new Promise(function(t,e){var n=indexedDB.open("fcm_token_details_db",1);n.onerror=function(t){e(t.target.error)},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result,n=e.createObjectStore(d,{keyPath:"swScope"});n.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),n.createIndex("fcmToken","fcmToken",{unique:!0})}}),this.openDbPromise_)}},{key:"closeDatabase",value:function(){var t=this;return this.openDbPromise_?this.openDbPromise_.then(function(e){e.close(),t.openDbPromise_=null}):Promise.resolve()}},{key:"getTokenDetailsFromToken",value:function(t){return this.openDatabase_().then(function(e){return new Promise(function(n,i){var o=e.transaction([d]),r=o.objectStore(d),a=r.index("fcmToken"),s=a.get(t);s.onerror=function(t){i(t.target.error)},s.onsuccess=function(t){n(t.target.result)}})})}},{key:"getTokenDetailsFromSWScope_",value:function(t){return this.openDatabase_().then(function(e){return new Promise(function(n,i){var o=e.transaction([d]),r=o.objectStore(d),a=r.get(t);a.onerror=function(t){i(t.target.error)},a.onsuccess=function(t){n(t.target.result)}})})}},{key:"getAllTokenDetailsForSenderId_",value:function(t){return this.openDatabase_().then(function(e){return new Promise(function(n,i){var o=e.transaction([d]),r=o.objectStore(d),a=[],s=r.openCursor();s.onerror=function(t){i(t.target.error)},s.onsuccess=function(e){var i=e.target.result;i?(i.value.fcmSenderId===t&&a.push(i.value),i.continue()):n(a)}})})}},{key:"subscribeToFCM",value:function(t,e,n){var i=this,o=(0,c.default)(e.getKey("p256dh")),r=(0,c.default)(e.getKey("auth")),a="authorized_entity="+t+"&endpoint="+e.endpoint+"&encryption_key="+o+"&encryption_auth="+r;n&&(a+="&pushSet="+n);var s=new Headers;s.append("Content-Type","application/x-www-form-urlencoded");var l={method:"POST",headers:s,body:a};return fetch(f.default.ENDPOINT+"/fcm/connect/subscribe",l).then(function(t){return t.json()}).then(function(t){var e=t;if(e.error){var n=e.error.message;throw i.errorFactory_.create(u.default.codes.TOKEN_SUBSCRIBE_FAILED,{message:n})}if(!e.token)throw i.errorFactory_.create(u.default.codes.TOKEN_SUBSCRIBE_NO_TOKEN);if(!e.pushSet)throw i.errorFactory_.create(u.default.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);return{token:e.token,pushSet:e.pushSet}})}},{key:"isSameSubscription_",value:function(t,e){return t.endpoint===e.endpoint&&(0,c.default)(t.getKey("auth"))===e.auth&&(0,c.default)(t.getKey("p256dh"))===e.p256dh}},{key:"saveTokenDetails_",value:function(t,e,n,i,o){var r={swScope:e.scope,endpoint:n.endpoint,auth:(0,c.default)(n.getKey("auth")),p256dh:(0,c.default)(n.getKey("p256dh")),fcmToken:i,fcmPushSet:o,fcmSenderId:t};return this.openDatabase_().then(function(t){return new Promise(function(e,n){var i=t.transaction([d],"readwrite"),o=i.objectStore(d),a=o.put(r);a.onerror=function(t){n(t.target.error)},a.onsuccess=function(){e()}})})}},{key:"getSavedToken",value:function(t,e){var n=this;return e instanceof ServiceWorkerRegistration?"string"!=typeof t||0===t.length?Promise.reject(this.errorFactory_.create(u.default.codes.BAD_SENDER_ID)):this.getAllTokenDetailsForSenderId_(t).then(function(n){if(0!==n.length){var i=n.findIndex(function(n){return e.scope===n.swScope&&t===n.fcmSenderId});if(-1!==i)return n[i]}}).then(function(t){if(t)return e.pushManager.getSubscription().catch(function(){throw n.errorFactory_.create(u.default.codes.GET_SUBSCRIPTION_FAILED)}).then(function(e){if(e&&n.isSameSubscription_(e,t))return t.fcmToken})}):Promise.reject(this.errorFactory_.create(u.default.codes.SW_REGISTRATION_EXPECTED))}},{key:"createToken",value:function(t,e){var n=this;if("string"!=typeof t||0===t.length)return Promise.reject(this.errorFactory_.create(u.default.codes.BAD_SENDER_ID));if(!(e instanceof ServiceWorkerRegistration))return Promise.reject(this.errorFactory_.create(u.default.codes.SW_REGISTRATION_EXPECTED));var i=void 0,o=void 0;return e.pushManager.getSubscription().then(function(t){return t||e.pushManager.subscribe(f.default.SUBSCRIPTION_OPTIONS)}).then(function(e){return i=e,n.subscribeToFCM(t,i)}).then(function(r){return o=r,n.saveTokenDetails_(t,e,i,o.token,o.pushSet)}).then(function(){return o.token})}},{key:"deleteToken",value:function(t){var e=this;return"string"!=typeof t||0===t.length?Promise.reject(this.errorFactory_.create(u.default.codes.INVALID_DELETE_TOKEN)):this.getTokenDetailsFromToken(t).then(function(t){if(!t)throw e.errorFactory_.create(u.default.codes.DELETE_TOKEN_NOT_FOUND);return e.openDatabase_().then(function(n){return new Promise(function(i,o){var r=n.transaction([d],"readwrite"),a=r.objectStore(d),s=a.delete(t.swScope);s.onerror=function(t){o(t.target.error)},s.onsuccess=function(n){if(0===n.target.result)return void o(e.errorFactory_.create(u.default.codes.FAILED_TO_DELETE_TOKEN));i(t)}})})})}}]),t}();e.default=p,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n){return new l.Service(t,new s.XhrIoPool,n)}function o(t){t.INTERNAL.registerService(h,i,{TaskState:a.TaskState,TaskEvent:a.TaskEvent,StringFormat:r.StringFormat,Storage:l.Service,Reference:u.Reference},void 0,!0)}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.registerStorage=o;var r=n(156),a=n(166),s=n(193),u=n(168),l=n(194),c=n(147),h="storage";o(function(t){return t&&t.__esModule?t:{default:t}}(c).default)},function(t,e,n){"use strict";function i(t){return function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];r.resolve(!0).then(function(){t.apply(null,n)})}}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.async=i;var o=n(145),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(o)},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.AuthWrapper=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(149),s=i(a),u=n(144),l=i(u),c=n(185),h=n(150),f=n(145),d=i(f),p=n(191),m=n(143),g=i(m);e.AuthWrapper=function(){function t(e,n,i,r,a){if(o(this,t),this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var u=this.app_.options;g.isDef(u)&&(this.bucket_=t.extractBucket_(u))}this.storageRefMaker_=n,this.requestMaker_=i,this.pool_=a,this.service_=r,this.maxOperationRetryTime_=s.defaultMaxOperationRetryTime,this.maxUploadRetryTime_=s.defaultMaxUploadRetryTime,this.requestMap_=new p.RequestMap}return r(t,[{key:"getAuthToken",value:function(){return null!==this.app_&&g.isDef(this.app_.INTERNAL)&&g.isDef(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(){return null}):d.resolve(null)}},{key:"bucket",value:function(){if(this.deleted_)throw l.appDeleted();return this.bucket_}},{key:"service",value:function(){return this.service_}},{key:"makeStorageReference",value:function(t){return this.storageRefMaker_(this,t)}},{key:"makeRequest",value:function(t,e){if(this.deleted_)return new c.FailRequest(l.appDeleted());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n}},{key:"deleteApp",value:function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()}},{key:"maxUploadRetryTime",value:function(){return this.maxUploadRetryTime_}},{key:"setMaxUploadRetryTime",value:function(t){this.maxUploadRetryTime_=t}},{key:"maxOperationRetryTime",value:function(){return this.maxOperationRetryTime_}},{key:"setMaxOperationRetryTime",value:function(t){this.maxOperationRetryTime_=t}}],[{key:"extractBucket_",value:function(t){var e=t[s.configOption]||null;return null==e?null:h.Location.makeFromBucketSpec(e).bucket}}]),t}()},function(t,e,n){"use strict";function i(t,e,n){function i(){return 2===h}function o(){f||(f=!0,e.apply(null,arguments))}function r(e){l=setTimeout(function(){l=null,t(a,i())},e)}function a(t){for(var e=arguments.length,n=Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];if(!f){if(t)return void o.apply(null,arguments);if(i()||c)return void o.apply(null,arguments);u<64&&(u*=2);var s=void 0;1===h?(h=2,s=0):s=1e3*(u+Math.random()),r(s)}}function s(t){d||(d=!0,f||(null!==l?(t||(h=2),clearTimeout(l),r(0)):t||(h=1)))}var u=1,l=null,c=!1,h=0,f=!1,d=!1;return r(0),setTimeout(function(){c=!0,s(!0)},n),s}function o(t){t(!1)}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.start=i,e.stop=o},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.FailRequest=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(145),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r);e.FailRequest=function(){function t(e){i(this,t),this.promise_=a.reject(e)}return o(t,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}]),t}()},function(t,e,n){"use strict";function i(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function o(){for(var t=i(),e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];if(void 0!==t){for(var r=new t,a=0;a<n.length;a++)r.append(n[a]);return r.getBlob()}if(s.isNativeBlobDefined())return new Blob(n);throw Error("This browser doesn't seem to support creating Blobs")}function r(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.getBlob=o,e.sliceBlob=r;var a=n(143),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a)},function(t,e,n){"use strict";function i(t){var e=void 0;try{e=JSON.parse(t)}catch(t){return null}return r.isNonArrayObject(e)?e:null}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.jsonObjectOrNull=i;var o=n(143),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(o)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.Observer=void 0;var o=n(143),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(o);e.Observer=function t(e,n,o){if(i(this,t),r.isFunction(e)||r.isDef(n)||r.isDef(o))this.next=e,this.error=n||null,this.complete=o||null;else{var a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}function a(t){var e="undefined"!=typeof firebase?firebase.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}function s(t,e,n){var i=T.makeQueryString(t.urlParams),o=t.url+i,s=g.clone(t.headers);return r(s,e),a(s),new k(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.RequestEndStatus=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.addAuthHeader_=r,e.addVersionHeader_=a,e.makeRequest=s;var l=n(154),c=i(l),h=n(184),f=i(h),d=n(144),p=i(d),m=n(146),g=i(m),v=n(145),_=i(v),y=n(143),b=i(y),w=n(157),T=i(w),E=n(167),S=i(E),k=function(){function t(e,n,i,r,a,s,u,l,c,h,f){o(this,t),this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=a.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=u,this.errorCallback_=l,this.progressCallback_=h,this.timeout_=c,this.pool_=f;var d=this;this.promise_=_.make(function(t,e){d.resolve_=t,d.reject_=e,d.start_()})}return u(t,[{key:"start_",value:function(){function t(t,e){function i(t){var e=t.loaded,i=t.lengthComputable?t.total:-1;null!==n.progressCallback_&&n.progressCallback_(e,i)}if(e)return void t(!1,new L(!1,null,!0));var o=n.pool_.createXhrIo();n.pendingXhr_=o,null!==n.progressCallback_&&o.addUploadProgressListener(i),o.send(n.url_,n.method_,n.body_,n.headers_).then(function(e){null!==n.progressCallback_&&e.removeUploadProgressListener(i),n.pendingXhr_=null,e=e;var o=e.getErrorCode()===S.ErrorCode.NO_ERROR,r=e.getStatus();if(!o||n.isRetryStatusCode_(r)){var a=e.getErrorCode()===S.ErrorCode.ABORT;return void t(!1,new L(!1,null,a))}var s=c.contains(n.successCodes_,r);t(!0,new L(s,e))})}function e(t,e){var i=n.resolve_,o=n.reject_,r=e.xhr;if(e.wasSuccessCode)try{var a=n.callback_(r,r.getResponseText());b.isJustDef(a)?i(a):i()}catch(t){o(t)}else if(null!==r){var s=p.unknown();s.setServerResponseProp(r.getResponseText()),o(n.errorCallback_?n.errorCallback_(r,s):s)}else if(e.canceled){var u=n.appDelete_?p.appDeleted():p.canceled();o(u)}else{var l=p.retryLimitExceeded();o(l)}}var n=this;this.canceled_?e(!1,new L(!1,null,!0)):this.backoffId_=f.start(t,e,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&f.stop(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()}},{key:"isRetryStatusCode_",value:function(t){var e=c.contains([408,429],t),n=c.contains(this.additionalRetryCodes_,t);return t>=500&&t<600||e||n}}]),t}(),L=e.RequestEndStatus=function t(e,n,i){o(this,t),this.wasSuccessCode=e,this.xhr=n,this.canceled=!!i}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});e.RequestInfo=function t(e,n,o,r){i(this,t),this.url=e,this.method=n,this.handler=o,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.RequestMap=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(146),s=i(a),u=n(149),l=i(u);e.RequestMap=function(){function t(){o(this,t),this.map_={},this.id_=l.minSafeInteger}return r(t,[{key:"addRequest",value:function(t){function e(){delete i.map_[n]}var n=this.id_;this.id_++,this.map_[n]=t;var i=this;t.getPromise().then(e,e)}},{key:"clear",value:function(){s.forEach(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}}}]),t}()},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.NetworkXhrIo=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(144),s=i(a),u=n(146),l=i(u),c=n(145),h=i(c),f=n(143),d=i(f),p=n(167),m=i(p);e.NetworkXhrIo=function(){function t(){var e=this;o(this,t),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=m.ErrorCode.NO_ERROR,this.sendPromise_=h.make(function(t){e.xhr_.addEventListener("abort",function(){e.errorCode_=m.ErrorCode.ABORT,t(e)}),e.xhr_.addEventListener("error",function(){e.errorCode_=m.ErrorCode.NETWORK_ERROR,t(e)}),e.xhr_.addEventListener("load",function(){t(e)})})}return r(t,[{key:"send",value:function(t,e,n,i){var o=this;if(this.sent_)throw s.internalError("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(e,t,!0),d.isDef(i)&&l.forEach(i,function(t,e){o.xhr_.setRequestHeader(t,e.toString())}),d.isDef(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw s.internalError("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw s.internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}},{key:"getResponseText",value:function(){if(!this.sent_)throw s.internalError("cannot .getResponseText() before sending");return this.xhr_.responseText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(t){return this.xhr_.getResponseHeader(t)}},{key:"addUploadProgressListener",value:function(t){d.isDef(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)}},{key:"removeUploadProgressListener",value:function(t){d.isDef(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.XhrIoPool=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(192);e.XhrIoPool=function(){function t(){i(this,t)}return o(t,[{key:"createXhrIo",value:function(){return new r.NetworkXhrIo}}]),t}()},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceInternals=e.Service=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(153),s=i(a),u=n(183),l=n(150),c=n(145),h=i(c),f=n(189),d=i(f),p=n(168),m=(e.Service=function(){function t(e,n,i){if(o(this,t),this.bucket_=null,this.authWrapper_=new u.AuthWrapper(e,function(t,e){return new p.Reference(t,e)},d.makeRequest,this,n),this.app_=e,null!=i)this.bucket_=l.Location.makeFromBucketSpec(i);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new l.Location(r,""))}this.internals_=new m(this)}return r(t,[{key:"ref",value:function(t){if(s.validate("ref",[s.stringSpec(function(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new p.Reference(this.authWrapper_,this.bucket_);return null!=t?e.child(t):e}},{key:"refFromURL",value:function(t){return s.validate("refFromURL",[s.stringSpec(function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{l.Location.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new p.Reference(this.authWrapper_,t)}},{key:"setMaxUploadRetryTime",value:function(t){s.validate("setMaxUploadRetryTime",[s.nonNegativeNumberSpec()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)}},{key:"setMaxOperationRetryTime",value:function(t){s.validate("setMaxOperationRetryTime",[s.nonNegativeNumberSpec()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)}},{key:"maxUploadRetryTime",get:function(){return this.authWrapper_.maxUploadRetryTime()}},{key:"maxOperationRetryTime",get:function(){return this.authWrapper_.maxOperationRetryTime()}},{key:"app",get:function(){return this.app_}},{key:"INTERNAL",get:function(){return this.internals_}}]),t}(),e.ServiceInternals=function(){function t(e){o(this,t),this.service_=e}return r(t,[{key:"delete",value:function(){return this.service_.authWrapper_.deleteApp(),h.resolve(void 0)}}]),t}())},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0}),e.UploadTask=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(166),s=i(a),u=n(188),l=n(196),c=n(153),h=i(c),f=n(154),d=i(f),p=n(182),m=n(144),g=i(m),v=n(145),_=i(v),y=n(165),b=i(y),w=n(143),T=i(w);e.UploadTask=function(){function t(e,n,i,r,s){var u=this,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;o(this,t),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=n,this.location_=i,this.blob_=s,this.metadata_=l,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=a.InternalTaskState.RUNNING,this.errorHandler_=function(t){u.request_=null,u.chunkMultiplier_=1,t.codeEquals(g.Code.CANCELED)?(u.needToFetchStatus_=!0,u.completeTransitions_()):(u.error_=t,u.transition_(a.InternalTaskState.ERROR))},this.metadataErrorHandler_=function(t){u.request_=null,t.codeEquals(g.Code.CANCELED)?u.completeTransitions_():(u.error_=t,u.transition_(a.InternalTaskState.ERROR))},this.promise_=_.make(function(t,e){u.resolve_=t,u.reject_=e,u.start_()}),this.promise_.then(null,function(){})}return r(t,[{key:"makeProgressCallback_",value:function(){var t=this,e=this.transferred_;return function(n){t.updateProgress_(e+n)}}},{key:"shouldDoResumable_",value:function(t){return t.size()>262144}},{key:"start_",value:function(){this.state_===a.InternalTaskState.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())}},{key:"resolveToken_",value:function(t){var e=this;this.authWrapper_.getAuthToken().then(function(n){switch(e.state_){case a.InternalTaskState.RUNNING:t(n);break;case a.InternalTaskState.CANCELING:e.transition_(a.InternalTaskState.CANCELED);break;case a.InternalTaskState.PAUSING:e.transition_(a.InternalTaskState.PAUSED)}})}},{key:"createResumable_",value:function(){var t=this;this.resolveToken_(function(e){var n=b.createResumableUpload(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})}},{key:"fetchStatus_",value:function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var i=b.getResumableUploadStatus(t.authWrapper_,t.location_,e,t.blob_),o=t.authWrapper_.makeRequest(i,n);t.request_=o,o.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})}},{key:"continueUpload_",value:function(){var t=this,e=b.resumableUploadChunkSize*this.chunkMultiplier_,n=new b.ResumableUploadStatus(this.transferred_,this.blob_.size()),i=this.uploadUrl_;this.resolveToken_(function(o){var r=void 0;try{r=b.continueResumableUpload(t.location_,t.authWrapper_,i,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(a.InternalTaskState.ERROR)}var s=t.authWrapper_.makeRequest(r,o);t.request_=s,s.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(a.InternalTaskState.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})}},{key:"increaseMultiplier_",value:function(){b.resumableUploadChunkSize*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)}},{key:"fetchMetadata_",value:function(){var t=this;this.resolveToken_(function(e){var n=b.getMetadata(t.authWrapper_,t.location_,t.mappings_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(a.InternalTaskState.SUCCESS)},t.metadataErrorHandler_)})}},{key:"oneShotUpload_",value:function(){var t=this;this.resolveToken_(function(e){var n=b.multipartUpload(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(a.InternalTaskState.SUCCESS)},t.errorHandler_)})}},{key:"updateProgress_",value:function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()}},{key:"transition_",value:function(t){if(this.state_!==t)switch(t){case a.InternalTaskState.CANCELING:case a.InternalTaskState.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case a.InternalTaskState.RUNNING:var e=this.state_===a.InternalTaskState.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case a.InternalTaskState.PAUSED:this.state_=t,this.notifyObservers_();break;case a.InternalTaskState.CANCELED:this.error_=g.canceled(),this.state_=t,this.notifyObservers_();break;case a.InternalTaskState.ERROR:case a.InternalTaskState.SUCCESS:this.state_=t,this.notifyObservers_()}}},{key:"completeTransitions_",value:function(){switch(this.state_){case a.InternalTaskState.PAUSING:this.transition_(a.InternalTaskState.PAUSED);break;case a.InternalTaskState.CANCELING:this.transition_(a.InternalTaskState.CANCELED);break;case a.InternalTaskState.RUNNING:this.start_()}}},{key:"on",value:function(t){function e(t){try{return void l(t)}catch(t){}try{c(t);if(!(T.isJustDef(t.next)||T.isJustDef(t.error)||T.isJustDef(t.complete)))throw""}catch(t){throw s}}function n(t){return function(e,n){null!==t&&h.validate("on",t,arguments);var i=new u.Observer(e,n,r);return d.addObserver_(i),function(){d.removeObserver_(i)}}}var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,s="Expected a function or an Object with one of `next`, `error`, `complete` properties.",l=h.nullFunctionSpec(!0).validator,c=h.looseObjectSpec(null,!0).validator,f=[h.stringSpec(function(){if(t!==a.TaskEvent.STATE_CHANGED)throw"Expected one of the event types: ["+a.TaskEvent.STATE_CHANGED+"]."}),h.looseObjectSpec(e,!0),h.nullFunctionSpec(!0),h.nullFunctionSpec(!0)];h.validate("on",f,arguments);var d=this,p=[h.looseObjectSpec(function(t){if(null===t)throw s;e(t)}),h.nullFunctionSpec(!0),h.nullFunctionSpec(!0)];return T.isJustDef(i)||T.isJustDef(o)||T.isJustDef(r)?n(null)(i,o,r):n(p)}},{key:"then",value:function(t,e){return this.promise_.then(t,e)}},{key:"catch",value:function(t){return this.then(null,t)}},{key:"addObserver_",value:function(t){this.observers_.push(t),this.notifyObserver_(t)}},{key:"removeObserver_",value:function(t){d.remove(this.observers_,t)}},{key:"notifyObservers_",value:function(){var t=this;this.finishPromise_(),d.clone(this.observers_).forEach(function(e){t.notifyObserver_(e)})}},{key:"finishPromise_",value:function(){if(null!==this.resolve_){var t=!0;switch(s.taskStateFromInternalTaskState(this.state_)){case a.TaskState.SUCCESS:(0,p.async)(this.resolve_.bind(null,this.snapshot))();break;case a.TaskState.CANCELED:case a.TaskState.ERROR:var e=this.reject_;(0,p.async)(e.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}}},{key:"notifyObserver_",value:function(t){switch(s.taskStateFromInternalTaskState(this.state_)){case a.TaskState.RUNNING:case a.TaskState.PAUSED:null!==t.next&&(0,p.async)(t.next.bind(t,this.snapshot))();break;case a.TaskState.SUCCESS:null!==t.complete&&(0,p.async)(t.complete.bind(t))();break;case a.TaskState.CANCELED:case a.TaskState.ERROR:null!==t.error&&(0,p.async)(t.error.bind(t,this.error_))();break;default:null!==t.error&&(0,p.async)(t.error.bind(t,this.error_))()}}},{key:"resume",value:function(){h.validate("resume",[],arguments);var t=this.state_===a.InternalTaskState.PAUSED||this.state_===a.InternalTaskState.PAUSING;return t&&this.transition_(a.InternalTaskState.RUNNING),t}},{key:"pause",value:function(){h.validate("pause",[],arguments);var t=this.state_===a.InternalTaskState.RUNNING;return t&&this.transition_(a.InternalTaskState.PAUSING),t}},{key:"cancel",value:function(){h.validate("cancel",[],arguments);var t=this.state_===a.InternalTaskState.RUNNING||this.state_===a.InternalTaskState.PAUSING;return t&&this.transition_(a.InternalTaskState.CANCELING),t}},{key:"snapshot",get:function(){var t=s.taskStateFromInternalTaskState(this.state_);return new l.UploadTaskSnapshot(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}/*! @license Firebase v4.1.0
Build: rev-d3e3a6f
Terms: https://firebase.google.com/terms/ */
Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.UploadTaskSnapshot=function(){function t(e,n,o,r,a,s){i(this,t),this.bytesTransferred=e,this.totalBytes=n,this.state=o,this.metadata=r,this.task=a,this.ref=s}return o(t,[{key:"downloadURL",get:function(){if(null!==this.metadata){var t=this.metadata.downloadURLs;return null!=t&&null!=t[0]?t[0]:null}return null}}]),t}()},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function r(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){m&&d&&(m=!1,d.length?p=d.concat(p):g=-1,p.length&&s())}function s(){if(!m){var t=o(a);m=!0;for(var e=p.length;e;){for(d=p,p=[];++g<e;)d&&d[g].run();g=-1,e=p.length}d=null,m=!1,r(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var c,h,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var d,p=[],m=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||m||o(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){(function(e){!function(n){function i(){}function o(t,e){return function(){t.apply(e,arguments)}}function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function a(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,r._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?s:u)(e.promise,t._value);var i;try{i=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,i)})}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof r)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void h(o(n,e),t)}t._state=1,t._value=e,l(t)}catch(e){u(t,e)}}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&r._immediateFn(function(){t._handled||r._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function h(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}var f=setTimeout;r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var n=new this.constructor(i);return a(this,new c(t,e,n)),n},r.all=function(t){var e=Array.prototype.slice.call(t);return new r(function(t,n){function i(r,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){i(r,t)},n)}e[r]=a,0==--o&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var o=e.length,r=0;r<e.length;r++)i(r,e[r])})},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r(function(e){e(t)})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){for(var i=0,o=t.length;i<o;i++)t[i].then(e,n)})},r._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){f(t,0)},r._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},r._setImmediateFn=function(t){r._immediateFn=t},r._setUnhandledRejectionFn=function(t){r._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=r:n.Promise||(n.Promise=r)}(this)}).call(e,n(200).setImmediate)},function(t,e,n){(function(t,e){!function(t,n){"use strict";function i(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return l[u]=i,s(u),u++}function o(t){delete l[t]}function r(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}function a(t){if(c)setTimeout(a,0,t);else{var e=l[t];if(e){c=!0;try{r(e)}finally{o(t),c=!1}}}}if(!t.setImmediate){var s,u=1,l={},c=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(t){e.nextTick(function(){a(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},s=function(e){t.port2.postMessage(e)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var t=h.documentElement;s=function(e){var n=h.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){s=function(t){setTimeout(a,0,t)}}(),f.setImmediate=i,f.clearImmediate=o}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(122),n(197))},function(t,e,n){function i(t,e){this._id=t,this._clearFn=e}var o=Function.prototype.apply;e.setTimeout=function(){return new i(o.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(199),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){var i,o;!function(r,a,s){var u={version:"1.0.3"};"object"==typeof t&&"object"==typeof t.exports?t.exports=u:(i=u,void 0!==(o="function"==typeof i?i.call(e,n,e,t):i)&&(t.exports=o)),void 0!==r&&function(){var t=r.L;u.noConflict=function(){return r.L=t,this},r.L=u}(),u.Util={extend:function(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++){o=arguments[n];for(e in o)t[e]=o[e]}return t},create:Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),bind:function(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}},stamp:function(t){return t._leaflet_id=t._leaflet_id||++u.Util.lastId,t._leaflet_id},lastId:0,throttle:function(t,e,n){var i,o,r,a;return a=function(){i=!1,o&&(r.apply(n,o),o=!1)},r=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(a,e),i=!0)}},wrapNum:function(t,e,n){var i=e[1],o=e[0],r=i-o;return t===i&&n?t:((t-o)%r+r)%r+o},falseFn:function(){return!1},formatNum:function(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return u.Util.trim(t).split(/\s+/)},setOptions:function(t,e){t.hasOwnProperty("options")||(t.options=t.options?u.Util.create(t.options):{});for(var n in e)t.options[n]=e[n];return t.options},getParamString:function(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")},template:function(t,e){return t.replace(u.Util.templateRe,function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},indexOf:function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function t(t){return r["webkit"+t]||r["moz"+t]||r["ms"+t]}function e(t){var e=+new Date,i=Math.max(0,16-(e-n));return n=e+i,r.setTimeout(t,i)}var n=0,i=r.requestAnimationFrame||t("RequestAnimationFrame")||e,o=r.cancelAnimationFrame||t("CancelAnimationFrame")||t("CancelRequestAnimationFrame")||function(t){r.clearTimeout(t)};u.Util.requestAnimFrame=function(t,n,o){if(!o||i!==e)return i.call(r,u.bind(t,n));t.call(n)},u.Util.cancelAnimFrame=function(t){t&&o.call(r,t)}}(),u.extend=u.Util.extend,u.bind=u.Util.bind,u.stamp=u.Util.stamp,u.setOptions=u.Util.setOptions,u.Class=function(){},u.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,i=u.Util.create(n);i.constructor=e,e.prototype=i;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&(e[o]=this[o]);return t.statics&&(u.extend(e,t.statics),delete t.statics),t.includes&&(u.Util.extend.apply(null,[i].concat(t.includes)),delete t.includes),i.options&&(t.options=u.Util.extend(u.Util.create(i.options),t.options)),u.extend(i,t),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},u.Class.include=function(t){return u.extend(this.prototype,t),this},u.Class.mergeOptions=function(t){return u.extend(this.prototype.options,t),this},u.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this},u.Evented=u.Class.extend({on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else{t=u.Util.splitWords(t);for(var o=0,r=t.length;o<r;o++)this._on(t[o],e,n)}return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else{t=u.Util.splitWords(t);for(var o=0,r=t.length;o<r;o++)this._off(t[o],e,n)}else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var o={fn:e,ctx:n},r=i,a=0,s=r.length;a<s;a++)if(r[a].fn===e&&r[a].ctx===n)return;r.push(o)},_off:function(t,e,n){var i,o,r;if(this._events&&(i=this._events[t])){if(!e){for(o=0,r=i.length;o<r;o++)i[o].fn=u.Util.falseFn;return void delete this._events[t]}if(n===this&&(n=void 0),i)for(o=0,r=i.length;o<r;o++){var a=i[o];if(a.ctx===n&&a.fn===e)return a.fn=u.Util.falseFn,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(o,1)}}},fire:function(t,e,n){if(!this.listens(t,n))return this;var i=u.Util.extend({},e,{type:t,target:this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var r=0,a=o.length;r<a;r++){var s=o[r];s.fn.call(s.ctx||this,i)}this._firingCount--}}return n&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var o=u.bind(function(){this.off(t,e,n).off(t,o,n)},this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[u.stamp(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[u.stamp(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,u.extend({layer:t.target},t),!0)}});var l=u.Evented.prototype;l.addEventListener=l.on,l.removeEventListener=l.clearAllEventListeners=l.off,l.addOneTimeEventListener=l.once,l.fireEvent=l.fire,l.hasEventListeners=l.listens,u.Mixin={Events:l},function(){var t=navigator.userAgent.toLowerCase(),e=a.documentElement,n="ActiveXObject"in r,i=-1!==t.indexOf("webkit"),o=-1!==t.indexOf("phantom"),s=-1!==t.search("android [23]"),l=-1!==t.indexOf("chrome"),c=-1!==t.indexOf("gecko")&&!i&&!r.opera&&!n,h=0===navigator.platform.indexOf("Win"),f="undefined"!=typeof orientation||-1!==t.indexOf("mobile"),d=!r.PointerEvent&&r.MSPointerEvent,p=r.PointerEvent||d,m=n&&"transition"in e.style,g="WebKitCSSMatrix"in r&&"m11"in new r.WebKitCSSMatrix&&!s,v="MozPerspective"in e.style,_="OTransition"in e.style,y=!r.L_NO_TOUCH&&(p||"ontouchstart"in r||r.DocumentTouch&&a instanceof r.DocumentTouch);u.Browser={ie:n,ielt9:n&&!a.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in a),webkit:i,gecko:c,android:-1!==t.indexOf("android"),android23:s,chrome:l,safari:!l&&-1!==t.indexOf("safari"),win:h,ie3d:m,webkit3d:g,gecko3d:v,opera12:_,any3d:!r.L_DISABLE_3D&&(m||g||v)&&!_&&!o,mobile:f,mobileWebkit:f&&i,mobileWebkit3d:f&&g,mobileOpera:f&&r.opera,mobileGecko:f&&c,touch:!!y,msPointer:!!d,pointer:!!p,retina:(r.devicePixelRatio||r.screen.deviceXDPI/r.screen.logicalXDPI)>1}}(),u.Point=function(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e},u.Point.prototype={clone:function(){return new u.Point(this.x,this.y)},add:function(t){return this.clone()._add(u.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(u.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new u.Point(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new u.Point(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){t=u.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=u.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=u.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u.Util.formatNum(this.x)+", "+u.Util.formatNum(this.y)+")"}},u.point=function(t,e,n){return t instanceof u.Point?t:u.Util.isArray(t)?new u.Point(t[0],t[1]):void 0===t||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new u.Point(t.x,t.y):new u.Point(t,e,n)},u.Bounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])},u.Bounds.prototype={extend:function(t){return t=u.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new u.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new u.Point(this.min.x,this.max.y)},getTopRight:function(){return new u.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof u.Point?u.point(t):u.bounds(t),t instanceof u.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=u.bounds(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>=e.x&&i.x<=n.x,a=o.y>=e.y&&i.y<=n.y;return r&&a},overlaps:function(t){t=u.bounds(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>e.x&&i.x<n.x,a=o.y>e.y&&i.y<n.y;return r&&a},isValid:function(){return!(!this.min||!this.max)}},u.bounds=function(t,e){return!t||t instanceof u.Bounds?t:new u.Bounds(t,e)},u.Transformation=function(t,e,n,i){this._a=t,this._b=e,this._c=n,this._d=i},u.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new u.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},u.DomUtil={get:function(t){return"string"==typeof t?a.getElementById(t):t},getStyle:function(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&a.defaultView){var i=a.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n},create:function(t,e,n){var i=a.createElement(t);return i.className=e||"",n&&n.appendChild(i),i},remove:function(t){var e=t.parentNode;e&&e.removeChild(t)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},toFront:function(t){t.parentNode.appendChild(t)},toBack:function(t){var e=t.parentNode;e.insertBefore(t,e.firstChild)},hasClass:function(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=u.DomUtil.getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(void 0!==t.classList)for(var n=u.Util.splitWords(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!u.DomUtil.hasClass(t,e)){var r=u.DomUtil.getClass(t);u.DomUtil.setClass(t,(r?r+" ":"")+e)}},removeClass:function(t,e){void 0!==t.classList?t.classList.remove(e):u.DomUtil.setClass(t,u.Util.trim((" "+u.DomUtil.getClass(t)+" ").replace(" "+e+" "," ")))},setClass:function(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e},getClass:function(t){return void 0===t.className.baseVal?t.className:t.className.baseVal},setOpacity:function(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&u.DomUtil._setOpacityIE(t,e)},_setOpacityIE:function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"},testProp:function(t){for(var e=a.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1},setTransform:function(t,e,n){var i=e||new u.Point(0,0);t.style[u.DomUtil.TRANSFORM]=(u.Browser.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")},setPosition:function(t,e){t._leaflet_pos=e,u.Browser.any3d?u.DomUtil.setTransform(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos||new u.Point(0,0)}},function(){u.DomUtil.TRANSFORM=u.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var t=u.DomUtil.TRANSITION=u.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(u.DomUtil.TRANSITION_END="webkitTransition"===t||"OTransition"===t?t+"End":"transitionend","onselectstart"in a)u.DomUtil.disableTextSelection=function(){u.DomEvent.on(r,"selectstart",u.DomEvent.preventDefault)},u.DomUtil.enableTextSelection=function(){u.DomEvent.off(r,"selectstart",u.DomEvent.preventDefault)};else{var e=u.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);u.DomUtil.disableTextSelection=function(){if(e){var t=a.documentElement.style;this._userSelect=t[e],t[e]="none"}},u.DomUtil.enableTextSelection=function(){e&&(a.documentElement.style[e]=this._userSelect,delete this._userSelect)}}u.DomUtil.disableImageDrag=function(){u.DomEvent.on(r,"dragstart",u.DomEvent.preventDefault)},u.DomUtil.enableImageDrag=function(){u.DomEvent.off(r,"dragstart",u.DomEvent.preventDefault)},u.DomUtil.preventOutline=function(t){for(;-1===t.tabIndex;)t=t.parentNode;t&&t.style&&(u.DomUtil.restoreOutline(),this._outlineElement=t,this._outlineStyle=t.style.outline,t.style.outline="none",u.DomEvent.on(r,"keydown",u.DomUtil.restoreOutline,this))},u.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,u.DomEvent.off(r,"keydown",u.DomUtil.restoreOutline,this))}}(),u.LatLng=function(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)},u.LatLng.prototype={equals:function(t,e){return!!t&&(t=u.latLng(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+u.Util.formatNum(this.lat,t)+", "+u.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){return u.CRS.Earth.distance(this,u.latLng(t))},wrap:function(){return u.CRS.Earth.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return u.latLngBounds([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new u.LatLng(this.lat,this.lng,this.alt)}},u.latLng=function(t,e,n){return t instanceof u.LatLng?t:u.Util.isArray(t)&&"object"!=typeof t[0]?3===t.length?new u.LatLng(t[0],t[1],t[2]):2===t.length?new u.LatLng(t[0],t[1]):null:void 0===t||null===t?t:"object"==typeof t&&"lat"in t?new u.LatLng(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new u.LatLng(t,e,n)},u.LatLngBounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])},u.LatLngBounds.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof u.LatLng)e=t,n=t;else{if(!(t instanceof u.LatLngBounds))return t?this.extend(u.latLng(t)||u.latLngBounds(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new u.LatLng(e.lat,e.lng),this._northEast=new u.LatLng(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new u.LatLngBounds(new u.LatLng(e.lat-i,e.lng-o),new u.LatLng(n.lat+i,n.lng+o))},getCenter:function(){return new u.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new u.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new u.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof u.LatLng||"lat"in t?u.latLng(t):u.latLngBounds(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof u.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=u.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&i.lat<=n.lat,a=o.lng>=e.lng&&i.lng<=n.lng;return r&&a},overlaps:function(t){t=u.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&i.lat<n.lat,a=o.lng>e.lng&&i.lng<n.lng;return r&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return!!t&&(t=u.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},u.latLngBounds=function(t,e){return t instanceof u.LatLngBounds?t:new u.LatLngBounds(t,e)},u.Projection={},u.Projection.LonLat={project:function(t){return new u.Point(t.lng,t.lat)},unproject:function(t){return new u.LatLng(t.y,t.x)},bounds:u.bounds([-180,-90],[180,90])},u.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new u.Point(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new u.LatLng((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return u.bounds([-t,-t],[t,t])}()},u.CRS={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),i=this.transformation.transform(e.min,n),o=this.transformation.transform(e.max,n);return u.bounds(i,o)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u.Util.wrapNum(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?u.Util.wrapNum(t.lat,this.wrapLat,!0):t.lat,i=t.alt;return u.latLng(n,e,i)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(0===i&&0===o)return t;var r=t.getSouthWest(),a=t.getNorthEast(),s=u.latLng({lat:r.lat-i,lng:r.lng-o}),l=u.latLng({lat:a.lat-i,lng:a.lng-o});return new u.LatLngBounds(s,l)}},u.CRS.Simple=u.extend({},u.CRS,{projection:u.Projection.LonLat,transformation:new u.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0}),u.CRS.Earth=u.extend({},u.CRS,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,r=Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos((e.lng-t.lng)*n);return this.R*Math.acos(Math.min(r,1))}}),u.CRS.EPSG3857=u.extend({},u.CRS.Earth,{code:"EPSG:3857",projection:u.Projection.SphericalMercator,transformation:function(){var t=.5/(Math.PI*u.Projection.SphericalMercator.R);return new u.Transformation(t,.5,-t,.5)}()}),u.CRS.EPSG900913=u.extend({},u.CRS.EPSG3857,{code:"EPSG:900913"}),u.CRS.EPSG4326=u.extend({},u.CRS.Earth,{code:"EPSG:4326",projection:u.Projection.LonLat,transformation:new u.Transformation(1/180,1,-1/180,.5)}),u.Map=u.Evented.extend({options:{crs:u.CRS.EPSG3857,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=u.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=u.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(u.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=u.DomUtil.TRANSITION&&u.Browser.any3d&&!u.Browser.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),u.DomEvent.on(this._proxy,u.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){if(e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(u.latLng(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n){void 0!==n.animate&&(n.zoom=u.extend({animate:n.animate},n.zoom),n.pan=u.extend({animate:n.animate,duration:n.duration},n.pan));if(this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan))return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(u.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(u.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),r=t instanceof u.Point?t:this.latLngToContainerPoint(t),a=r.subtract(o).multiplyBy(1-1/i),s=this.containerPointToLatLng(o.add(a));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():u.latLngBounds(t);var n=u.point(e.paddingTopLeft||e.padding||[0,0]),i=u.point(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o;var r=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),o),s=this.project(t.getNorthEast(),o);return{center:this.unproject(a.add(s).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(t=u.latLngBounds(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=u.point(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new u.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){u.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){function i(t){var e=t?-1:1,n=t?v:g,i=v*v-g*g+e*b*b*_*_,o=2*n*b*_,r=i/o,a=Math.sqrt(r*r+1)-r;return a<1e-9?-18:Math.log(a)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function r(t){return(Math.exp(t)+Math.exp(-t))/2}function a(t){return o(t)/r(t)}function s(t){return g*(r(w)/r(w+y*t))}function l(t){return g*(r(w)*a(w+y*t)-o(w))/b}function c(t){return 1-Math.pow(1-t,1.5)}function h(){var n=(Date.now()-T)/S,i=c(n)*E;n<=1?(this._flyToFrame=u.Util.requestAnimFrame(h,this),this._move(this.unproject(f.add(d.subtract(f).multiplyBy(l(i)/_)),m),this.getScaleZoom(g/s(i),m),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(n=n||{},!1===n.animate||!u.Browser.any3d)return this.setView(t,e,n);this._stop();var f=this.project(this.getCenter()),d=this.project(t),p=this.getSize(),m=this._zoom;t=u.latLng(t),e=void 0===e?m:e;var g=Math.max(p.x,p.y),v=g*this.getZoomScale(m,e),_=d.distanceTo(f)||1,y=1.42,b=y*y,w=i(0),T=Date.now(),E=(i(1)-w)/y,S=n.duration?1e3*n.duration:1e3*E*.8;return this._moveStart(!0),h.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=u.latLngBounds(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,u.latLngBounds(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=u.extend({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),o=n.divideBy(2).round(),r=i.subtract(o);return r.x||r.y?(t.animate&&t.pan?this.panBy(r):(t.pan&&this._rawPanBy(r),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=u.extend({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=u.bind(this._handleGeolocationResponse,this),n=u.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new u.LatLng(e,n),o=i.toBounds(t.coords.accuracy),r=this._locateOptions;if(r.setView){var a=this.getBoundsZoom(o);this.setView(i,r.maxZoom?Math.min(a,r.maxZoom):a)}var s={latlng:i,bounds:o,timestamp:t.timestamp};for(var l in t.coords)"number"==typeof t.coords[l]&&(s[l]=t.coords[l]);this.fire("locationfound",s)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}u.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");for(var t in this._layers)this._layers[t].remove();return this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=u.DomUtil.create("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new u.LatLngBounds(e,n)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=u.latLngBounds(t),n=u.point(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(n),c=u.bounds(this.project(s,i),this.project(a,i)).getSize(),h=u.Browser.any3d?this.options.zoomSnap:1,f=Math.min(l.x/c.x,l.y/c.y);return i=this.getScaleZoom(f,i),h&&(i=Math.round(i/(h/100))*(h/100),i=e?Math.ceil(i/h)*h:Math.floor(i/h)*h),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new u.Point(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new u.Bounds(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(u.latLng(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(u.point(t),e)},layerPointToLatLng:function(t){var e=u.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(u.latLng(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(u.latLng(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(u.latLngBounds(t))},distance:function(t,e){return this.options.crs.distance(u.latLng(t),u.latLng(e))},containerPointToLayerPoint:function(t){return u.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return u.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(u.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(u.latLng(t)))},mouseEventToContainerPoint:function(t){return u.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=u.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");u.DomEvent.addListener(e,"scroll",this._onScroll,this),this._containerId=u.Util.stamp(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&u.Browser.any3d,u.DomUtil.addClass(t,"leaflet-container"+(u.Browser.touch?" leaflet-touch":"")+(u.Browser.retina?" leaflet-retina":"")+(u.Browser.ielt9?" leaflet-oldie":"")+(u.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=u.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),u.DomUtil.setPosition(this._mapPane,new u.Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(u.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide"),u.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){u.DomUtil.setPosition(this._mapPane,new u.Point(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return u.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){u.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){if(u.DomEvent){this._targets={},this._targets[u.stamp(this._container)]=this;var e=t?"off":"on";u.DomEvent[e](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&u.DomEvent[e](r,"resize",this._onResize,this),u.Browser.any3d&&this.options.transform3DLimit&&this[e]("moveend",this._onMoveEnd)}},_onResize:function(){u.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=u.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if((n=this._targets[u.stamp(r)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!u.DomEvent._isExternalTarget(r,t))break;if(i.push(n),o)break}if(r===this._container)break;r=r.parentNode}return i.length||a||o||!u.DomEvent._isExternalTarget(r,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!u.DomEvent._skipped(t)){var e="keypress"===t.type&&13===t.keyCode?"click":t.type;"mousedown"===e&&u.DomUtil.preventOutline(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_fireDOMEvent:function(t,e,n){if("click"===t.type){var i=u.Util.extend({},t);i.type="preclick",this._fireDOMEvent(i,i.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e)),n.length)){var o=n[0];"contextmenu"===e&&o.listens(e,!0)&&u.DomEvent.preventDefault(t);var r={originalEvent:t};if("keypress"!==t.type){var a=o instanceof u.Marker;r.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),r.latlng=a?o.getLatLng():this.layerPointToLatLng(r.layerPoint)}for(var s=0;s<n.length;s++)if(n[s].fire(e,r,!0),r.originalEvent._stopped||n[s].options.nonBubblingEvents&&-1!==u.Util.indexOf(n[s].options.nonBubblingEvents,e))return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return u.DomUtil.getPosition(this._mapPane)||new u.Point(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return u.bounds([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),r=new u.Bounds(i.subtract(o),i.add(o)),a=this._getBoundsOffset(r,n,e);return a.round().equals([0,0])?t:this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new u.Bounds(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=u.bounds(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),r=i.max.subtract(t.max),a=this._rebound(o.x,-r.x),s=this._rebound(o.y,-r.y);return new u.Point(a,s)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=u.Browser.any3d?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){u.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=u.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var n=u.DomUtil.TRANSFORM,i=t.style[n];u.DomUtil.setTransform(t,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),i===t.style[n]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),n=this.getZoom();u.DomUtil.setTransform(t,this.project(e,n),this.getZoomScale(n,1))},this)},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o))&&(u.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,n,i){n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,u.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(u.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(u.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),u.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}),u.map=function(t,e){return new u.Map(t,e)},u.Layer=u.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[],attribution:null},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[u.stamp(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[u.stamp(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}}),u.Map.include({addLayer:function(t){var e=u.stamp(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=u.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&u.stamp(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?u.Util.isArray(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[u.stamp(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=u.stamp(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var c="_leaflet_events";u.DomEvent={on:function(t,e,n,i){if("object"==typeof e)for(var o in e)this._on(t,o,e[o],n);else{e=u.Util.splitWords(e);for(var r=0,a=e.length;r<a;r++)this._on(t,e[r],n,i)}return this},off:function(t,e,n,i){if("object"==typeof e)for(var o in e)this._off(t,o,e[o],n);else{e=u.Util.splitWords(e);for(var r=0,a=e.length;r<a;r++)this._off(t,e[r],n,i)}return this},_on:function(t,e,n,i){var o=e+u.stamp(n)+(i?"_"+u.stamp(i):"");if(t[c]&&t[c][o])return this;var a=function(e){return n.call(i||t,e||r.event)},s=a;return u.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,a,o):!u.Browser.touch||"dblclick"!==e||!this.addDoubleTapListener||u.Browser.pointer&&u.Browser.chrome?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):"mouseenter"===e||"mouseleave"===e?(a=function(e){e=e||r.event,u.DomEvent._isExternalTarget(t,e)&&s(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1)):("click"===e&&u.Browser.android&&(a=function(t){return u.DomEvent._filterClick(t,s)}),t.addEventListener(e,a,!1)):"attachEvent"in t&&t.attachEvent("on"+e,a):this.addDoubleTapListener(t,a,o),t[c]=t[c]||{},t[c][o]=a,this},_off:function(t,e,n,i){var o=e+u.stamp(n)+(i?"_"+u.stamp(i):""),r=t[c]&&t[c][o];return r?(u.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,o):u.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,o):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r),t[c][o]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,u.DomEvent._skipped(t),this},disableScrollPropagation:function(t){return u.DomEvent.on(t,"mousewheel",u.DomEvent.stopPropagation)},disableClickPropagation:function(t){var e=u.DomEvent.stopPropagation;return u.DomEvent.on(t,u.Draggable.START.join(" "),e),u.DomEvent.on(t,{click:u.DomEvent._fakeStop,dblclick:e})},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return u.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new u.Point(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new u.Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},_wheelPxFactor:u.Browser.win&&u.Browser.chrome?2:u.Browser.gecko?r.devicePixelRatio:1,getWheelDelta:function(t){return u.Browser.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/u.DomEvent._wheelPxFactor:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0},_skipEvents:{},_fakeStop:function(t){u.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_isExternalTarget:function(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=u.DomEvent._lastClick&&n-u.DomEvent._lastClick;if(i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated)return void u.DomEvent.stop(t);u.DomEvent._lastClick=n,e(t)}},u.DomEvent.addListener=u.DomEvent.on,u.DomEvent.removeListener=u.DomEvent.off,u.PosAnimation=u.Evented.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=u.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=u.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),u.DomUtil.setPosition(this._el,n),this.fire("step")},_complete:function(){u.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),u.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:u.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),a=r*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),r/2);return i=-n*Math.log(Math.max(s,1e-10)),new u.Point(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),a=Math.exp(-t.y/i),s=Math.PI/2-2*Math.atan(a),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=r*Math.sin(s),e=Math.pow((1-e)/(1+e),r/2),c=Math.PI/2-2*Math.atan(a*e)-s,s+=c;return new u.LatLng(s*n,t.x*n/i)}},u.CRS.EPSG3395=u.extend({},u.CRS.Earth,{code:"EPSG:3395",projection:u.Projection.Mercator,transformation:function(){var t=.5/(Math.PI*u.Projection.Mercator.R);return new u.Transformation(t,.5,-t,.5)}()}),u.GridLayer=u.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:u.Browser.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){u.setOptions(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),u.DomUtil.remove(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(u.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(u.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return a.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof u.Point?t:new u.Point(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,r=n.length;o<r;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!u.Browser.ielt9){u.DomUtil.setOpacity(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);u.DomUtil.setOpacity(o.el,r),r<1?e=!0:(o.active&&(n=!0),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(u.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=u.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=u.DomUtil.create("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?this._levels[n].el.style.zIndex=e-Math.abs(t-n):(u.DomUtil.remove(this._levels[n].el),this._removeTilesAtZoom(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||(i=this._levels[t]={},i.el=u.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),u.Util.falseFn(i.el.offsetWidth)),this._level=i,i}},_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)u.DomUtil.remove(this._levels[t].el),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),r=Math.floor(e/2),a=n-1,s=new u.Point(+o,+r);s.z=+a;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>i&&this._retainParent(o,r,a,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var a=new u.Point(o,r);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_setView:function(t,e,n,i){var o=Math.round(e);(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0);var r=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();u.Browser.any3d?u.DomUtil.setTransform(t.el,o,i):u.DomUtil.setPosition(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*i);return new u.Bounds(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var n=e.getZoom();if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),r=o.getCenter(),s=[],l=this.options.keepBuffer,c=new u.Bounds(o.getBottomLeft().subtract([l,-l]),o.getTopRight().add([l,-l]));for(var h in this._tiles){var f=this._tiles[h].coords;f.z===this._tileZoom&&c.contains(u.point(f.x,f.y))||(this._tiles[h].current=!1)}if(Math.abs(n-this._tileZoom)>1)return void this._setView(t,n);for(var d=o.min.y;d<=o.max.y;d++)for(var p=o.min.x;p<=o.max.x;p++){var m=new u.Point(p,d);if(m.z=this._tileZoom,this._isValidTile(m)){var g=this._tiles[this._tileCoordsToKey(m)];g?g.current=!0:s.push(m)}}if(s.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var v=a.createDocumentFragment();for(p=0;p<s.length;p++)this._addTile(s[p],v);this._level.el.appendChild(v)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return u.latLngBounds(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n),r=e.unproject(i,t.z),a=e.unproject(o,t.z),s=new u.LatLngBounds(r,a);return this.options.noWrap||e.wrapLatLngBounds(s),s},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new u.Point(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(u.DomUtil.remove(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){u.DomUtil.addClass(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u.Util.falseFn,t.onmousemove=u.Util.falseFn,u.Browser.ielt9&&this.options.opacity<1&&u.DomUtil.setOpacity(t,this.options.opacity),u.Browser.android&&!u.Browser.android23&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),u.bind(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&u.Util.requestAnimFrame(u.bind(this._tileReady,this,t,null,o)),u.DomUtil.setPosition(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){if(this._map){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);n=this._tiles[i],n&&(n.loaded=+new Date,this._map._fadeAnimated?(u.DomUtil.setOpacity(n.el,0),u.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=u.Util.requestAnimFrame(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(u.DomUtil.addClass(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),u.Browser.ielt9||!this._map._fadeAnimated?u.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(u.bind(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new u.Point(this._wrapX?u.Util.wrapNum(t.x,this._wrapX):t.x,this._wrapY?u.Util.wrapNum(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new u.Bounds(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),u.gridLayer=function(t){return new u.GridLayer(t)},u.TileLayer=u.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,minNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=u.setOptions(this,e),e.detectRetina&&u.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),u.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=a.createElement("img");return u.DomEvent.on(n,"load",u.bind(this._tileOnLoad,this,e,n)),u.DomEvent.on(n,"error",u.bind(this._tileOnError,this,e,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:u.Browser.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return u.Util.template(this._url,u.extend(e,this.options))},_tileOnLoad:function(t,e){u.Browser.ielt9?setTimeout(u.bind(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.src!==i&&(e.src=i),t(n,e)},getTileSize:function(){var t=this._map,e=u.GridLayer.prototype.getTileSize.call(this),n=this._tileZoom+this.options.zoomOffset,i=this.options.minNativeZoom,o=this.options.maxNativeZoom;return null!==i&&n<i?e.divideBy(t.getZoomScale(i,n)).round():null!==o&&n>o?e.divideBy(t.getZoomScale(o,n)).round():e},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset,o=this.options.minNativeZoom,r=this.options.maxNativeZoom;return n&&(t=e-t),t+=i,null!==o&&t<o?o:null!==r&&t>r?r:t},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=u.Util.falseFn,e.onerror=u.Util.falseFn,e.complete||(e.src=u.Util.emptyImageUrl,u.DomUtil.remove(e)))}}),u.tileLayer=function(t,e){return new u.TileLayer(t,e)},u.TileLayer.WMS=u.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=u.extend({},this.defaultWmsParams);for(var i in e)i in this.options||(n[i]=e[i]);e=u.setOptions(this,e),n.width=n.height=e.tileSize*(e.detectRetina&&u.Browser.retina?2:1),this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,u.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),n=this._crs.project(e.getNorthWest()),i=this._crs.project(e.getSouthEast()),o=(this._wmsVersion>=1.3&&this._crs===u.CRS.EPSG4326?[i.y,n.x,n.y,i.x]:[n.x,i.y,i.x,n.y]).join(","),r=u.TileLayer.prototype.getTileUrl.call(this,t);return r+u.Util.getParamString(this.wmsParams,r,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(t,e){return u.extend(this.wmsParams,t),e||this.redraw(),this}}),u.tileLayer.wms=function(t,e){return new u.TileLayer.WMS(t,e)},u.ImageOverlay=u.Layer.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1},initialize:function(t,e,n){this._url=t,this._bounds=u.latLngBounds(e),u.setOptions(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(u.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){u.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&u.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&u.DomUtil.toBack(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=t,this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=u.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.onselectstart=u.Util.falseFn,t.onmousemove=u.Util.falseFn,t.onload=u.bind(this.fire,this,"load"),this.options.crossOrigin&&(t.crossOrigin=""),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;u.DomUtil.setTransform(this._image,n,e)},_reset:function(){var t=this._image,e=new u.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();u.DomUtil.setPosition(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){u.DomUtil.setOpacity(this._image,this.options.opacity)}}),u.imageOverlay=function(t,e,n){return new u.ImageOverlay(t,e,n)},u.Icon=u.Class.extend({initialize:function(t){u.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var o=u.point(i),r=u.point("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return e=e||a.createElement("img"),e.src=t,e},_getIconUrl:function(t){return u.Browser.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),u.icon=function(t){return new u.Icon(t)},u.Icon.Default=u.Icon.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return u.Icon.Default.imagePath||(u.Icon.Default.imagePath=this._detectIconPath()),(this.options.imagePath||u.Icon.Default.imagePath)+u.Icon.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=u.DomUtil.create("div","leaflet-default-icon-path",a.body),e=u.DomUtil.getStyle(t,"background-image")||u.DomUtil.getStyle(t,"backgroundImage");return a.body.removeChild(t),0===e.indexOf("url")?e.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,""):""}}),u.Marker=u.Layer.extend({options:{icon:new u.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(t,e){u.setOptions(this,e),this._latlng=u.latLng(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=u.latLng(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),t.alt&&(n.alt=t.alt)),u.DomUtil.addClass(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(u.DomUtil.addClass(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),u.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&u.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(t){u.DomUtil.setPosition(this._icon,t),this._shadow&&u.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(u.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),u.Handler.MarkerDrag)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new u.Handler.MarkerDrag(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;u.DomUtil.setOpacity(this._icon,t),this._shadow&&u.DomUtil.setOpacity(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),u.marker=function(t,e){return new u.Marker(t,e)},u.DivIcon=u.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:a.createElement("div"),n=this.options;if(e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=u.point(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),u.divIcon=function(t){return new u.DivIcon(t)},u.DivOverlay=u.Layer.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){u.setOptions(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&u.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&u.DomUtil.setOpacity(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(u.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(u.bind(u.DomUtil.remove,u.DomUtil,this._container),200)):u.DomUtil.remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=u.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&u.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&u.DomUtil.toBack(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=u.point(this.options.offset),n=this._getAnchor();this._zoomAnimated?u.DomUtil.setPosition(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),u.Popup=u.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){u.DivOverlay.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof u.Path||this._source.on("preclick",u.DomEvent.stopPropagation))},onRemove:function(t){u.DivOverlay.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof u.Path||this._source.off("preclick",u.DomEvent.stopPropagation))},getEvents:function(){var t=u.DivOverlay.prototype.getEvents.call(this);return("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=u.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated");if(this.options.closeButton){var n=this._closeButton=u.DomUtil.create("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",u.DomEvent.on(n,"click",this._onCloseButtonClick,this)}var i=this._wrapper=u.DomUtil.create("div",t+"-content-wrapper",e);this._contentNode=u.DomUtil.create("div",t+"-content",i),u.DomEvent.disableClickPropagation(i).disableScrollPropagation(this._contentNode).on(i,"contextmenu",u.DomEvent.stopPropagation),this._tipContainer=u.DomUtil.create("div",t+"-tip-container",e),this._tip=u.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight;o&&i>o?(e.height=o+"px",u.DomUtil.addClass(t,"leaflet-popup-scrolled")):u.DomUtil.removeClass(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();u.DomUtil.setPosition(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(u.DomUtil.getStyle(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new u.Point(this._containerLeft,-n-this._containerBottom);o._add(u.DomUtil.getPosition(this._container));var r=t.layerPointToContainerPoint(o),a=u.point(this.options.autoPanPadding),s=u.point(this.options.autoPanPaddingTopLeft||a),l=u.point(this.options.autoPanPaddingBottomRight||a),c=t.getSize(),h=0,f=0;r.x+i+l.x>c.x&&(h=r.x+i-c.x+l.x),r.x-h-s.x<0&&(h=r.x-s.x),r.y+n+l.y>c.y&&(f=r.y+n-c.y+l.y),r.y-f-s.y<0&&(f=r.y-s.y),(h||f)&&t.fire("autopanstart").panBy([h,f])}},_onCloseButtonClick:function(t){this._close(),u.DomEvent.stop(t)},_getAnchor:function(){return u.point(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),u.popup=function(t,e){return new u.Popup(t,e)},u.Map.mergeOptions({closePopupOnClick:!0}),u.Map.include({openPopup:function(t,e,n){return t instanceof u.Popup||(t=new u.Popup(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),u.Layer.include({bindPopup:function(t,e){return t instanceof u.Popup?(u.setOptions(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new u.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof u.Layer||(e=t,t=this),t instanceof u.FeatureGroup)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map){if(u.DomEvent.stop(t),e instanceof u.Path)return void this.openPopup(t.layer||t.target,t.latlng);this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),u.Tooltip=u.DivOverlay.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){u.DivOverlay.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){u.DivOverlay.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=u.DivOverlay.prototype.getEvents.call(this);return u.Browser.touch&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=u.DomUtil.create("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),r=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,l=u.point(this.options.offset),c=this._getAnchor();"top"===r?t=t.add(u.point(-a/2+l.x,-s+l.y+c.y,!0)):"bottom"===r?t=t.subtract(u.point(a/2-l.x,-l.y,!0)):"center"===r?t=t.subtract(u.point(a/2+l.x,s/2-c.y+l.y,!0)):"right"===r||"auto"===r&&o.x<i.x?(r="right",t=t.add(u.point(l.x+c.x,c.y-s/2+l.y,!0))):(r="left",t=t.subtract(u.point(a+c.x-l.x,s/2-c.y-l.y,!0))),u.DomUtil.removeClass(n,"leaflet-tooltip-right"),u.DomUtil.removeClass(n,"leaflet-tooltip-left"),u.DomUtil.removeClass(n,"leaflet-tooltip-top"),u.DomUtil.removeClass(n,"leaflet-tooltip-bottom"),u.DomUtil.addClass(n,"leaflet-tooltip-"+r),u.DomUtil.setPosition(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&u.DomUtil.setOpacity(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return u.point(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),u.tooltip=function(t,e){return new u.Tooltip(t,e)},u.Map.include({openTooltip:function(t,e,n){return t instanceof u.Tooltip||(t=new u.Tooltip(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),u.Layer.include({bindTooltip:function(t,e){return t instanceof u.Tooltip?(u.setOptions(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=u.tooltip(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),u.Browser.touch&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof u.Layer||(e=t,t=this),t instanceof u.FeatureGroup)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(u.DomUtil.addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(u.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}}),u.LayerGroup=u.Layer.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;e<n;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return u.stamp(t)}}),u.layerGroup=function(t){return new u.LayerGroup(t)},u.FeatureGroup=u.LayerGroup.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),u.LayerGroup.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),u.LayerGroup.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new u.LatLngBounds;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),u.featureGroup=function(t){return new u.FeatureGroup(t)},u.Renderer=u.Layer.extend({options:{padding:.1},initialize:function(t){u.setOptions(this,t),u.stamp(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&u.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){u.DomUtil.remove(this._container),this.off("update",this._updatePaths,this)},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=u.DomUtil.getPosition(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),a=this._map.project(t,e),s=a.subtract(r),l=o.multiplyBy(-n).add(i).add(o).subtract(s);u.Browser.any3d?u.DomUtil.setTransform(this._container,l,n):u.DomUtil.setPosition(this._container,l)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new u.Bounds(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),u.Map.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&u.canvas()||u.svg()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=u.SVG&&u.svg({pane:t})||u.Canvas&&u.canvas({pane:t}),this._paneRenderers[t]=e),e}}),u.Path=u.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return u.setOptions(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(u.Browser.touch?10:0)}}),u.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=this._reducePoints(t,n),t=this._simplifyDP(t,n)},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,!0))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var n=t.length,i=typeof Uint8Array!=void 0+""?Uint8Array:Array,o=new i(n);o[0]=o[n-1]=1,this._simplifyDPStep(t,o,e,0,n-1);var r,a=[];for(r=0;r<n;r++)o[r]&&a.push(t[r]);return a},_simplifyDPStep:function(t,e,n,i,o){var r,a,s,u=0;for(a=i+1;a<=o-1;a++)(s=this._sqClosestPointOnSegment(t[a],t[i],t[o],!0))>u&&(r=a,u=s);u>n&&(e[r]=1,this._simplifyDPStep(t,e,n,i,r),this._simplifyDPStep(t,e,n,r,o))},_reducePoints:function(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;i<r;i++)this._sqDist(t[i],t[o])>e&&(n.push(t[i]),o=i);return o<r-1&&n.push(t[r-1]),n},clipSegment:function(t,e,n,i,o){var r,a,s,u=i?this._lastCode:this._getBitCode(t,n),l=this._getBitCode(e,n);for(this._lastCode=l;;){if(!(u|l))return[t,e];if(u&l)return!1;r=u||l,a=this._getEdgeIntersection(t,e,r,n,o),s=this._getBitCode(a,n),r===u?(t=a,u=s):(e=a,l=s)}},_getEdgeIntersection:function(t,e,n,i,o){var r,a,s=e.x-t.x,l=e.y-t.y,c=i.min,h=i.max;return 8&n?(r=t.x+s*(h.y-t.y)/l,a=h.y):4&n?(r=t.x+s*(c.y-t.y)/l,a=c.y):2&n?(r=h.x,a=t.y+l*(h.x-t.x)/s):1&n&&(r=c.x,a=t.y+l*(c.x-t.x)/s),new u.Point(r,a,o)},_getBitCode:function(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},_sqClosestPointOnSegment:function(t,e,n,i){var o,r=e.x,a=e.y,s=n.x-r,l=n.y-a,c=s*s+l*l;return c>0&&(o=((t.x-r)*s+(t.y-a)*l)/c,o>1?(r=n.x,a=n.y):o>0&&(r+=s*o,a+=l*o)),s=t.x-r,l=t.y-a,i?s*s+l*l:new u.Point(r,a)}},u.Polyline=u.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){u.setOptions(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,r=u.LineUtil._sqClosestPointOnSegment,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],c=1,h=l.length;c<h;c++){e=l[c-1],n=l[c];var f=r(t,e,n,!0);f<i&&(i=f,o=r(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,a,s=this._rings[0],u=s.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,i=0;t<u-1;t++)if(o=s[t],r=s[t+1],n=o.distanceTo(r),(i+=n)>e)return a=(i-e)/n,this._map.layerPointToLatLng([r.x-a*(r.x-o.x),r.y-a*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=u.latLng(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new u.LatLngBounds,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return u.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=u.Polyline._flat(t),i=0,o=t.length;i<o;i++)n?(e[i]=u.latLng(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new u.Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new u.Point(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var i,o,r=t[0]instanceof u.LatLng,a=t.length;if(r){for(o=[],i=0;i<a;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<a;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,n,i,o,r,a,s,l=this._parts;for(e=0,i=0,o=this._rings.length;e<o;e++)for(s=this._rings[e],n=0,r=s.length;n<r-1;n++)(a=u.LineUtil.clipSegment(s[n],s[n+1],t,n,!0))&&(l[i]=l[i]||[],l[i].push(a[0]),a[1]===s[n+1]&&n!==r-2||(l[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=u.LineUtil.simplify(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}}),u.polyline=function(t,e){return new u.Polyline(t,e)},u.Polyline._flat=function(t){return!u.Util.isArray(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]},u.PolyUtil={},u.PolyUtil.clipPolygon=function(t,e,n){var i,o,r,a,s,l,c,h,f,d=[1,4,2,8],p=u.LineUtil;for(o=0,c=t.length;o<c;o++)t[o]._code=p._getBitCode(t[o],e);for(a=0;a<4;a++){for(h=d[a],i=[],o=0,c=t.length,r=c-1;o<c;r=o++)s=t[o],l=t[r],s._code&h?l._code&h||(f=p._getEdgeIntersection(l,s,h,e,n),f._code=p._getBitCode(f,e),i.push(f)):(l._code&h&&(f=p._getEdgeIntersection(l,s,h,e,n),f._code=p._getBitCode(f,e),i.push(f)),i.push(s));t=i}return t},u.Polygon=u.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,a,s,u,l=this._rings[0],c=l.length;if(!c)return null;for(r=a=s=0,t=0,e=c-1;t<c;e=t++)n=l[t],i=l[e],o=n.y*i.x-i.y*n.x,a+=(n.x+i.x)*o,s+=(n.y+i.y)*o,r+=3*o;return u=0===r?l[0]:[a/r,s/r],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=u.Polyline.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof u.LatLng&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){u.Polyline.prototype._setLatLngs.call(this,t),u.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return u.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new u.Point(e,e);if(t=new u.Bounds(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var i,o=0,r=this._rings.length;o<r;o++)i=u.PolyUtil.clipPolygon(this._rings[o],t,!0),i.length&&this._parts.push(i)}},_updatePath:function(){this._renderer._updatePoly(this,!0)}}),u.polygon=function(t,e){return new u.Polygon(t,e)},u.Rectangle=u.Polygon.extend({initialize:function(t,e){u.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=u.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),u.rectangle=function(t,e){return new u.Rectangle(t,e)},u.CircleMarker=u.Path.extend({options:{fill:!0,radius:10},initialize:function(t,e){u.setOptions(this,e),this._latlng=u.latLng(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=u.latLng(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return u.Path.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new u.Bounds(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),u.circleMarker=function(t,e){return new u.CircleMarker(t,e)},u.Circle=u.CircleMarker.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=u.extend({},n,{radius:e})),u.setOptions(this,e),this._latlng=u.latLng(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new u.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:u.Path.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===u.CRS.Earth.distance){var o=Math.PI/180,r=this._mRadius/u.CRS.Earth.R/o,a=n.project([e+r,t]),s=n.project([e-r,t]),l=a.add(s).divideBy(2),c=n.unproject(l).lat,h=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(c*o))/(Math.cos(e*o)*Math.cos(c*o)))/o;(isNaN(h)||0===h)&&(h=r/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(h)?0:Math.max(Math.round(l.x-n.project([c,t-h]).x),1),this._radiusY=Math.max(Math.round(l.y-a.y),1)}else{var f=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(f).x}this._updateBounds()}}),u.circle=function(t,e,n){return new u.Circle(t,e,n)},u.SVG=u.Renderer.extend({getEvents:function(){var t=u.Renderer.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=u.SVG.create("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=u.SVG.create("g"),this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){u.Renderer.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),u.DomUtil.setPosition(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=u.SVG.create("path");t.options.className&&u.DomUtil.addClass(e,t.options.className),t.options.interactive&&u.DomUtil.addClass(e,"leaflet-interactive"),this._updateStyle(t),this._layers[u.stamp(t)]=t},_addPath:function(t){this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){u.DomUtil.remove(t._path),t.removeInteractiveTarget(t._path),delete this._layers[u.stamp(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,u.SVG.pointsToPath(t._parts,e))},_updateCircle:function(t){var e=t._point,n=t._radius,i=t._radiusY||n,o="a"+n+","+i+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+o+2*n+",0 "+o+2*-n+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){u.DomUtil.toFront(t._path)},_bringToBack:function(t){u.DomUtil.toBack(t._path)}}),u.extend(u.SVG,{create:function(t){return a.createElementNS("http://www.w3.org/2000/svg",t)},pointsToPath:function(t,e){var n,i,o,r,a,s,l="";for(n=0,o=t.length;n<o;n++){for(a=t[n],i=0,r=a.length;i<r;i++)s=a[i],l+=(i?"L":"M")+s.x+" "+s.y;l+=e?u.Browser.svg?"z":"x":""}return l||"M0 0"}}),u.Browser.svg=!(!a.createElementNS||!u.SVG.create("svg").createSVGRect),u.svg=function(t){return u.Browser.svg||u.Browser.vml?new u.SVG(t):null},u.Browser.vml=!u.Browser.svg&&function(){try{var t=a.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),u.SVG.include(u.Browser.vml?{_initContainer:function(){this._container=u.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(u.Renderer.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=u.SVG.create("shape");u.DomUtil.addClass(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=u.SVG.create("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[u.stamp(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;u.DomUtil.remove(e),t.removeInteractiveTarget(e),delete this._layers[u.stamp(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=u.SVG.create("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=u.Util.isArray(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=u.SVG.create("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){u.DomUtil.toFront(t._container)},_bringToBack:function(t){u.DomUtil.toBack(t._container)}}:{}),u.Browser.vml&&(u.SVG.create=function(){try{return a.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return a.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return a.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),u.Canvas=u.Renderer.extend({getEvents:function(){var t=u.Renderer.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){u.Renderer.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=a.createElement("canvas");u.DomEvent.on(t,"mousemove",u.Util.throttle(this._onMouseMove,32,this),this).on(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},u.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=u.Browser.retina?2:1;u.DomUtil.setPosition(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",u.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){u.Renderer.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[u.stamp(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[u.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,n=t.options.dashArray.split(","),i=[];for(e=0;e<n.length;e++)i.push(Number(n[e]));t.options._dashArray=i}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||u.Util.requestAnimFrame(this._redraw,this))},_extendRedrawBounds:function(t){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new u.Bounds,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,r,a=t._parts,s=a.length,u=this._ctx;if(s){for(this._drawnLayers[t._leaflet_id]=t,u.beginPath(),u.setLineDash&&u.setLineDash(t.options&&t.options._dashArray||[]),n=0;n<s;n++){for(i=0,o=a[n].length;i<o;i++)r=a[n][i],u[i?"lineTo":"moveTo"](r.x,r.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=t._radius,o=(t._radiusY||i)/i;this._drawnLayers[t._leaflet_id]=t,1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)e=o.layer,e.options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(u.DomEvent._fakeStop(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(u.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,o=this._drawFirst;o;o=o.next)n=o.layer,n.options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(u.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order,n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}),u.Browser.canvas=function(){return!!a.createElement("canvas").getContext}(),u.canvas=function(t){return u.Browser.canvas?new u.Canvas(t):null},u.Polyline.prototype._containsPoint=function(t,e){var n,i,o,r,a,s,l=this._clickTolerance();if(!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(s=this._parts[n],i=0,a=s.length,o=a-1;i<a;o=i++)if((e||0!==i)&&u.LineUtil.pointToSegmentDistance(t,s[o],s[i])<=l)return!0;return!1},u.Polygon.prototype._containsPoint=function(t){var e,n,i,o,r,a,s,l,c=!1;if(!this._pxBounds.contains(t))return!1;for(o=0,s=this._parts.length;o<s;o++)for(e=this._parts[o],r=0,l=e.length,a=l-1;r<l;a=r++)n=e[r],i=e[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||u.Polyline.prototype._containsPoint.call(this,t,!0)},u.CircleMarker.prototype._containsPoint=function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()},u.GeoJSON=u.FeatureGroup.extend({initialize:function(t,e){u.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=u.Util.isArray(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)i=o[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var a=u.GeoJSON.geometryToLayer(t,r);return a?(a.feature=u.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),r.onEachFeature&&r.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=u.Util.extend({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),u.extend(u.GeoJSON,{geometryToLayer:function(t,e){var n,i,o,r,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,l=[],c=e&&e.pointToLayer,h=e&&e.coordsToLatLng||this.coordsToLatLng;if(!s&&!a)return null;switch(a.type){case"Point":return n=h(s),c?c(t,n):new u.Marker(n);case"MultiPoint":for(o=0,r=s.length;o<r;o++)n=h(s[o]),l.push(c?c(t,n):new u.Marker(n));return new u.FeatureGroup(l);case"LineString":case"MultiLineString":return i=this.coordsToLatLngs(s,"LineString"===a.type?0:1,h),new u.Polyline(i,e);case"Polygon":case"MultiPolygon":return i=this.coordsToLatLngs(s,"Polygon"===a.type?1:2,h),new u.Polygon(i,e);case"GeometryCollection":for(o=0,r=a.geometries.length;o<r;o++){var f=this.geometryToLayer({geometry:a.geometries[o],type:"Feature",properties:t.properties},e);f&&l.push(f)}return new u.FeatureGroup(l);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new u.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,n){for(var i,o=[],r=0,a=t.length;r<a;r++)i=e?this.coordsToLatLngs(t[r],e-1,n):(n||this.coordsToLatLng)(t[r]),o.push(i);return o},latLngToCoords:function(t){return void 0!==t.alt?[t.lng,t.lat,t.alt]:[t.lng,t.lat]},latLngsToCoords:function(t,e,n){for(var i=[],o=0,r=t.length;o<r;o++)i.push(e?u.GeoJSON.latLngsToCoords(t[o],e-1,n):u.GeoJSON.latLngToCoords(t[o]));return!e&&n&&i.push(i[0]),i},getFeature:function(t,e){return t.feature?u.extend({},t.feature,{geometry:e}):u.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var h={toGeoJSON:function(){return u.GeoJSON.getFeature(this,{type:"Point",coordinates:u.GeoJSON.latLngToCoords(this.getLatLng())})}};u.Marker.include(h),u.Circle.include(h),u.CircleMarker.include(h),u.Polyline.prototype.toGeoJSON=function(){var t=!u.Polyline._flat(this._latlngs),e=u.GeoJSON.latLngsToCoords(this._latlngs,t?1:0);return u.GeoJSON.getFeature(this,{type:(t?"Multi":"")+"LineString",coordinates:e})},u.Polygon.prototype.toGeoJSON=function(){var t=!u.Polyline._flat(this._latlngs),e=t&&!u.Polyline._flat(this._latlngs[0]),n=u.GeoJSON.latLngsToCoords(this._latlngs,e?2:t?1:0,!0);return t||(n=[n]),u.GeoJSON.getFeature(this,{type:(e?"Multi":"")+"Polygon",coordinates:n})},u.LayerGroup.include({toMultiPoint:function(){var t=[];return this.eachLayer(function(e){t.push(e.toGeoJSON().geometry.coordinates)}),u.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint();var e="GeometryCollection"===t,n=[];return this.eachLayer(function(t){if(t.toGeoJSON){var i=t.toGeoJSON();n.push(e?i.geometry:u.GeoJSON.asFeature(i))}}),e?u.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}}),u.geoJSON=function(t,e){return new u.GeoJSON(t,e)},u.geoJson=u.geoJSON,u.Draggable=u.Evented.extend({options:{clickTolerance:3},statics:{START:u.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e,n){this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(u.DomEvent.on(this._dragStartTarget,u.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(u.Draggable._dragging===this&&this.finishDrag(),u.DomEvent.off(this._dragStartTarget,u.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!u.DomUtil.hasClass(this._element,"leaflet-zoom-anim")&&!(u.Draggable._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(u.Draggable._dragging=this,this._preventOutline&&u.DomUtil.preventOutline(this._element),u.DomUtil.disableImageDrag(),u.DomUtil.disableTextSelection(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new u.Point(e.clientX,e.clientY),u.DomEvent.on(a,u.Draggable.MOVE[t.type],this._onMove,this).on(a,u.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new u.Point(e.clientX,e.clientY),i=n.subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(u.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=u.DomUtil.getPosition(this._element).subtract(i),u.DomUtil.addClass(a.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,r.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),u.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,u.Util.cancelAnimFrame(this._animRequest),this._lastEvent=t,this._animRequest=u.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),u.DomUtil.setPosition(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){u.DomUtil.removeClass(a.body,"leaflet-dragging"),this._lastTarget&&(u.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in u.Draggable.MOVE)u.DomEvent.off(a,u.Draggable.MOVE[t],this._onMove,this).off(a,u.Draggable.END[t],this._onUp,this);u.DomUtil.enableImageDrag(),u.DomUtil.enableTextSelection(),this._moved&&this._moving&&(u.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,u.Draggable._dragging=!1}}),u.Handler=u.Class.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),u.Map.mergeOptions({dragging:!0,inertia:!u.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),u.Map.Drag=u.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new u.Draggable(t._mapPane,t._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}u.DomUtil.addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){u.DomUtil.removeClass(this._map._container,"leaflet-grab"),u.DomUtil.removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var t=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=u.latLngBounds(this._map.options.maxBounds);this._offsetLimit=u.bounds(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,a=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=o.multiplyBy(a/r),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),h=s.multiplyBy(c/l),f=c/(n.inertiaDeceleration*a),d=h.multiplyBy(-f/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),u.Util.requestAnimFrame(function(){e.panBy(d,{duration:f,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}}),u.Map.addInitHook("addHandler","dragging",u.Map.Drag),u.Map.mergeOptions({doubleClickZoom:!0}),u.Map.DoubleClickZoom=u.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}}),u.Map.addInitHook("addHandler","doubleClickZoom",u.Map.DoubleClickZoom),u.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),u.Map.ScrollWheelZoom=u.Handler.extend({addHooks:function(){u.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){u.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=u.DomEvent.getWheelDelta(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u.bind(this._performZoom,this),i),u.DomEvent.stop(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=n?Math.ceil(o/n)*n:o,a=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}}),u.Map.addInitHook("addHandler","scrollWheelZoom",u.Map.ScrollWheelZoom),u.extend(u.DomEvent,{_touchstart:u.Browser.msPointer?"MSPointerDown":u.Browser.pointer?"pointerdown":"touchstart",_touchend:u.Browser.msPointer?"MSPointerUp":u.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,n){function i(t){var e;if(u.Browser.pointer){if(!u.Browser.edge||"mouse"===t.pointerType)return;e=u.DomEvent._pointersCount}else e=t.touches.length;if(!(e>1)){var n=Date.now(),i=n-(r||n);a=t.touches?t.touches[0]:t,s=i>0&&i<=l,r=n}}function o(t){if(s&&!a.cancelBubble){if(u.Browser.pointer){if(!u.Browser.edge||"mouse"===t.pointerType)return;var n,i,o={};for(i in a)n=a[i],o[i]=n&&n.bind?n.bind(a):n;a=o}a.type="dblclick",e(a),r=null}}var r,a,s=!1,l=250,c="_leaflet_",h=this._touchstart,f=this._touchend;return t[c+h+n]=i,t[c+f+n]=o,t[c+"dblclick"+n]=e,t.addEventListener(h,i,!1),t.addEventListener(f,o,!1),t.addEventListener("dblclick",e,!1),this},removeDoubleTapListener:function(t,e){var n="_leaflet_",i=t[n+this._touchstart+e],o=t[n+this._touchend+e],r=t[n+"dblclick"+e];return t.removeEventListener(this._touchstart,i,!1),t.removeEventListener(this._touchend,o,!1),u.Browser.edge||t.removeEventListener("dblclick",r,!1),this}}),u.extend(u.DomEvent,{POINTER_DOWN:u.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:u.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:u.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:u.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(t,e,n,i){return"touchstart"===e?this._addPointerStart(t,n,i):"touchmove"===e?this._addPointerMove(t,n,i):"touchend"===e&&this._addPointerEnd(t,n,i),this},removePointerListener:function(t,e,n){var i=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(this.POINTER_DOWN,i,!1):"touchmove"===e?t.removeEventListener(this.POINTER_MOVE,i,!1):"touchend"===e&&(t.removeEventListener(this.POINTER_UP,i,!1),t.removeEventListener(this.POINTER_CANCEL,i,!1)),this},_addPointerStart:function(t,e,n){var i=u.bind(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(this.TAG_WHITE_LIST.indexOf(t.target.tagName)<0))return;u.DomEvent.preventDefault(t)}this._handlePointer(t,e)},this);if(t["_leaflet_touchstart"+n]=i,t.addEventListener(this.POINTER_DOWN,i,!1),!this._pointerDocListener){var o=u.bind(this._globalPointerUp,this);a.documentElement.addEventListener(this.POINTER_DOWN,u.bind(this._globalPointerDown,this),!0),a.documentElement.addEventListener(this.POINTER_MOVE,u.bind(this._globalPointerMove,this),!0),a.documentElement.addEventListener(this.POINTER_UP,o,!0),a.documentElement.addEventListener(this.POINTER_CANCEL,o,!0),this._pointerDocListener=!0}},_globalPointerDown:function(t){this._pointers[t.pointerId]=t,this._pointersCount++},_globalPointerMove:function(t){this._pointers[t.pointerId]&&(this._pointers[t.pointerId]=t)},_globalPointerUp:function(t){delete this._pointers[t.pointerId],this._pointersCount--},_handlePointer:function(t,e){t.touches=[];for(var n in this._pointers)t.touches.push(this._pointers[n]);t.changedTouches=[t],e(t)},_addPointerMove:function(t,e,n){var i=u.bind(function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&this._handlePointer(t,e)},this);t["_leaflet_touchmove"+n]=i,t.addEventListener(this.POINTER_MOVE,i,!1)},_addPointerEnd:function(t,e,n){var i=u.bind(function(t){this._handlePointer(t,e)},this);t["_leaflet_touchend"+n]=i,t.addEventListener(this.POINTER_UP,i,!1),t.addEventListener(this.POINTER_CANCEL,i,!1)}}),u.Map.mergeOptions({touchZoom:u.Browser.touch&&!u.Browser.android23,bounceAtZoomLimits:!0}),u.Map.TouchZoom=u.Handler.extend({addHooks:function(){u.DomUtil.addClass(this._map._container,"leaflet-touch-zoom"),u.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){u.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom"),u.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),u.DomEvent.on(a,"touchmove",this._onTouchMove,this).on(a,"touchend",this._onTouchEnd,this),u.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var r=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===r.x&&0===r.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),u.Util.cancelAnimFrame(this._animRequest);var a=u.bind(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=u.Util.requestAnimFrame(a,this,!0),u.DomEvent.preventDefault(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);this._zooming=!1,u.Util.cancelAnimFrame(this._animRequest),u.DomEvent.off(a,"touchmove",this._onTouchMove).off(a,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}}),u.Map.addInitHook("addHandler","touchZoom",u.Map.TouchZoom),u.Map.mergeOptions({tap:!0,tapTolerance:15}),u.Map.Tap=u.Handler.extend({addHooks:function(){u.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){u.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(u.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new u.Point(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&u.DomUtil.addClass(n,"leaflet-active"),this._holdTimeout=setTimeout(u.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),u.DomEvent.on(a,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),u.DomEvent.off(a,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&u.DomUtil.removeClass(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new u.Point(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=a.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,r,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}}),u.Browser.touch&&!u.Browser.pointer&&u.Map.addInitHook("addHandler","tap",u.Map.Tap),u.Map.mergeOptions({boxZoom:!0}),u.Map.BoxZoom=u.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){u.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){u.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._resetState(),u.DomUtil.disableTextSelection(),u.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(t),u.DomEvent.on(a,{contextmenu:u.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=u.DomUtil.create("div","leaflet-zoom-box",this._container),u.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new u.Bounds(this._point,this._startPoint),n=e.getSize();u.DomUtil.setPosition(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(u.DomUtil.remove(this._box),u.DomUtil.removeClass(this._container,"leaflet-crosshair")),u.DomUtil.enableTextSelection(),u.DomUtil.enableImageDrag(),u.DomEvent.off(a,{contextmenu:u.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){setTimeout(u.bind(this._resetState,this),0);var e=new u.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),u.Map.addInitHook("addHandler","boxZoom",u.Map.BoxZoom),u.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80}),u.Map.Keyboard=u.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),u.DomEvent.on(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),u.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=a.body,e=a.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),r.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){u.DomEvent.on(a,"keydown",this._onKeyDown,this)},_removeHooks:function(){u.DomEvent.off(a,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;e=this._panKeys[n],t.shiftKey&&(e=u.point(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n)return;i.closePopup()}u.DomEvent.stop(t)}}}),u.Map.addInitHook("addHandler","keyboard",u.Map.Keyboard),u.Handler.MarkerDrag=u.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new u.Draggable(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),u.DomUtil.addClass(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&u.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,n=e._shadow,i=u.DomUtil.getPosition(e._icon),o=e._map.layerPointToLatLng(i);n&&u.DomUtil.setPosition(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),u.Control=u.Class.extend({options:{position:"topright"},initialize:function(t){u.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return u.DomUtil.addClass(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map?(u.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),u.control=function(t){return new u.Control(t)},u.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,o){var r=n+t+" "+n+o;e[t+o]=u.DomUtil.create("div",r,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=u.DomUtil.create("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){u.DomUtil.remove(this._controlContainer)}}),u.Control.Zoom=u.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=u.DomUtil.create("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var r=u.DomUtil.create("a",n,i);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),u.DomEvent.on(r,"mousedown dblclick",u.DomEvent.stopPropagation).on(r,"click",u.DomEvent.stop).on(r,"click",o,this).on(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";u.DomUtil.removeClass(this._zoomInButton,e),u.DomUtil.removeClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&u.DomUtil.addClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&u.DomUtil.addClass(this._zoomInButton,e)}}),u.Map.mergeOptions({zoomControl:!0}),u.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new u.Control.Zoom,this.addControl(this.zoomControl))}),u.control.zoom=function(t){return new u.Control.Zoom(t)},u.Control.Attribution=u.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){u.setOptions(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=u.DomUtil.create("div","leaflet-control-attribution"),u.DomEvent&&u.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}}),u.Map.mergeOptions({attributionControl:!0}),u.Map.addInitHook(function(){this.options.attributionControl&&(new u.Control.Attribution).addTo(this)}),u.control.attribution=function(t){return new u.Control.Attribution(t)},u.Control.Scale=u.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=u.DomUtil.create("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=u.DomUtil.create("div",e,n)),t.imperial&&(this._iScale=u.DomUtil.create("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),u.control.scale=function(t){return new u.Control.Scale(t)},u.Control.Layers=u.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){u.setOptions(this,n),this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){return this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(u.stamp(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){u.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(u.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):u.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return u.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=u.DomUtil.create("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),u.DomEvent.disableClickPropagation(e),u.Browser.touch||u.DomEvent.disableScrollPropagation(e);var i=this._form=u.DomUtil.create("form",t+"-list");n&&(this._map.on("click",this.collapse,this),u.Browser.android||u.DomEvent.on(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=u.DomUtil.create("a",t+"-toggle",e);o.href="#",o.title="Layers",u.Browser.touch?u.DomEvent.on(o,"click",u.DomEvent.stop).on(o,"click",this.expand,this):u.DomEvent.on(o,"focus",this.expand,this),u.DomEvent.on(i,"click",function(){setTimeout(u.bind(this._onInputClick,this),0)},this),n||this.expand(),this._baseLayersList=u.DomUtil.create("div",t+"-base",i),this._separator=u.DomUtil.create("div",t+"-separator",i),this._overlaysList=u.DomUtil.create("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&u.stamp(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(u.bind(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;u.DomUtil.empty(this._baseLayersList),u.DomUtil.empty(this._overlaysList);var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(u.stamp(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=a.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=a.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?(e=a.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers",i),e.layerId=u.stamp(t.layer),u.DomEvent.on(e,"click",this._onInputClick,this);var o=a.createElement("span");o.innerHTML=" "+t.name;var r=a.createElement("div");return n.appendChild(r),r.appendChild(e),r.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n,i=this._form.getElementsByTagName("input"),o=[],r=[];this._handlingClick=!0;for(var a=i.length-1;a>=0;a--)t=i[a],e=this._getLayer(t.layerId).layer,n=this._map.hasLayer(e),t.checked&&!n?o.push(e):!t.checked&&n&&r.push(e);for(a=0;a<r.length;a++)this._map.removeLayer(r[a]);for(a=0;a<o.length;a++)this._map.addLayer(o[a]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._form.getElementsByTagName("input"),i=this._map.getZoom(),o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),u.control.layers=function(t,e,n){return new u.Control.Layers(t,e,n)}}(window,document)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2);n.n(i);e.default={props:["code","userRef","codeRef","modal"],data:function(){return{size:"72px",userAnswer:[1,2,1],clues:[]}},computed:{isCorrect:function(){var t=3===this.countCorrectPosition(this.userAnswer);return console.log([this.userAnswer,this.code.answer]),t&&(this.userAnswer=[1,2,1],this.userRef.child("score").set(this.userRef.data.score+1),this.codeRef.child("team").set(this.userRef.data.team),navigator.notification&&navigator.notification.beep(2),i.Toast.create({html:"You cracked it!",icon:"info",color:"#21ba45",bgColor:"#333",button:{color:"#21ba45"}}),(this.userRef.data.score+1)/10%1*10==0&&(this.userRef.child("codes").set(this.userRef.data.codes+3),i.Toast.create({html:"You received +3 codes!",icon:"info",color:"#21ba45",bgColor:"#333",button:{color:"#21ba45"}})),this.modal.close()),t}},methods:{close:function(){this.modal.close()},countCorrectCode:function(t){var e=0;for(var n in this.code.answer)for(var i in t)t[i]===this.code.answer[n]&&e++;return e},countCorrectPosition:function(t){var e=0;for(var n in this.code.answer)t[n]===this.code.answer[n]&&e++;return e}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-layout",[n("div",{staticClass:"raised toolbar bg-blue-grey-10",class:{"text-negative":"red"==t.code.team,"text-primary":"blue"==t.code.team,"text-warning":"yellow"==t.code.team},slot:"header"},[n("button",{staticClass:"circular small",on:{click:t.close}},[n("i",[t._v("code")])]),t._v(" "),n("q-toolbar-title",{attrs:{padding:0}},[t._v("\n      "+t._s(t.code[".key"])+"\n      "+t._s(t.isCorrect)+"\n    ")]),t._v(" "),n("button",{staticClass:"circular small",class:{"text-negative":"red"==t.code.team,"text-primary":"blue"==t.code.team,"text-warning":"yellow"==t.code.team}},[n("i",[t._v("my_location")])])],1),t._v(" "),n("div",{staticClass:"layout-view bg-blue-grey-9 column"},[n("div",{staticClass:"list",staticStyle:{border:"0px"}},t._l(t.code.clues,function(e,i){return n("div",{staticClass:"item two-lines"},[n("div",{staticClass:"item-primary text-white",staticStyle:{width:"72px"}},[t._v(t._s(e))]),t._v(" "),n("div",{staticClass:"item-content has-secondary",staticStyle:{position:"relative",left:"30px"}},[n("div",{staticClass:"text-white"},[t._v(t._s(t.correctNos=t.countCorrectCode(e))+" number"+t._s(t.correctNos>1?"s":"")+" "+t._s(t.correctNos>1?"are":"is")+" correct")]),t._v(" "),n("div",{staticClass:"text-white"},[t._v(t._s(t.correctPos=t.countCorrectPosition(e))+" number"+t._s(t.correctPos>1?"s":"")+" "+t._s(t.correctPos>1?"are":"is")+"  well placed")])]),t._v(" "),n("div",{staticClass:"item-secondary"},[n("i",{staticClass:"left-detail"},[t._v("extension")])])])}))]),t._v(" "),n("div",{staticClass:"toolbar bg-blue-grey-10",slot:"footer"},[n("div",{staticClass:"layout-padding"},[n("q-knob",{attrs:{"track-color":"#777",color:"#fff",min:0,max:9,placeholder:""+t.userAnswer[0]},model:{value:t.userAnswer[0],callback:function(e){var n=t.userAnswer;Array.isArray(n)?n.splice(0,1,e):t.userAnswer[0]=e},expression:"userAnswer[0]"}})],1),t._v(" "),n("div",{staticClass:"layout-padding"},[n("q-knob",{attrs:{"track-color":"#777",color:"#fff",min:0,max:9,placeholder:""+t.userAnswer[1]},model:{value:t.userAnswer[1],callback:function(e){var n=t.userAnswer;Array.isArray(n)?n.splice(1,1,e):t.userAnswer[1]=e},expression:"userAnswer[1]"}})],1),t._v(" "),n("div",{staticClass:"layout-padding"},[n("q-knob",{attrs:{"track-color":"#777",color:"#fff",min:0,max:9,placeholder:""+t.userAnswer[2]},model:{value:t.userAnswer[2],callback:function(e){var n=t.userAnswer;Array.isArray(n)?n.splice(2,1,e):t.userAnswer[2]=e},expression:"userAnswer[2]"}})],1)])])},staticRenderFns:[]}},function(t,e){!function(t,e,n){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,n=this._zoom;if(t.__parent)for(;e.__parent._zoom>=n;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t}),this):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t}),this)},addLayers:function(t,e){if(!L.Util.isArray(t))return this.addLayer(t);var n,i=this._featureGroup,o=this._nonPointGroup,r=this.options.chunkedLoading,a=this.options.chunkInterval,s=this.options.chunkProgress,u=t.length,l=0,c=!0;if(this._map){var h=(new Date).getTime(),f=L.bind(function(){for(var d=(new Date).getTime();u>l;l++){if(r&&0==l%200){if((new Date).getTime()-d>a)break}if((n=t[l])instanceof L.LayerGroup)c&&(t=t.slice(),c=!1),this._extractNonGroupLayers(n,t),u=t.length;else if(n.getLatLng){if(!this.hasLayer(n)&&(this._addLayer(n,this._maxZoom),e||this.fire("layeradd",{layer:n}),n.__parent&&2===n.__parent.getChildCount())){var p=n.__parent.getAllChildMarkers(),m=p[0]===n?p[1]:p[0];i.removeLayer(m)}}else o.addLayer(n),e||this.fire("layeradd",{layer:n})}s&&s(l,u,(new Date).getTime()-h),l===u?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(f,this.options.chunkDelay)},this);f()}else for(var d=this._needsClustering;u>l;l++)n=t[l],n instanceof L.LayerGroup?(c&&(t=t.slice(),c=!1),this._extractNonGroupLayers(n,t),u=t.length):n.getLatLng?this.hasLayer(n)||d.push(n):o.addLayer(n);return this},removeLayers:function(t){var e,n,i=t.length,o=this._featureGroup,r=this._nonPointGroup,a=!0;if(!this._map){for(e=0;i>e;e++)n=t[e],n instanceof L.LayerGroup?(a&&(t=t.slice(),a=!1),this._extractNonGroupLayers(n,t),i=t.length):(this._arraySplice(this._needsClustering,n),r.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire("layerremove",{layer:n}));return this}if(this._unspiderfy){this._unspiderfy();var s=t.slice(),u=i;for(e=0;u>e;e++)n=s[e],n instanceof L.LayerGroup?(this._extractNonGroupLayers(n,s),u=s.length):this._unspiderfyLayer(n)}for(e=0;i>e;e++)n=t[e],n instanceof L.LayerGroup?(a&&(t=t.slice(),a=!1),this._extractNonGroupLayers(n,t),i=t.length):n.__parent?(this._removeLayer(n,!0,!0),this.fire("layerremove",{layer:n}),o.hasLayer(n)&&(o.removeLayer(n),n.clusterShow&&n.clusterShow())):(r.removeLayer(n),this.fire("layerremove",{layer:n}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var n,i,o,r=this._needsClustering.slice(),a=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(r),i=r.length-1;i>=0;i--){for(n=!0,o=a.length-1;o>=0;o--)if(a[o].layer===r[i]){n=!1;break}n&&t.call(e,r[i])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer(function(n){L.stamp(n)===t&&(e=n)}),e},hasLayer:function(t){if(!t)return!1;var e,n=this._needsClustering;for(e=n.length-1;e>=0;e--)if(n[e]===t)return!0;for(n=this._needsRemoving,e=n.length-1;e>=0;e--)if(n[e].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var n=function(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",n,this),this.off("animationend",n,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",n,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),t.__parent.zoomToBounds())},onAdd:function(t){this._map=t;var e,n,i;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,n=this._needsRemoving.length;n>e;e++)i=this._needsRemoving[e],i.newlatlng=i.layer._latlng,i.layer._latlng=i.latlng;for(e=0,n=this._needsRemoving.length;n>e;e++)i=this._needsRemoving[e],this._removeLayer(i.layer,!0),i.layer._latlng=i.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return t.splice(n,1),!0},_removeFromGridUnclustered:function(t,e){for(var n=this._map,i=this._gridUnclustered,o=this._map.getMinZoom();e>=o&&i[e].removeObject(t,n.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var e=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup()}},_moveChild:function(t,e,n){t._latlng=e,this.removeLayer(t),t._latlng=n,this.addLayer(t)},_childMarkerDragEnd:function(t){t.target.__dragStart&&this._moveChild(t.target,t.target.__dragStart,t.target._latlng),delete t.target.__dragStart},_removeLayer:function(t,e,n){var i=this._gridClusters,o=this._gridUnclustered,r=this._featureGroup,a=this._map,s=this._map.getMinZoom();e&&this._removeFromGridUnclustered(t,this._maxZoom);var u,l=t.__parent,c=l._markers;for(this._arraySplice(c,t);l&&(l._childCount--,l._boundsNeedUpdate=!0,!(l._zoom<s));)e&&l._childCount<=1?(u=l._markers[0]===t?l._markers[1]:l._markers[0],i[l._zoom].removeObject(l,a.project(l._cLatLng,l._zoom)),o[l._zoom].addObject(u,a.project(u.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(u),u.__parent=l.__parent,l._icon&&(r.removeLayer(l),n||r.addLayer(u))):l._iconNeedsUpdate=!0,l=l.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,n){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,n)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),n=" marker-cluster-";return n+=10>e?"small":100>e?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick;(e||i)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,n=e;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,i=this._map;(t||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),i.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=this._map.getMaxZoom(),e=this._map.getMinZoom(),n=this.options.maxClusterRadius,i=n;"function"!=typeof n&&(i=function(){return n}),null!==this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var o=t;o>=e;o--)this._gridClusters[o]=new L.DistanceGrid(i(o)),this._gridUnclustered[o]=new L.DistanceGrid(i(o));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var n,i,o=this._gridClusters,r=this._gridUnclustered,a=this._map.getMinZoom();for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);e>=a;e--){n=this._map.project(t.getLatLng(),e);var s=o[e].getNearObject(n);if(s)return s._addChild(t),void(t.__parent=s);if(s=r[e].getNearObject(n)){var u=s.__parent;u&&this._removeLayer(s,!1);var l=new this._markerCluster(this,e,s,t);o[e].addObject(l,this._map.project(l._cLatLng,e)),s.__parent=l,t.__parent=l;var c=l;for(i=e-1;i>u._zoom;i--)c=new this._markerCluster(this,i,c),o[i].addObject(c,this._map.project(s.getLatLng(),i));return u._addChild(c),void this._removeFromGridUnclustered(s,e)}r[e].addObject(t,n)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return e!==n&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var n=e.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var n,i=t.getLayers(),o=0;for(e=e||[];o<i.length;o++)n=i[o],n instanceof L.LayerGroup?this._extractNonGroupLayers(n,e):e.push(n);return e},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}}),L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,e){var n,i=this._getExpandedVisibleBounds(),o=this._featureGroup,r=this._map.getMinZoom();this._ignoreMove=!0,this._topClusterLevel._recursively(i,t,r,function(r){var a,s=r._latlng,u=r._markers;for(i.contains(s)||(s=null),r._isSingleParent()&&t+1===e?(o.removeLayer(r),r._recursivelyAddChildrenToMap(null,e,i)):(r.clusterHide(),r._recursivelyAddChildrenToMap(s,e,i)),n=u.length-1;n>=0;n--)a=u[n],i.contains(a._latlng)||o.removeLayer(a)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(i,e),o.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()}),this._topClusterLevel._recursively(i,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(i,t,r,function(t){o.removeLayer(t),t.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var n=this,i=this._featureGroup;i.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){i.removeLayer(t),t.clusterShow(),n._animationEnd()})):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,e,n){var i=this._getExpandedVisibleBounds(),o=this._map.getMinZoom();t._recursivelyAnimateChildrenInAndAddSelfToMap(i,o,e+1,n);var r=this;this._forceLayout(),t._recursivelyBecomeVisible(i,n),this._enqueue(function(){if(1===t._childCount){var a=t._markers[0];this._ignoreMove=!0,a.setLatLng(a.getLatLng()),this._ignoreMove=!1,a.clusterShow&&a.clusterShow()}else t._recursively(i,n,o,function(t){t._recursivelyRemoveChildrenFromMap(i,o,e+1)});r._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(e.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)},L.MarkerCluster=L.Marker.extend({initialize:function(t,e,n,i){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),i&&this._addChild(i)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var n=this._markers.length-1;n>=0;n--)t.push(this._markers[n]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var e,n=this._childClusters.slice(),i=this._group._map,o=i.getBoundsZoom(this._bounds),r=this._zoom+1,a=i.getZoom();n.length>0&&o>r;){r++;var s=[];for(e=0;e<n.length;e++)s=s.concat(n[e]._childClusters);n=s}o>r?this._group._map.setView(this._latlng,r):a>=o?this._group._map.setView(this._latlng,a+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,n,i,o=this._markers,r=this._childClusters,a=0,s=0,u=this._childCount;if(0!==u){for(this._resetBounds(),t=0;t<o.length;t++)n=o[t]._latlng,this._bounds.extend(n),a+=n.lat,s+=n.lng;for(t=0;t<r.length;t++)e=r[t],e._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),n=e._wLatLng,i=e._childCount,a+=n.lat*i,s+=n.lng*i;this._latlng=this._wLatLng=new L.LatLng(a/u,s/u),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,n){this._recursively(t,this._group._map.getMinZoom(),n-1,function(t){var n,i,o=t._markers;for(n=o.length-1;n>=0;n--)i=o[n],i._icon&&(i._setPos(e),i.clusterHide())},function(t){var n,i,o=t._childClusters;for(n=o.length-1;n>=0;n--)i=o[n],i._icon&&(i._setPos(e),i.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,n,i){this._recursively(t,i,e,function(o){o._recursivelyAnimateChildrenIn(t,o._group._map.latLngToLayerPoint(o.getLatLng()).round(),n),o._isSingleParent()&&n-1===i?(o.clusterShow(),o._recursivelyRemoveChildrenFromMap(t,e,n)):o.clusterHide(),o._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,function(t){t.clusterShow()})},_recursivelyAddChildrenToMap:function(t,e,n){this._recursively(n,this._group._map.getMinZoom()-1,e,function(i){if(e!==i._zoom)for(var o=i._markers.length-1;o>=0;o--){var r=i._markers[o];n.contains(r._latlng)&&(t&&(r._backupLatlng=r.getLatLng(),r.setLatLng(t),r.clusterHide&&r.clusterHide()),i._group._featureGroup.addLayer(r))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var n=this._markers[e];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(t-1===this._zoom)for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._restorePosition();else for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,n,i){var o,r;this._recursively(t,e-1,n-1,function(t){for(r=t._markers.length-1;r>=0;r--)o=t._markers[r],i&&i.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())},function(t){for(r=t._childClusters.length-1;r>=0;r--)o=t._childClusters[r],i&&i.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())})},_recursively:function(t,e,n,i,o){var r,a,s=this._childClusters,u=this._zoom;if(u>=e&&(i&&i(this),o&&u===n&&o(this)),e>u||n>u)for(r=s.length-1;r>=0;r--)a=s[r],t.intersects(a._bounds)&&a._recursively(t,e,n,i,o)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var t=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,t}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var n=this._getCoord(e.x),i=this._getCoord(e.y),o=this._grid,r=o[i]=o[i]||{},a=r[n]=r[n]||[],s=L.Util.stamp(t);this._objectPoint[s]=e,a.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var n,i,o=this._getCoord(e.x),r=this._getCoord(e.y),a=this._grid,s=a[r]=a[r]||{},u=s[o]=s[o]||[];for(delete this._objectPoint[L.Util.stamp(t)],n=0,i=u.length;i>n;n++)if(u[n]===t)return u.splice(n,1),1===i&&delete s[o],!0},eachObject:function(t,e){var n,i,o,r,a,s,u=this._grid;for(n in u){a=u[n];for(i in a)for(s=a[i],o=0,r=s.length;r>o;o++)t.call(e,s[o])&&(o--,r--)}},getNearObject:function(t){var e,n,i,o,r,a,s,u,l=this._getCoord(t.x),c=this._getCoord(t.y),h=this._objectPoint,f=this._sqCellSize,d=null;for(e=c-1;c+1>=e;e++)if(o=this._grid[e])for(n=l-1;l+1>=n;n++)if(r=o[n])for(i=0,a=r.length;a>i;i++)s=r[i],u=this._sqDist(h[L.Util.stamp(s)],t),f>u&&(f=u,d=s);return d},_getCoord:function(t){return Math.floor(t/this._cellSize)},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}},function(){L.QuickHull={getDistant:function(t,e){var n=e[1].lat-e[0].lat;return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+n*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var n,i,o,r=0,a=null,s=[];for(n=e.length-1;n>=0;n--)i=e[n],(o=this.getDistant(i,t))>0&&(s.push(i),o>r&&(r=o,a=i));return{maxPoint:a,newPoints:s}},buildConvexHull:function(t,e){var n=[],i=this.findMostDistantPointFromBaseLine(t,e);return i.maxPoint?(n=n.concat(this.buildConvexHull([t[0],i.maxPoint],i.newPoints)),n=n.concat(this.buildConvexHull([i.maxPoint,t[1]],i.newPoints))):[t[0]]},getConvexHull:function(t){var e,n=!1,i=!1,o=!1,r=!1,a=null,s=null,u=null,l=null,c=null,h=null;for(e=t.length-1;e>=0;e--){var f=t[e];(!1===n||f.lat>n)&&(a=f,n=f.lat),(!1===i||f.lat<i)&&(s=f,i=f.lat),(!1===o||f.lng>o)&&(u=f,o=f.lng),(!1===r||f.lng<r)&&(l=f,r=f.lng)}return i!==n?(h=s,c=a):(h=l,c=u),[].concat(this.buildConvexHull([h,c],t),this.buildConvexHull([c,h],t))}}}(),L.MarkerCluster.include({getConvexHull:function(){var t,e,n=this.getAllChildMarkers(),i=[];for(e=n.length-1;e>=0;e--)t=n[e].getLatLng(),i.push(t);return L.QuickHull.getConvexHull(i)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),n=this._group,i=n._map,o=i.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,o):(o.y+=10,t=this._generatePointsCircle(e.length,o)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var n,i,o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),r=o/this._2PI,a=this._2PI/t,s=[];for(s.length=t,n=t-1;n>=0;n--)i=this._circleStartAngle+n*a,s[n]=new L.Point(e.x+r*Math.cos(i),e.y+r*Math.sin(i))._round();return s},_generatePointsSpiral:function(t,e){var n,i=this._group.options.spiderfyDistanceMultiplier,o=i*this._spiralLengthStart,r=i*this._spiralFootSeparation,a=i*this._spiralLengthFactor*this._2PI,s=0,u=[];for(u.length=t,n=t-1;n>=0;n--)s+=r/o+5e-4*n,u[n]=new L.Point(e.x+o*Math.cos(s),e.y+o*Math.sin(s))._round(),o+=a/s;return u},_noanimationUnspiderfy:function(){var t,e,n=this._group,i=n._map,o=n._featureGroup,r=this.getAllChildMarkers();for(n._ignoreMove=!0,this.setOpacity(1),e=r.length-1;e>=0;e--)t=r[e],o.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(i.removeLayer(t._spiderLeg),delete t._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:r}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var n,i,o,r,a=this._group,s=a._map,u=a._featureGroup,l=this._group.options.spiderLegPolylineOptions;for(a._ignoreMove=!0,n=0;n<t.length;n++)r=s.layerPointToLatLng(e[n]),i=t[n],o=new L.Polyline([this._latlng,r],l),s.addLayer(o),i._spiderLeg=o,i._preSpiderfyLatlng=i._latlng,i.setLatLng(r),i.setZIndexOffset&&i.setZIndexOffset(1e6),u.addLayer(i);this.setOpacity(.3),a._ignoreMove=!1,a.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var i,o,r,a,s,u,l=this,c=this._group,h=c._map,f=c._featureGroup,d=this._latlng,p=h.latLngToLayerPoint(d),m=L.Path.SVG,g=L.extend({},this._group.options.spiderLegPolylineOptions),v=g.opacity;for(v===n&&(v=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),m?(g.opacity=0,g.className=(g.className||"")+" leaflet-cluster-spider-leg"):g.opacity=v,c._ignoreMove=!0,i=0;i<t.length;i++)o=t[i],u=h.layerPointToLatLng(e[i]),r=new L.Polyline([d,u],g),h.addLayer(r),o._spiderLeg=r,m&&(a=r._path,s=a.getTotalLength()+.1,a.style.strokeDasharray=s,a.style.strokeDashoffset=s),o.setZIndexOffset&&o.setZIndexOffset(1e6),o.clusterHide&&o.clusterHide(),f.addLayer(o),o._setPos&&o._setPos(p);for(c._forceLayout(),c._animationStart(),i=t.length-1;i>=0;i--)u=h.layerPointToLatLng(e[i]),o=t[i],o._preSpiderfyLatlng=o._latlng,o.setLatLng(u),o.clusterShow&&o.clusterShow(),m&&(r=o._spiderLeg,a=r._path,a.style.strokeDashoffset=0,r.setStyle({opacity:v}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout(function(){c._animationEnd(),c.fire("spiderfied",{cluster:l,markers:t})},200)},_animationUnspiderfy:function(t){var e,n,i,o,r,a,s=this,u=this._group,l=u._map,c=u._featureGroup,h=t?l._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):l.latLngToLayerPoint(this._latlng),f=this.getAllChildMarkers(),d=L.Path.SVG;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),n=f.length-1;n>=0;n--)e=f[n],e._preSpiderfyLatlng&&(e.closePopup(),e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,a=!0,e._setPos&&(e._setPos(h),a=!1),e.clusterHide&&(e.clusterHide(),a=!1),a&&c.removeLayer(e),d&&(i=e._spiderLeg,o=i._path,r=o.getTotalLength()+.1,o.style.strokeDashoffset=r,i.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout(function(){var t=0;for(n=f.length-1;n>=0;n--)e=f[n],e._spiderLeg&&t++;for(n=f.length-1;n>=0;n--)e=f[n],e._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),t>1&&c.removeLayer(e),l.removeLayer(e._spiderLeg),delete e._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:s,markers:f})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,n;for(e in t)for(n=t[e].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,n;for(e in t)n=t[e],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(t,e){var n=this.options.icon;return L.setOptions(n,t),this.setIcon(n),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}})}(window,document)},,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=(n.n(i),n(235)),r=(n.n(o),n(234)),a=n.n(r),s=n(201),u=n.n(s),l=n(226),c=n.n(l),h=n(225),f=n.n(h),d=n(227),p=n.n(d),m=n(224),g=n.n(m),v=n(170),_=n(135),y=n.n(_),b=v.a.database(),w=u.a.icon({iconUrl:c.a,iconAnchor:[88,88]}),T={lat:47.41322,lng:-1.219482};navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){T={lat:t.coords.latitude,lng:t.coords.longitude}}):console.log("error"),e.default={components:{"v-map":o.Map,"v-tilelayer":o.TileLayer,"v-marker":o.Marker,"v-marker-cluster":a.a,"view-code":y.a},mounted:function(){var t=this;v.a.auth().onAuthStateChanged(function(e){t.user=e,e?(console.log("USER PO",e),t.$bindAsObject("userStat",t.$firebaseRefs.users.child(e.uid)),t.$firebaseRefs.users.child(e.uid).on("value",function(t){var n=t.val(),i=["red","yellow","blue"],o=Math.floor(6*Math.random())+1,r=i[o];n||(n={photoURL:e.photoURL,displayName:e.displayName,email:e.email,uid:e.uid,codes:3,score:0,team:r},b.ref("users").child(e.uid).set(n))})):t.userAuth=e}),this.center=T,navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){t.center={lat:e.coords.latitude,lng:e.coords.longitude}}):console.log("error")},firebase:function(){return{codes:b.ref("codes"),users:b.ref("users")}},data:function(){return{targetIcon:w,user:null,targeted:!1,zoom:13,center:{lat:47.41322,lng:-1.219482},url:"http://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',marker:{lat:47.41322,lng:-1.219482},target:{lat:47.41322,lng:-1.219482},viewCode:{team:null,".key":null},userStat:null}},methods:{icon:function(t){var e={red:f.a,blue:g.a,yellow:p.a};return u.a.icon({iconUrl:e[t],iconAnchor:[16,16]})},showCode:function(t){function e(t){var e,n,i=t.length;if(i)for(;--i;)n=Math.floor(Math.random()*(i+1)),e=t[n],t[n]=t[i],t[i]=e;return t}for(var n=[0,1,2,3,4,5,6,7,8,9],o=[],r=0;r<10;r++)o[r]=e(n).slice(0,3);n=e(n).slice(0,3);var a=b.ref("users").child(this.userStat.uid);a.data=this.userStat,t.userRef=a,t.ref=b.ref("codes").child(t[".key"]),t.answer=n,t.clues=o,this.viewCode=t,this.userStat.team===t.team?(navigator.notification?navigator.notification.beep(1):navigator.vibrate&&navigator.vibrate([250]),i.Toast.create({html:"Your team already owned it",icon:"info",color:"#21ba45",bgColor:"#333",button:{color:"#21ba45"}})):this.$refs.basicModal.open()},moved:function(t){this.target=t.target.getCenter()},pushCode:function(){if(this.user)if(this.userStat.codes){navigator.notification?navigator.notification.beep(1):navigator.vibrate&&navigator.vibrate([250]);var t={coords:this.target,team:this.userStat.team};this.$firebaseRefs.codes.push(t),b.ref("users").child(this.userStat.uid).child("codes").set(this.userStat.codes-1)}else navigator.notification?navigator.notification.beep(1):navigator.vibrate&&navigator.vibrate([250]),i.Toast.create({html:"Lack of codes",icon:"warning",color:"#db2828",bgColor:"#333",button:{color:"#db2828"}});else navigator.notification?navigator.notification.beep(1):navigator.vibrate&&navigator.vibrate([250]),i.Toast.create({html:"Not Authorized",icon:"warning",color:"#db2828",bgColor:"#333",button:{color:"#db2828"}})}},computed:{basicModal:function(){return this.$refs.basicModal},userRef:function(){if(this.userStat&&this.userStat.hasOwnProperty("uid")){var t=b.ref("users").child(this.userStat.uid);return t.data=this.userStat,t}return null},codeRef:function(){return this.viewCode[".key"]?b.ref("codes").child(this.viewCode[".key"]):null}}}},function(t,e,n){e=t.exports=n(134)(void 0),e.push([t.i,".marker-cluster-small{background-color:hsla(91,60%,72%,.6)}.marker-cluster-small div{background-color:rgba(110,204,57,.6)}.marker-cluster-medium{background-color:rgba(241,211,87,.6)}.marker-cluster-medium div{background-color:rgba(240,194,12,.6)}.marker-cluster-large{background-color:hsla(18,97%,72%,.6)}.marker-cluster-large div{background-color:rgba(241,128,23,.6)}.leaflet-oldie .marker-cluster-small{background-color:#b5e28c}.leaflet-oldie .marker-cluster-small div{background-color:#6ecc39}.leaflet-oldie .marker-cluster-medium{background-color:#f1d357}.leaflet-oldie .marker-cluster-medium div{background-color:#f0c20c}.leaflet-oldie .marker-cluster-large{background-color:#fd9c73}.leaflet-oldie .marker-cluster-large div{background-color:#f18017}.marker-cluster{background-clip:padding-box;border-radius:20px}.marker-cluster div{width:30px;height:30px;margin-left:5px;margin-top:5px;text-align:center;border-radius:15px;font:12px Helvetica Neue,Arial,Helvetica,sans-serif}.marker-cluster span{line-height:30px}",""])},function(t,e,n){e=t.exports=n(134)(void 0),e.push([t.i,".leaflet-cluster-anim .leaflet-marker-icon,.leaflet-cluster-anim .leaflet-marker-shadow{-webkit-transition:-webkit-transform .3s ease-out,opacity .3s ease-in;-moz-transition:-moz-transform .3s ease-out,opacity .3s ease-in;-o-transition:-o-transform .3s ease-out,opacity .3s ease-in;transition:transform .3s ease-out,opacity .3s ease-in}.leaflet-cluster-spider-leg{-webkit-transition:-webkit-stroke-dashoffset .3s ease-out,-webkit-stroke-opacity .3s ease-in;-moz-transition:-moz-stroke-dashoffset .3s ease-out,-moz-stroke-opacity .3s ease-in;-o-transition:-o-stroke-dashoffset .3s ease-out,-o-stroke-opacity .3s ease-in;transition:stroke-dashoffset .3s ease-out,stroke-opacity .3s ease-in}",""])},function(t,e,n){e=t.exports=n(134)(void 0),e.push([t.i,".leaflet-image-layer,.leaflet-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane,.leaflet-pane>canvas,.leaflet-pane>svg,.leaflet-tile,.leaflet-tile-container,.leaflet-zoom-box{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-overlay-pane svg,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer{max-width:none!important}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{-ms-touch-action:none;touch-action:none}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;-moz-box-sizing:border-box;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-bottom,.leaflet-top{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-tile{will-change:opacity}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;-o-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}.leaflet-zoom-anim .leaflet-zoom-animated{will-change:transform;-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);-moz-transition:-moz-transform .25s cubic-bezier(0,0,.25,1);-o-transition:-o-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-pan-anim .leaflet-tile,.leaflet-zoom-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-control,.leaflet-popup-pane{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing}.leaflet-image-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-image-layer.leaflet-interactive,.leaflet-marker-icon.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline:0}.leaflet-container a{color:#0078a8}.leaflet-container a.leaflet-active{outline:2px solid orange}.leaflet-zoom-box{border:2px dotted #38f;background:hsla(0,0%,100%,.5)}.leaflet-container{font:12px/1.5 Helvetica Neue,Arial,Helvetica,sans-serif}.leaflet-bar{box-shadow:0 1px 5px rgba(0,0,0,.65);border-radius:4px}.leaflet-bar a,.leaflet-bar a:hover{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-control-zoom-out{font-size:20px}.leaflet-touch .leaflet-control-zoom-in{font-size:22px}.leaflet-touch .leaflet-control-zoom-out{font-size:24px}.leaflet-control-layers{box-shadow:0 1px 5px rgba(0,0,0,.4);background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url("+n(222)+");width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url("+n(221)+");background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers-expanded .leaflet-control-layers-toggle,.leaflet-control-layers .leaflet-control-layers-list{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url("+n(223)+')}.leaflet-container .leaflet-control-attribution{background:#fff;background:hsla(0,0%,100%,.7);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover{text-decoration:underline}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font-size:11px}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;font-size:11px;white-space:nowrap;overflow:hidden;-moz-box-sizing:border-box;box-sizing:border-box;background:#fff;background:hsla(0,0%,100%,.5)}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers{box-shadow:none}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-layers{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 19px;line-height:1.4}.leaflet-popup-content p{margin:18px 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;color:#333;box-shadow:0 3px 14px rgba(0,0,0,.4)}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;padding:4px 4px 0 0;border:none;text-align:center;width:18px;height:14px;font:16px/14px Tahoma,Verdana,sans-serif;color:#c3c3c3;text-decoration:none;font-weight:700;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover{color:#999}.leaflet-popup-scrolled{overflow:auto;border-bottom:1px solid #ddd;border-top:1px solid #ddd}.leaflet-oldie .leaflet-popup-content-wrapper{zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678,M12=0.70710678,M21=-0.70710678,M22=0.70710678)}.leaflet-oldie .leaflet-popup-tip-container{margin-top:-1px}.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px rgba(0,0,0,.4)}.leaflet-tooltip.leaflet-clickable{cursor:pointer;pointer-events:auto}.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before,.leaflet-tooltip-top:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}',""])},,function(t,e,n){e=t.exports=n(134)(void 0),e.i(n(213),""),e.i(n(212),""),e.i(n(211),""),e.push([t.i,".leaflet-right{visibility:hidden}",""])},,,function(t,e,n){var i=n(215);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(136)("330c9d38",i,!0)},,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozODM2NEE0Qzk5NDVFNzExQkYzM0FCREQ1NEQ5NDk2NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4MjhGM0E3QzQ1QzAxMUU3QkE2QUUxMjQ5NDlENEZGNyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4MjhGM0E3QjQ1QzAxMUU3QkE2QUUxMjQ5NDlENEZGNyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM4MzY0QTRDOTk0NUU3MTFCRjMzQUJERDU0RDk0OTY3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM4MzY0QTRDOTk0NUU3MTFCRjMzQUJERDU0RDk0OTY3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+hkkdIQAABRdJREFUeNqsV1tTW1UUXvtccoGQkEDSSYptmVCEzrSgVmecUWcctDM++KL/xFd/kuP4rFVHh5c+ONIprRSIgEJbIAQCJQmHnIvfOllhcjkBUtzTj8I5Z6/1reteW2nfbtIbrAQwDAwAOmADFaAMvO5HkNHHt6PALSAHxIGQ7NcAF6gDp8AhsAX8Axz8HwSuAe8AbwFhUcbwBK58F5L3CSF6H1gDHgP7b0KAXfseMCvCmxb2Wp2EWPYdYBz4A3gi7y9FIAJ8JpsvUtxrubLPBD4G0sDvIu9cAlHgC4m1FSxb+f/kh9f4xRP7vF5EpsWTD1tJGAEemRPlpz0Ve1DiOIpcW5EH+Qp5qBseKR1QvYiwMXn5/5deBN4Vt1uByj0oPTnS6PCVQdVimKzjEDl1jfSQS5EhiwbTFsWzDoVjTiOFukg0PbEDPO0kwDGa6YzR2apXdCqtmVT6ewTWTtFQLk+JsQxpBpOwqLa/TXsrq1RcWab05AElb9pkRNyARHWkQrhMXxsd1ocDXW/hu5ePI161dE/lZucoNT5GmtlhobpBjvUBFQtr3vbiQ1UrP6fsXYvMAadDGv8dk+qa19Un3/DDEeDDlhISmXB7varTi4UoSHykJh98TYlcklyXw0F+/M/gNHIhnk2qePYObS8eUb22S4OjDummF+AJ7hcFTR6Mi/VeW8xdCN1fR7xLd2li7ksKDZpknwbFVsTiuY30GUgNUP7Tr6i8eZsONw2fcKNiWitjELihyZvr4po2/WQd6bRXGKHs7AOKxCHIvlwHcJBGsXSUMtOfIyfi8KLWrv/MC2OauGKo3f2q4dYjZLtuTCPmOXL67EX8fXoyDzJ5Ot7Ve/SHYU1OtXb3M1vXVXRcDNFQ9jZi2HBvP4u/N6MacmCCKrum/7fqCkNUk86nd8cfTeb0dZiiw6M9Y37hgpxIIkMnqCLXUQEhMDVRrnVbAIKOraHcQnSVpRkmwqE1PNiVCJomw4TbTZ7bq+li88mVCLhoUkbY9eV1e9LhpzUhodq8w709HLeoul8MYH7JPIBd1YMdVFAdtnod+ll3XZOpxWoj4HsLG2IZi463l/3aVn2SYIvrFQcGrNJgxm7s9zoLvcYEjgRamwcaXc3Br8u0t7qBA6c/Alw5O0tLFIquwRAnKP5sfFPpliRje46GBx3Ucpl2nv5Ilb0TX+ilJk2QLW+VqVT4mdJvV1CObkAhMaPNJoF1yYUOL4BT8mad4tefU+HX76lSqiCheoeDvcbvD18c0Pr8dzQysUHxXJD7dfH6v83D6EQa0rWulqwhGQdSLh8s3suFLeXacYomU1Ck8A7vdQHHvGbj1HyG735QI/kVykyd+hXQvUIyI260HscLciiZXWXJR2p25kRFU0s487eQE3l0uLzfZHge4FKrlV/h0CqQEV1XY/crvuU6Kw+cQ/n+sNhwWvvFZEYGyOBxjMuKDxbu7ZWiienI8JsMWxlJ1DER2TiEHD/mFFj3Sgj8BKwGjWRPZDKa6iYhlRGOuT5St+p+e/XkOdc5Kz0Ld2D7Zu/+2VQeRIB3/SYxygsJr+2111JFOitV1DYRe70OBV/5M+BRZy12Lltc9Jds0nveQ9h6fxry6JwDyxAZC2Kce5mLiS2jM0+v78v0EnxmnH+z0uWu+KjV7f3cDXl05iy9JyGJtVy/3M6pVDza9CrfkpdFRuUql1O2YF5cyBfUMSAp17dQc3yRcb4mF9FN6a7Vi4T/J8AAY4Pwmj/78VQAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozODM2NEE0Qzk5NDVFNzExQkYzM0FCREQ1NEQ5NDk2NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2MEVDN0E3NjQ1OTkxMUU3QjNGQ0IyNjU5QUJGMTk0RCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MEVDN0E3NTQ1OTkxMUU3QjNGQ0IyNjU5QUJGMTk0RCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM4MzY0QTRDOTk0NUU3MTFCRjMzQUJERDU0RDk0OTY3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM4MzY0QTRDOTk0NUU3MTFCRjMzQUJERDU0RDk0OTY3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+2wcIkwAABOdJREFUeNqsV1tvG0UU9szszXZipyT0mjSkTlATaFOg8NQiQQsSD7zwiMQvRPwAKJWC8kAfKi5NaBJCnZQG2lKIk5jYHu+N74Sz1Xozm8aGkT5Z1s6c850z5zZiaX6+MMCqAiNACVBAAOwDO0CzH0FWH3vHgFeAs0AFcPi8BCLAB7rALrAFPAQa/weBU8AbwATgsjJCzIh4n8Pfq0z0KlAHfgC2ByFArn0LuMLCEwvzVpYQyZ4DpoC7wD3+fiwCHnCTD79Icd6K+JwNXAdeBr5heUcSKAIf8V1rk2TR+0tWiTjlhhwis+zJW2kSlsEjN1h5N0/xQRDEsQiAmKNQCRFLQj4RMqbGv7fzCLzJbtcm5SF+mmEon3S71l9B4O6HoYP8k/BxNKSUHrNtfdq2w5JSoTKTSDzxFFjOEqA7ms/eUbJaUaQeam1vaD2KQxdPOU7tnOOctIRw/DjWjSB48qDTWQfWap7XmHDdwBUiMgRqyBlCadq0Mta7JtfDamu51fK2g+DypXL5xqTjjENxdtv5bhy/U+906vfb7Vu7Ybg6WyzqkpRhZh/9H+LsWkyubBSYzFpPKtqwfLnd9v4Ow2s3q9VPp113nL7B6kMgYXPF4oX3KpXP/vD9q6vttqtjhMZhh1LlnCYiCYEptj7O3HlhU2ur4fuX3q1UPi4rZcNK090+9y8UFk5YVuna8PAnv3W7M4AVpQI4Fcdl8prkb+dYX8+C1QoERl8vlT4cVspC1B+rAJA3xiyr+KrnfYCYqMCLMofvuOTSOZyqYAeM6A9FO6J5dtJ1z/rHVP483LEfwVjDudoz31c59WFEcldzs1lDeY5Uc047zoyNgIv7LIO0vyilHLWs6T+DwI7N11CUXPlU9v6pyOAK3KpSY3Fh8FVR6iTkWCHkGTjakpVLkwVICUl5Pqhy0ojzNq5B5myRklMiOvSFCjcKCQ53BiUQ/xuQmuQI85aQ9LSZhEgfpNo+JCVVuGfiPxBAQXqKDPKpTxhs9CVPLTobI3SAajsKyhrldr8kSHArDMNt31+HnEAc7g0HdY727TFkmjn9ocaCnzWU101b9EfBxu3+3OmsIBPqqAmhMHNsJEq3OBh7FnU15PLOSrv9JfpA57gkcOeF37vdnbrWX0973j5IRDkx+ighsMGx0OMFYjThOP4Zx1ldbDa/AIl9B5aJI9yODlh47PuNb5vNzy+47ibOmtyv2Ou/Jt1whwfIuXQ3pEMu2FNXg5C7C3t7eyiv78MrMx6KjGAzkmEQLTv4sdVaQcu+DeUbsL4Lr0WxeRZdI6PT7fh7bkp2Ni2ppb5WKnVGlFp5oPUWYqL2km3XqMggWxwULb0bBI/hoV/g7o0r5fL+GQSefXgeSJSTwUvZgaTB0+t100zgQdiU52mUZh+1fRfldQkZYqHmSxo8KNXmy+UApTeEdw66T2y+d8IdcphpJLvHk9HFLIkkM8oQXnLd6Lzr+hHPhILTVqRyOad8k3e/A9bzZkI6t8DTa41JxAWDUMlKTQ+DnIgn5T+x9T1yTNPKV8B9PqSOeoXERytOjFQcYwvZ+Mp7mAQ8OtP0+jZPL8ae8YKXleK34p202/t5G9Lo/Ai4zFcylHp+RRnDRXIzySzLqbbML+eBH6dkwSK7kB6oNJSe4OebkxqgfC5m20x6K4n0o9Y/AgwAPs4hQKYFYSUAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALEAAACxCAYAAACLKVzFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAA/rSURBVHja7F1rc6O6EmzA+J1skt1z6/z/n3fPbt7x23A/eHSs+CIh3gK6qyhvJYQ1ohn1jGZGQZqmIGpBoB2h/Cy8OScBkGpHwmGrjgmHwBmhjJc6IjlC+QxKXjfRjjOAkxxnAEchO2GzHrTERsLGAKZyxBlWtS0oMh/kILFJ4kxEGmEVaX1FekPqw9hlyZhJHAOYyxH3+D5SIfIOwF6kCEk8YEwBLIS40UDv8SiE3o6F0GMgcQRgKeRtypFVkYYiL4aKVDT5Mh2EzNshS44hk3gGYCVWty4H63QTPVCfqTh+fxe43gbAq/aiqSjHRPusy6FMhchfYqkHhaGF2AKxuquK95ZokQD12aQlO2tRiKyZJNYczimKh/PUuCzlfj5FcpDEnpF3BWBd0nIpj38vD9cna6UIvrvR9jM5piX8gieZRT7EQpPEHpB3VUJbJkKMHfoXplKhtQ95aVWUZVbASk8APMqL/9lnMk96TN6lPIAi5E2FtBuxukNAIvez0Qi9EEK7INbI/NFHmdFHEs8A3KNYbPckTs2gvfQbQkeafxA6kvlJSPyOHoXn+kTiSMi7KPA3OyHvHuPDWSzrh4zZylE/K1nyJX+bksT1YCUEdtF7Kpz0iRGuXhmgYsVTkQ15YcdAzlvgEgbck8TVvt9DAQ98I9bjTN4aHcJnkQ73Dro5AvBTxvXdVynmM4mLWN+tkJeW1w1HAH/EONw7GImlEN5Lq+wjiSOxvi7e9UEsxIG8LG2Zf4tsuIc90qOs8qdvWtm3ZecZLuGePG86AfAGv2KbKux3O5tMNKlzvImY7D37/ms58ma/o8iSM0n8HWuxBi6611t9doNf2lT9jH7EYF39kETkRef3FHpiAR4dCHwWHfcK1qY1iZNIjLccyRDiEldej10TRzIQeQsXWxlUkrc9qPh6nlVWjuFLVzq5S0scy3RrI3AqlveFBO7UKn/mnDcXpy8cE4lnQuAoZwD/EQ1MdIt3kXI2QzJ1eKaDIfFcJESQIx/+AeO+PmEvz+SYI09/tS1T2ybx0oHA713qKyLXuf4Ne2gzcpCJvSXxUpwEm/59dtBfRLdIxch85PDqZ1tEDj0hcCJv+I4c6Q0+xOlOuyZyGySe5xBYTVFH8qJ32MjsmUfkSZ9JrJaRbRGI33Tgeu/w/XEgctRHEsc5TpxagWPaZP9xyCGySh4K+kTiKIfAygKTwOMh8gT5kalSaCIBKIA9xHIeGIFtLbFsWWw6dgMaj1kOWbcS3agNTQjuBwuBkwFKiDXcKk+WOb7BUMZkLyR9Mvx+IS9zbaHUsIEHairkTIXAdOKGjx2uLbqy4FIa1YklVqX0JrxgmGG0neXFnGuGYm+xtkP0DTbCL1Oq5iOA/6KGxK66NHEE4C+LZX/HOFfi+pgUXzeeYK6uVuVRXsiJB8u1tuBS8pjxYpmppgDufCDxyqJvTjnaiBg+VE6MSTbcoXhTxFpJPLHoYPXlmY1GnHCpzLHN5EFXJLb952+MRBA3svLLYgzvuiCxrbfXFqzIILIdfFOEyjXeXhuJI4uMOOdMHcS49fGrRWL+KCMrypLY1l7qFSzqJMywrdbFMsM3TuIZzKtyQ2peTTSHT4usuCvKy6IkDiwyIhHNQxAusuKtBMdqIfES5uQeNjchiuAAc7TCxrNKJFYN50xfaMvnQhTEB+yLILWT2LZDEWUEUQYJzFXTcziG3FxJHFi8xi3YH5gojw3Mi2JO1tg1FdNmhT9G/hBCuMU2Q8sYqn2ex+rkfSC7oFhtNnmoSmKbFra9RWPBk+O092D53R+MOzS5hXkF+E7Gp5KcWBrOS2mFiRphWgCZ5RlbFxLbtDCrlS9SwHTcvvSm85jpZ6+QWVeRE7a3gInuFzxbfqdXdryAbbpcrHGW7FrAssVFniVelXhrCKKKNk4MftmyjJyIYK6N+uJ4Ew1FKr4KGlQriU3M923rKmJY+DL4CBEMZXA2Ei9ohYmOHOVdEcNqIvHU4NCpzb8JokmYqoLmyFhYCgta4R2YqUY0D1OjmSDLTwstjC/yhhBEW9Z44ULiGNlr/AkdOqJFmGTr7FZShAWsMAP1RJs4IXstIsBNlIIkJvpqjY0kjpBdFpKCOcNE+9i5+Gy3JDalFB7BqATRPky8i6CFgF1JTIeO6Ar7PEnhSmLqYcI3Ev/L1cmNtMjSwwm4UaINDzCXl+vj+wPmmrFXjrERhyIkjgtehLiOoUuPhAjmGruQw2iE2pQnyhjPEEASZmmMDHFNEF07eFmIaYnrwbvFkt5rY/xpGUsainwSzw0k3ruQmANcTrMB32vDDnSQa7fEU12LhQZrcgbjw4QfutjoOIcZDp7LHxNE2yQ2VXsEJDHRZ2scAIhIYqL3kiLUzDIMmpggfICJi1EeiWmJCd8tcaRkRNihJZ7iutByRPkwVIhrb4IU1ToUrbQx2XrwMq9wLcux7QeXhwmuHXbOuHQlKotHzfi9tjBGpihZaCNxinZ6hMW45hRsKpA40K6TVCSx3m7/6AGJJ7jmClSJ2wfadc41GJ9Iu25XciKcyBcIDcwvsqbfFumJ4SAo8AKkeSTO1BoA/i7whd7AxipEcUkyr3iNMEQ7UwFBNGbNQzANkBgAiQmi1yQO0jSdAfhZw8VOKJcsFOK6YphUjATo5VVVUkhjTWaVvS8VVQhruI6eUH+uEFkIcI26pKgW6dDH6FjSqZ/UoQTqJDFBdALKCaL3mKC+2G7ZhYo5rn1n9ygfpgtxXY1KUW016oc2fX9WkCaulR15WOIaitqhfGPHCa6bfye4rLSVxYNmBN9LysA1HHcNbYvEZZeM9byNM8qv2OnXSVGtiuJOu16Vioy6KjtmNY1RXOMY6bzZl9TXyxp4l4TgKhsxAE1MEhN9RmqTE0nB6YZpm0RR7OEedgyQvYNBMsm5yCvHmWgQRZz4iYHEaahZ3SypQRA+SV+YLLEicWjw+JtOjD/iutF5lRUkfcP0qjp/g+8rbT5YLCXtqjyPE6471lcdoxd8X9VsGpELiU3sb5rEB9TTZSjRSNzmNNcGTjURJUV9bXrb7gxlrD7KszYRZzHCE0zySHwu+IcE0TYiWmJiqJb4lEdiWmLCZ0uculjimGNHeGKFA4PD+6/HlxqIHFJSEB7A2nZ4cvODieECbGdlxgzmil3dACxh7sa/A3eosmFahMQLwwXYHNo+wCuH82yl6dw3u4Il1gPIh4JvAUG0gaConEgzBLQqCGTKZjYOMK/wzTVJsbPIMu6LYrfCgYHA6S2JVfXr1PAmcKCzsbdIgVgjcZU+c9TDlhc/dLQIc44l0RHmRUmcu48uQXiih40kNjXBiMH8YqJ9zCx6+GwicWKRFAuOKeGJlPjmW4R5J1BSEB6SeF+WxHNKCqJlKWFq/n7II/EZ5jIhSgqiLSxcpAQslnVLEhMdIrBIiW1VEk/BHGOiHStsUgl7VxKfYY5SLDnGRMNYFjGuNkdtY/kPuM8H0RRimJeaN0VJvEX2wkcILkMT7VvhAwwVSDYSpxZrvOZYEw0gtJDY2Askz0nbIDvhO8YljsdEbnsJV3Az1rHFB0k4lFgZpKq1uWUeiY9C1JnBGpPEl4G/czjv3vK7D9TXvaivCGCukPmCJZ/dZQXOZMZnYNUHUa8xMO0xbm0r5hLz3Ymgzjr3DtcGdWNFAsvm2dr0mMDeC3rsVnhtCTAkVUmsprtHgzUeuzb+sliKX9ps9QpWdpSxwrkyyzWhZwtzPsU9nwFR0TG2WeFzXSQGLltYwRCpYE4FURZ3VaxwURLnWWOu4hFFEVsiEhs4Nu0pmh/8bvh5BLcwE0Ho+GH4ubMVLkPivcU5WYENCAl3LGEO0X6gQMSmTKXGO7JDRYHlzSKIW96ZAgJnFNxuogyJTxYnbwrmVRD5eLBw7w0Fu02VrZn7hLmn8R2YOE+YsYC9irlwLL0siVN5Y2CQFQ9gtILIDgCYJGdi4VQjJFZO3sYiKxitIG7xaOHcO0r2wa5agm/7j9dgrwriu8ycWmTEpoqXWAUJLjtL2t486mNibpmZS8uIukgMXMpGPi3Xf6Q+HjUm4iOZ8IqK22nU1dHnA+Yl6TjnJojhIgTwZOHZF2rI7AvStLYG8BGAvyxfeKjVCyuYY+Ou+cSf8G8/6TrwBHM47QjgN2rYgaBOvXqWqeHJIuzPVQS8x9Ymcjyv6RnRJzxYCJwAeEZNW2jUPXg7mJOE1I0xYjGOSIStyc4LatxWrk45cRuVMOUYp7iUNA1lDxCbJX7ANSnqHeYKmCFVO69hL5R4q1s6NRX+epUHmxUXDAD8lOlkCGVNiYWAuoU4WZzfIfkHNgI3ov2b0mKpkNSUXxGIdma19LAI/KOC1PSOxMpC/bFoH2WRqZGHISFsBN7DvijmLYmV1vtjmW6VRWZvt347cTYJcawzEtEFiZUWdCHyinzoHR5gT/Q6yrNvdDfatuKTxxwiQ6YjVob0A2olblnxmfeKxK43tZLBYa6Fv5jg0hRm7gOB2yaxurnfsAe657gsXzP7zT/MhcCTHCfuN1qMe3ex3HmSmzw5vO1syuKXA/eUw5ld006cLyRWUYt/YF/sUGmcPygvOkUkBiWvUuezCwJ3SWLguiCSlxC0EnnBnhbtYyFjn7co9YaGFjJcRTo6JvKraGVbK6yJDOYnLumcKfnVuHF7QH78XlX2dJo+4Ivz9CUa+TFndljLwL5iOAlEvmEpBiVvllaLGOeuv3BTWWxVLIBrTsVGpjBfsr8C/H8P56lGhsPNd93Dr0T4WPwPl7H/grkT1OhJrHvCaweHLsE1Myr14AX8u8D5G5lRfDAcd3BbMU3gYbNwX2OxHzJQedXSqqfXSizDlmqg0MyhSqtcHPydOHBn327E5wWFIy5hOGWVbYiE8GvtBSDqIW8iBsLbsjLfV8VSGcCd6LW8MFssmlo1PdwykvFt1loWIK/X1rcPmthkQZTn7Lr4keC6MUzSAkl81MSxjFuRPbnPQt5ezGh9yk9Q+5lthcjLAk7LWh7IdiRSI8BloWKJYtUzqkO7D47yIEl86yF/CUHnBR7qQqzMVizhaWDkneHaOjUsSN4NCnZoJ4nrcfyece3A6VrmFIllXguJVU/cPi6eBHLf8xLEVeTdCnnPfSXCENIdD7jkrqou9fOC968IneCyALGXa548JW0s9zqXf5dJjhoEeYdEYp3MzxoxFwUfcKhJDiVbDmLxj0LqUwfPR5E2rkDaLhxdRidqihYor7yulzUVIp+1T3WkAP5T4FrKEqrmK6F8z0j7DGp8wVXzvsE98CGTWMdUyFxGN/YVQ3ZgR0liXVPOtWNoyfYJrqHE0WwaPzYS3xJ6qhE66ul9HIW4e4w0PXXMJM5yoqZyzDwm9VHIqo7z2B8cSWx3DGPtmMjRlgRRTuTx5uADI4krS5BQI7SKKuhHcHPcElMdifaZ3EQ6TrSw7vjfABHoSggJKMDFAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozODM2NEE0Qzk5NDVFNzExQkYzM0FCREQ1NEQ5NDk2NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1QTczQjY1QzQ1QzAxMUU3OEFCNTlDMTZCODgwMTNDOCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1QTczQjY1QjQ1QzAxMUU3OEFCNTlDMTZCODgwMTNDOCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM4MzY0QTRDOTk0NUU3MTFCRjMzQUJERDU0RDk0OTY3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM4MzY0QTRDOTk0NUU3MTFCRjMzQUJERDU0RDk0OTY3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+mMHeTwAABVFJREFUeNqsV+tPG0cQ9+697MMG83SEHcBxQBi1oQ+aqurjQ9M0aqX2Qz5W6l9Y5WulJk2VKlKFVJSmiBYMBGKclmewMbbP53t1xozD+XwHNuqiH7bvdnd+MzszO8PKTz4MXWEMAOIAFSAATEAVUAKc9rKR2MPcEcAUYBzQD5BpPQfYAAPQAJwAXgHygOL/QSABeBdwHaCQMIRDsGmeTO8HiOgCYAvwHHB8FQJo2vcB79DmLQ2DhpcQ7j0HSAOWAMv0visCYcAXtPgywUHDpnUS4FPAKOBX2u9CAhHAV3TWut/OjNHn2T8H/phDNnCCiWTJko/cJEQfi9wh4Y0gwQ5IMS2HIfA7h+eCwBwR4J7jGahMhj4fBxF4j8yu+wm3rBA7qZr8n4OGeHBsKKc1SzYsh8sis/v7RD0xLOnJUdmKqoIlcF8SLUvsA1a8BPCM5r1nxMhzKpotbBY0aaNQHwZNZ0FQZuKaMiaKTDZMW39dMvdWt7WN1e1aLjulFtNJxQzL3GbtnodfLYoQDNNT0aO94jU9rjipWOKztUr4sGTeWpiL3skklZQksjYNwUITesO5nctrW8/Xq4+Oy8ba/ExUj0a45bEC/o5SdD3l9HAYMNmhPdCv1W0BhZer1ifffjb43exkJNW0peGEDPMc+JvDbvMzfTe+/njw+93XxsLyRkWpNxze8gvXwMx5E4m0CKRJe8ct3ASum4W6eFgy3r73UfybaESQGobtd7ZvHE9v2KGRuKjevR2/n99rTO/s1UXbPndgV2T0ASY4HXOSTNM2ylVTWC9owwvZ6JcDfYIIXt9VAkBrjA1Jkbcy6l3wi/5q3eIBiSvFKXXGXBmsyciG1+jtksCymVR4vGE6PWUhtFR2KpKBdZm914bwJm+0WyHO6VZrM3+oGXIOg1CTx0flaa/DdTNwfkThfGxQugn7SHgMoc5jiHDKfELb+YfOEg3EuTLYL470KtztR/GYMAZHKVq24/VF3FXiJLz9jNiZBuDdHGJeDl1xoEBYD47r8AAlMHCaIWF7uWF6lSVmA4n6VQmgTFivK5iQmO+UpndqRIK5F2Jej/UJmOEOAxZ35QfHZXN/ICoYAmdeI6Bsg1PVore5CFoACFwbkvV/j/QcZLhQryTQghXNso5KxkZiSDZ5592AO2pIoEzgbgvgBskxGa6fUG5tR3spS7wnAhLMX3mhraphYSsxJFl+HFH51q6vyBnbBt5q2Um19Geu+tNh0ahjOHYzFBBe2NNL63nt57l0pKqGuR3go4UWgW3yBe4+P7xS08mwcT2hrD1cLD04KplVcKjA40Azww0YKhzoxV+WTn6YmQy/TCUUk7EO8wtk9Z3WbViiAnLOfRviorDMbLhgdNhk6cffimVIr5/DhTQNWjUvGUYlEc6t1Czz9xfV1fUd7fHMRHh7Lq02sFbwCUGUm0OlmasvGATcpxquw2T1hs3zu7q0ltdiENcZyHAZTDKYJzDUimVzF67rTSCGgquphGyi8IBCGHuHB4Aa8zQm81RA+pZjmE7xYtmH3L4P6RUzHCYZjHMMNfR2qIosVTmLex/NGRF4CNjwK8mWqTKa7ShMnLMzjqmCHVNF+wb4BqZXfI7CMM45Pw+jgMyH1n3WEu5HAJc9oeo1QyQcN4nWNBQGXuC4S64L7gxGwv8CLHpj0a9aQRP9TYuEoCyHsJ3z7xc0P7jHH6Sc3U1jYlLpjNXrB1S9mH7OeUlnJVCvuOg2ey+9IZbOBcAtOpKoq/2yPa0WI4u2rHpKobZCnfOVm1PU4CmZEBvUFIVsmHyFubpjjRrRAmXX2mWb/yfAAEzlWUaMsunWAAAAAElFTkSuQmCC"},,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"z-index":"0"}},[n("v-map",{staticClass:"flex",staticStyle:{"z-index":"0"},attrs:{zoom:t.zoom,center:t.center},on:{"l-move":t.moved}},[n("v-tilelayer",{attrs:{url:t.url,attribution:t.attribution}}),t._v(" "),t.targeted?n("v-marker",{staticStyle:{"z-index":"1"},attrs:{icon:t.targetIcon,"lat-lng":t.target}}):t._e(),t._v(" "),n("v-marker-cluster",{staticStyle:{"z-index":"1000"}},t._l(t.codes,function(e){return n("v-marker",{key:e[".key"],staticStyle:{"z-index":"1000"},attrs:{icon:t.icon(e.team),"lat-lng":e.coords},on:{"l-click":function(n){t.showCode(e)}}})}))],1),t._v(" "),n("label",{staticClass:"absolute-bottom-left text-grey-5",staticStyle:{left:"18px",bottom:"18px"}},[t.userStat?n("span",{staticClass:"label bg-tertiary text-white"},[n("i",{staticClass:"left-detail"},[t._v("code")]),t._v(" "+t._s(t.userStat.codes)+"\n    ")]):t._e()]),t._v(" "),n("label",{staticClass:"absolute-bottom-left text-grey-5",staticStyle:{left:"18px",bottom:"50px"}},[t.userStat?n("span",{staticClass:"label bg-tertiary text-white"},[n("i",{staticClass:"left-detail"},[t._v("extension")]),t._v(" "+t._s(t.userStat.score)+"\n    ")]):t._e()]),t._v(" "),n("label",{staticClass:"absolute-bottom-right text-grey-5",staticStyle:{right:"30px",bottom:"18px"}},[t._v("\n    Target\n    "),n("q-toggle",{attrs:{icon:"my_location"},model:{value:t.targeted,callback:function(e){t.targeted=e},expression:"targeted"}})],1),t._v(" "),n("q-fab",{staticClass:"absolute-bottom-right",staticStyle:{right:"18px",bottom:"42px"},attrs:{classNames:"bg-dark text-negative","active-icon":"control_point",direction:"up"},on:{click:function(e){t.targeted=!0}}},[n("q-small-fab",{staticClass:"bg-dark text-negative",attrs:{icon:"location_searching"},nativeOn:{click:function(e){t.targeted=!1,t.pushCode()}}},[n("q-tooltip",[t._v("Drop code")])],1)],1),t._v(" "),n("q-modal",{ref:"basicModal",attrs:{"content-css":{minWidth:"80vw",minHeight:"80vh"}}},[n("view-code",{attrs:{modal:t.$refs.basicModal,code:t.viewCode,"user-ref":t.userRef,"code-ref":t.codeRef}})],1)],1)},staticRenderFns:[]}},,,,,function(t,e,n){!function(e,i){t.exports=i(n(201),n(204))}(0,function(t,e){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=6)}([function(t,e,n){var i=n(2)(n(1),n(3),null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o=function(t){return t&&t.__esModule?t:{default:t}}(i);n(5);var r={visible:{type:Boolean,custom:!0,default:!0}};e.default={props:r,mounted:function(){this.mapObject=o.default.markerClusterGroup(),this.$parent._isMounted&&this.deferredMountedTo(this.$parent.mapObject)},beforeDestroy:function(){this.setVisible(!1)},methods:{deferredMountedTo:function(t){this.parent=t;for(var e=this.mapObject,n=0;n<this.$children.length;n++)this.$children[n].deferredMountedTo(e);this.visible&&this.mapObject.addTo(t)},setVisible:function(t,e){t!==e&&this.mapObject&&(t?this.mapObject.addTo(this.parent):this.parent.removeLayer(this.mapObject))}}}},function(t,e){t.exports=function(t,e,n,i){var o,r=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(o=t,r=t.default);var s="function"==typeof r?r.options:r;if(e&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns),n&&(s._scopeId=n),i){var u=s.computed||(s.computed={});Object.keys(i).forEach(function(t){var e=i[t];u[t]=function(){return e}})}return{esModule:o,exports:r,options:s}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports=n(201)},function(t,e){t.exports=n(204)},function(t,e,n){t.exports=n(0)}])})},function(t,e,n){!function(e,i){t.exports=i(n(201),n(1))}(0,function(t,e){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=34)}([function(t,e){t.exports=function(t,e,n,i){var o,r=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(o=t,r=t.default);var s="function"==typeof r?r.options:r;if(e&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns),n&&(s._scopeId=n),i){var u=Object.create(s.computed||null);Object.keys(i).forEach(function(t){var e=i[t];u[t]=function(){return e}}),s.computed=u}return{esModule:o,exports:r,options:s}}},function(t,e,n){"use strict";function i(t){return t.charAt(0).toUpperCase()+t.slice(1)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,o){for(var r=Object.keys(n),a=0;a<r.length;a++)!function(){var o=r[a],s="set"+i(o),u=n[o].type===Object||n[o].type===Array||Array.isArray(n[o].type);n[o].custom?t.$watch(o,function(e,n){t[s](e,n)},{deep:u}):t.$watch(o,function(t,n){e[s](t)},{deep:u})}()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){for(var i=0;i<n.length;i++)!function(){var o="l-"+n[i],r=n[i];e.on(r,function(e){t.$emit(o,e)})}()}},function(e,n){e.exports=t},function(t,e,n){var i=n(0)(n(19),n(42),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(20),n(41),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(21),n(48),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(22),n(53),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(23),n(50),null,null);t.exports=i.exports},function(t,e,n){n(56);var i=n(0)(n(24),n(44),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(25),n(47),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(26),n(52),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(27),n(55),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(28),n(54),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(29),n(51),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(30),n(45),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(31),n(46),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(32),n(49),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(33),n(43),null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["geojson","options"],mounted:function(){this.$geoJSON=L.geoJSON(this.geojson,this.options),this.$parent._isMounted&&this.deferredMountedTo(this.$parent.$geoJSON)},beforeDestroy:function(){this.setVisible(!1)},watch:{geojson:{handler:function(t){this.$geoJSON.clearLayers(),this.addGeoJSONData(t)},deep:!0}},methods:{deferredMountedTo:function(t){this.parent=t,this.$geoJSON.addTo(t);for(var e=0;e<this.$children.length;e++)this.$children[e].deferredMountedTo(t)},addGeoJSONData:function(t){this.$geoJSON.addData(t)},getGeoJSONData:function(){return this.$geoJSON.toGeoJSON()},getBounds:function(){return this.$geoJSON.getBounds()},setVisible:function(t,e){t!==e&&(t?this.$geoJSON.addTo(this.parent):this.parent.removeLayer(this.$geoJSON))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(i),r={imagePath:{type:String,custom:!0,default:""}};e.default={props:r,mounted:function(){L.Icon.Default.imagePath=this.imagePath,(0,o.default)(this,this.mapObject,r),this.$parent._isMounted&&this.deferredMountedTo(this.$parent.mapObject)},methods:{deferredMountedTo:function(t){},setImagePath:function(t,e){L.Icon.Default.imagePath=t}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=i(o),a=n(1),s=i(a),u=["click","dblclick","mousedown","mouseover","mouseout","contextmenu","add","remove","popupopen","popupclose","tooltipopen","tooltipclose"],l={url:{type:String},bounds:{},opacity:{type:Number,default:1},alt:{type:String,default:""},interactive:{type:Boolean,default:!1},crossOrigin:{type:Boolean,default:!1}};e.default={props:l,mounted:function(){var t={opacity:this.opacity,alt:this.alt,interactive:this.interactive,crossOrigin:this.crossOrigin};this.mapObject=L.imageOverlay(this.url,this.bounds,t),(0,r.default)(this,this.mapObject,u),(0,s.default)(this,this.mapObject,l),this.$parent._isMounted&&this.deferredMountedTo(this.$parent.mapObject)},methods:{deferredMountedTo:function(t){this.mapObject.addTo(t)},getBounds:function(){return this.mapObject.getBounds()}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=i(o),a=n(1),s=i(a),u=["click","dblclick","mousedown","mouseover","mouseout","contextmenu","add","remove","popupopen","popupclose","tooltipopen","tooltipclose"],l={latLng:{type:[Object,Array]},radius:{type:Number},lStyle:{type:Object,custom:!0},visible:{type:Boolean,custom:!0,default:!0},stroke:{type:Boolean,custom:!0,default:!0},color:{type:String,custom:!0,default:"#3388ff"},weight:{type:Number,custom:!0,default:3},opacity:{type:Number,custom:!0,default:1},lineCap:{type:String,custom:!0,default:"round"},lineJoin:{type:String,custom:!0,default:"round"},dashArray:{type:String,custom:!0,default:null},dashOffset:{type:String,custom:!0,default:null},fill:{type:Boolean,custom:!0,default:!0},fillColor:{type:String,custom:!0,default:"#3388ff"},fillOpacity:{type:Number,custom:!0,default:.2},fillRule:{type:String,custom:!0,default:"evenodd"},className:{type:String,custom:!0,default:null}};e.default={props:l,mounted:function(){var t={};if(this.color&&(t.color=this.color),this.radius&&(t.radius=this.radius),this.lStyle)for(var e in this.lStyle)t[e]=this.lStyle[e];this.mapObject=L.circle(this.latLng,t),(0,r.default)(this,this.mapObject,u),(0,s.default)(this,this.mapObject,l),this.$parent._isMounted&&this.deferredMountedTo(this.$parent.mapObject)},beforeDestroy:function(){this.setVisible(!1)},methods:{deferredMountedTo:function(t){this.parent=t;for(var e=0;e<this.$children.length;e++)this.$children[e].deferredMountedTo(this.mapObject);this.visible&&this.mapObject.addTo(t)},setVisible:function(t,e){t!=e&&(t?this.mapObject.addTo(this.parent):this.parent.removeLayer(this.mapObject))},setLStyle:function(t,e){t!=e&&this.mapObject.setStyle(t)},setStroke:function(t,e){t!=e&&this.mapObject.setStyle({stroke:t})},setColor:function(t,e){t!=e&&t&&this.mapObject.setStyle({color:t})},setWeight:function(t,e){t!=e&&t&&this.mapObject.setStyle({weight:t})},setOpacity:function(t,e){t!=e&&t&&this.mapObject.setStyle({opacity:t})},setLineCap:function(t,e){t!=e&&t&&this.mapObject.setStyle({lineCap:t})},setLineJoin:function(t,e){t!=e&&t&&this.mapObject.setStyle({lineJoin:t})},setDashArray:function(t,e){t!=e&&t&&this.mapObject.setStyle({dashArray:t})},setDashOffset:function(t,e){t!=e&&t&&this.mapObject.setStyle({dashOffset:t})},setFill:function(t,e){t!=e&&this.mapObject.setStyle({fill:t})},setFillColor:function(t,e){t!=e&&t&&this.mapObject.setStyle({fillColor:t})},setFillOpacity:function(t,e){t!=e&&t&&this.mapObject.setStyle({fillOpacity:t})},setFillRule:function(t,e){t!=e&&t&&this.mapObject.setStyle({fillRule:t})},setClassName:function(t,e){t!=e&&t&&this.mapObject.setStyle({className:t})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(i),r={visible:{type:Boolean,custom:!0,default:!0}};e.default={props:r,mounted:function(){this.mapObject=L.layerGroup(),(0,o.default)(this,this.mapObject,r),this.$parent._isMounted&&this.deferredMountedTo(this.$parent.mapObject)},beforeDestroy:function(){this.setVisible(!1)},methods:{deferredMountedTo:function(t){for(var e=this.mapObject,n=0;n<this.$children.length;n++)this.$children[n].deferredMountedTo(e);this.parent=t,this.visible&&this.mapObject.addTo(t)},setVisible:function(t,e){t!=e&&(t?this.mapObject.addTo(this.parent):this.parent.removeLayer(this.mapObject))}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(60),r=(i(o),n(3)),a=i(r),s=n(2),u=i(s),l=n(1),c=i(l),h=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","contextmenu","focus","blur","preclick","load","unload","viewreset","movestart","move","moveend","dragstart","drag","dragend","zoom","zoomstart","zoomend","zoomanim","zoomlevelschange","resize","autopanstart","layeradd","layerremove","baselayerchange","overlayadd","overlayremove","locationfound","locationerror","popupopen","popupclose"],f={center:{type:[Object,Array],custom:!0,default:void 0},bounds:{custom:!0,default:void 0},zoom:{type:Number,default:void 0},minZoom:{type:Number,default:void 0},maxZoom:{type:Number,default:void 0},paddingBottomRight:{custom:!0,default:null},paddingTopLeft:{custom:!0,default:null},padding:{custom:!0,default:null},worldCopyJump:{type:Boolean,default:!1},crs:{custom:!0,default:function(){return a.default.CRS.EPSG3857}},options:{type:Object,default:function(){return{}}}};e.default={props:f,mounted:function(){var t=this.options;Object.assign(t,{minZoom:this.minZoom,maxZoom:this.maxZoom,worldCopyJump:this.worldCopyJump,crs:this.crs}),null!=this.center&&(t.center=this.center),null!=this.zoom&&(t.zoom=this.zoom),this.mapObject=a.default.map(this.$el,t),(0,u.default)(this,this.mapObject,h),(0,c.default)(this,this.mapObject,f);for(var e=0;e<this.$children.length;e++)this.$children[e].deferredMountedTo(this.mapObject);this.setBounds(this.bounds),this.mapObject.whenReady(function(){this.$emit("l-ready")},this)},methods:{setCenter:function(t,e){if(null!=t){var n=!1,i=0,o=0;null==e?n=!0:Array.isArray(e)?(i=e[0],o=e[1]):(i=e.lat,o=e.lng);var r=0,a=0;Array.isArray(t)?(r=t[0],a=t[1]):(r=t.lat,a=t.lng),(n||r!=i||a!=o)&&this.mapObject.setView(t,this.zoom)}},setBounds:function(t,e){if(t&&t.isValid()){var n={};this.padding?n.padding=this.padding:(this.paddingBottomRight&&(n.paddingBottomRight=this.paddingBottomRight),this.paddingTopLeft&&(n.paddingTopLeft=this.paddingTopLeft)),this.mapObject.fitBounds(t,n)}},setPaddingBottomRight:function(t,e){this.paddingBottomRight=t},setPaddingTopLeft:function(t,e){this.paddingTopLeft=t},setPadding:function(t,e){this.padding=t},setCrs:function(t,e){console.log("Changing CRS is not yet supported by Leaflet")},fitBounds:function(t){this.mapObject.fitBounds(t)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=i(o),a=n(1),s=i(a),u=["click","dblclick","mousedown","mouseover","mouseout","contextmenu","dragstart","drag","dragend","move","add","remove","popupopen","popupclose","tooltipopen","tooltipclose"],l={draggable:{type:Boolean,custom:!0,default:!1},visible:{type:Boolean,custom:!0,default:!0},latLng:{type:[Object,Array]},icon:{custom:!1,default:function(){return new L.Icon.Default}},options:{type:Object,default:function(){return{}}}};e.default={props:l,mounted:function(){var t=this.options;this.icon&&(t.icon=this.icon),t.draggable=this.draggable,this.mapObject=L.marker(this.latLng,t),(0,r.default)(this,this.mapObject,u),(0,s.default)(this,this.mapObject,l),this.$parent._isMounted&&this.deferredMountedTo(this.$parent.mapObject)},beforeDestroy:function(){this.setVisible(!1)},methods:{deferredMountedTo:function(t){this.parent=t;for(var e=0;e<this.$children.length;e++)this.$children[e].deferredMountedTo(this.mapObject);this.visible&&this.mapObject.addTo(t)},setDraggable:function(t,e){this.mapObject.dragging&&(t?this.mapObject.dragging.enable():this.mapObject.dragging.disable())},setVisible:function(t,e){t!=e&&this.mapObject&&(t?this.mapObject.addTo(this.parent):this.parent.removeLayer(this.mapObject))}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=i(o),a=n(1),s=i(a),u=["click","dblclick","mousedown","mouseover","mouseout","contextmenu","add","remove","popupopen","popupclose","tooltipopen","tooltipclose"],l={latLngs:{type:Array,default:function(){return[]}},lStyle:{type:Object,custom:!0},visible:{type:Boolean,custom:!0,default:!0},smoothFactor:{type:Number,custom:!0,default:1},noClip:{type:Boolean,custom:!0,default:!1},stroke:{type:Boolean,custom:!0,default:!0},color:{type:String,custom:!0,default:"#3388ff"},weight:{type:Number,custom:!0,default:3},opacity:{type:Number,custom:!0,default:1},lineCap:{type:String,custom:!0,default:"round"},lineJoin:{type:String,custom:!0,default:"round"},dashArray:{type:String,custom:!0,default:null},dashOffset:{type:String,custom:!0,default:null},fill:{type:Boolean,custom:!0,default:!0},fillColor:{type:String,custom:!0,default:"#3388ff"},fillOpacity:{type:Number,custom:!0,default:.2},fillRule:{type:String,custom:!0,default:"evenodd"},className:{type:String,custom:!0,default:null}};e.default={props:l,mounted:function(){var t={};if(this.color&&(t.color=this.color),this.lStyle)for(var e in this.lStyle)t[e]=this.lStyle[e];this.mapObject=L.polygon(this.latLngs,t),(0,r.default)(this,this.mapObject,u),(0,s.default)(this,this.mapObject,l),this.$parent._isMounted&&this.deferredMountedTo(this.$parent.mapObject)},beforeDestroy:function(){this.setVisible(!1)},methods:{deferredMountedTo:function(t){this.parent=t;for(var e=0;e<this.$children.length;e++)this.$children[e].deferredMountedTo(this.mapObject);this.visible&&this.mapObject.addTo(t)},setVisible:function(t,e){t!=e&&(t?this.mapObject.addTo(this.parent):this.parent.removeLayer(this.mapObject))},setLStyle:function(t,e){t!=e&&this.mapObject.setStyle(t)},setSmoothFactor:function(t,e){t!=e&&t&&this.mapObject.setStyle({smoothFactor:t})},setNoClip:function(t,e){t!=e&&t&&this.mapObject.setStyle({noClip:t})},setStroke:function(t,e){t!=e&&this.mapObject.setStyle({stroke:t})},setColor:function(t,e){t!=e&&t&&this.mapObject.setStyle({color:t})},setWeight:function(t,e){t!=e&&t&&this.mapObject.setStyle({weight:t})},setOpacity:function(t,e){t!=e&&t&&this.mapObject.setStyle({opacity:t})},setLineCap:function(t,e){t!=e&&t&&this.mapObject.setStyle({lineCap:t})},setLineJoin:function(t,e){t!=e&&t&&this.mapObject.setStyle({lineJoin:t})},setDashArray:function(t,e){t!=e&&t&&this.mapObject.setStyle({dashArray:t})},setDashOffset:function(t,e){t!=e&&t&&this.mapObject.setStyle({dashOffset:t})},setFill:function(t,e){t!=e&&this.mapObject.setStyle({fill:t})},setFillColor:function(t,e){t!=e&&t&&this.mapObject.setStyle({fillColor:t})},setFillOpacity:function(t,e){t!=e&&t&&this.mapObject.setStyle({fillOpacity:t})},setFillRule:function(t,e){t!=e&&t&&this.mapObject.setStyle({fillRule:t})},setClassName:function(t,e){t!=e&&t&&this.mapObject.setStyle({className:t})},addLatLng:function(t){this.mapObject.addLatLng(t)},getGeoJSONData:function(){return this.mapObject.toGeoJSON()}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=i(o),a=n(1),s=i(a),u=["click","dblclick","mousedown","mouseover","mouseout","contextmenu","add","remove","popupopen","popupclose","tooltipopen","tooltipclose"],l={latLngs:{type:Array,default:function(){return[]}},lStyle:{type:Object,custom:!0},visible:{type:Boolean,custom:!0,default:!0},smoothFactor:{type:Number,custom:!0,default:1},noClip:{type:Boolean,custom:!0,default:!1},stroke:{type:Boolean,custom:!0,default:!0},color:{type:String,custom:!0,default:"#3388ff"},weight:{type:Number,custom:!0,default:3},opacity:{type:Number,custom:!0,default:1},lineCap:{type:String,custom:!0,default:"round"},lineJoin:{type:String,custom:!0,default:"round"},dashArray:{type:String,custom:!0,default:null},dashOffset:{type:String,custom:!0,default:null},fill:{type:Boolean,custom:!0,default:!0},fillColor:{type:String,custom:!0,default:"#3388ff"},fillOpacity:{type:Number,custom:!0,default:.2},fillRule:{type:String,custom:!0,default:"evenodd"},className:{type:String,custom:!0,default:null}};e.default={props:l,mounted:function(){var t={};if(this.color&&(t.color=this.color),this.lStyle)for(var e in this.lStyle)t[e]=this.lStyle[e];this.mapObject=L.polyline(this.latLngs,t),(0,r.default)(this,this.mapObject,u),(0,s.default)(this,this.mapObject,l),this.$parent._isMounted&&this.deferredMountedTo(this.$parent.mapObject)},beforeDestroy:function(){this.setVisible(!1)},methods:{deferredMountedTo:function(t){this.parent=t;for(var e=0;e<this.$children.length;e++)this.$children[e].deferredMountedTo(this.mapObject);this.visible&&this.mapObject.addTo(t)},setVisible:function(t,e){t!=e&&(t?this.mapObject.addTo(this.parent):this.parent.removeLayer(this.mapObject))},setLStyle:function(t,e){t!=e&&this.mapObject.setStyle(t)},setSmoothFactor:function(t,e){t!=e&&t&&this.mapObject.setStyle({smoothFactor:t})},setNoClip:function(t,e){t!=e&&t&&this.mapObject.setStyle({noClip:t})},setStroke:function(t,e){t!=e&&this.mapObject.setStyle({stroke:t})},setColor:function(t,e){t!=e&&t&&this.mapObject.setStyle({color:t})},setWeight:function(t,e){t!=e&&t&&this.mapObject.setStyle({weight:t})},setOpacity:function(t,e){t!=e&&t&&this.mapObject.setStyle({opacity:t})},setLineCap:function(t,e){t!=e&&t&&this.mapObject.setStyle({lineCap:t})},setLineJoin:function(t,e){t!=e&&t&&this.mapObject.setStyle({lineJoin:t})},setDashArray:function(t,e){t!=e&&t&&this.mapObject.setStyle({dashArray:t})},setDashOffset:function(t,e){t!=e&&t&&this.mapObject.setStyle({dashOffset:t})},setFill:function(t,e){t!=e&&this.mapObject.setStyle({fill:t})},setFillColor:function(t,e){t!=e&&t&&this.mapObject.setStyle({fillColor:t})},setFillOpacity:function(t,e){t!=e&&t&&this.mapObject.setStyle({fillOpacity:t})},setFillRule:function(t,e){t!=e&&t&&this.mapObject.setStyle({fillRule:t})},setClassName:function(t,e){t!=e&&t&&this.mapObject.setStyle({className:t})},addLatLng:function(t){this.mapObject.addLatLng(t)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=i(o),a=n(1),s=i(a),u=["add","remove","popupopen","popupclose","tooltipopen","tooltipclose"],l={content:{custom:!0,default:""}};e.default={props:l,mounted:function(){this.mapObject=L.popup(),(0,r.default)(this,this.mapObject,u),(0,s.default)(this,this.mapObject,l),this.$parent._isMounted&&this.deferredMountedTo(this.$parent.mapObject)},beforeDestroy:function(){this.parent.getPopup()&&this.parent.unbindPopup()},methods:{deferredMountedTo:function(t){this.parent=t,t.bindPopup(this.content)},setContent:function(t,e){t?this.parent.bindPopup(this.content):this.parent.getPopup()&&this.parent.unbindPopup()}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=i(o),a=n(1),s=i(a),u=["click","dblclick","mousedown","mouseover","mouseout","contextmenu","add","remove","popupopen","popupclose","tooltipopen","tooltipclose"],l={bounds:{type:Array,default:function(){return[]}},lStyle:{type:Object,custom:!0},visible:{type:Boolean,custom:!0,default:!0},stroke:{type:Boolean,custom:!0,default:!0},color:{type:String,custom:!0,default:"#3388ff"},weight:{type:Number,custom:!0,default:3},opacity:{type:Number,custom:!0,default:1},lineCap:{type:String,custom:!0,default:"round"},lineJoin:{type:String,custom:!0,default:"round"},dashArray:{type:String,custom:!0,default:null},dashOffset:{type:String,custom:!0,default:null},fill:{type:Boolean,custom:!0,default:!0},fillColor:{type:String,custom:!0,default:"#3388ff"},fillOpacity:{type:Number,custom:!0,default:.2},fillRule:{type:String,custom:!0,default:"evenodd"},className:{type:String,custom:!0,default:null}};e.default={props:l,mounted:function(){var t={};if(this.color&&(t.color=this.color),this.lStyle)for(var e in this.lStyle)t[e]=this.lStyle[e];this.mapObject=L.rectangle(this.bounds,t),(0,r.default)(this,this.mapObject,u),(0,s.default)(this,this.mapObject,l),this.$parent._isMounted&&this.deferredMountedTo(this.$parent.mapObject)},beforeDestroy:function(){this.setVisible(!1)},methods:{deferredMountedTo:function(t){this.parent=t;for(var e=0;e<this.$children.length;e++)this.$children[e].deferredMountedTo(this.mapObject);this.visible&&this.mapObject.addTo(t)},setVisible:function(t,e){t!=e&&(t?this.mapObject.addTo(this.parent):this.parent.removeLayer(this.mapObject))},setLStyle:function(t,e){t!=e&&this.mapObject.setStyle(t)},setStroke:function(t,e){t!=e&&this.mapObject.setStyle({stroke:t})},setColor:function(t,e){t!=e&&t&&this.mapObject.setStyle({color:t})},setWeight:function(t,e){t!=e&&t&&this.mapObject.setStyle({weight:t})},setOpacity:function(t,e){t!=e&&t&&this.mapObject.setStyle({opacity:t})},setLineCap:function(t,e){t!=e&&t&&this.mapObject.setStyle({lineCap:t})},setLineJoin:function(t,e){t!=e&&t&&this.mapObject.setStyle({lineJoin:t})},setDashArray:function(t,e){t!=e&&t&&this.mapObject.setStyle({dashArray:t})},setDashOffset:function(t,e){t!=e&&t&&this.mapObject.setStyle({dashOffset:t})},setFill:function(t,e){t!=e&&this.mapObject.setStyle({fill:t})},setFillColor:function(t,e){t!=e&&t&&this.mapObject.setStyle({fillColor:t})},setFillOpacity:function(t,e){t!=e&&t&&this.mapObject.setStyle({fillOpacity:t})},setFillRule:function(t,e){t!=e&&t&&this.mapObject.setStyle({fillRule:t})},setClassName:function(t,e){t!=e&&t&&this.mapObject.setStyle({className:t})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(i),r={url:String,attribution:{type:String,custom:!0},token:{type:String,custom:!0},params:{type:Object,default:function(){return{}}}};e.default={props:r,mounted:function(){this.attribution&&(this.params.attribution=this.attribution),this.token&&(this.params.token=this.token),this.mapObject=L.tileLayer(this.url,this.params),(0,o.default)(this,this.mapObject,r)},methods:{deferredMountedTo:function(t){this.mapObject.addTo(t),this.attributionControl=t.attributionControl;for(var e=this.mapObject,n=0;n<this.$children.length;n++)this.$children[n].deferredMountedTo(e)},setAttribution:function(t,e){this.attributionControl.removeAttribution(e),this.attributionControl.addAttribution(t)},setToken:function(t){this.params.token=t}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=i(o),a=n(1),s=i(a),u=["add","remove","popupopen","popupclose","tooltipopen","tooltipclose"],l={content:{type:String,custom:!0,default:""}};e.default={props:l,mounted:function(){this.mapObject=L.tooltip(),this.mapObject.setTooltipContent(this.content),(0,r.default)(this,this.mapObject,u),(0,s.default)(this,this.mapObject,l),this.$parent._isMounted&&this.deferredMountedTo(this.$parent.mapObject)},beforeDestroy:function(){this.parent.getTooltip()&&this.parent.unbindTooltip()},methods:{deferredMountedTo:function(t){this.parent=t,this.content&&this.parent.bindTooltip(this.content)},setContent:function(t,e){t?this.parent.bindTooltip(this.content):this.parent.getTooltip()&&this.parent.unbindTooltip()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default={props:["baseurl","format","transparent","ids","crs"],mounted:function(){this.$tileLayer=o.default.tileLayer.wms(this.baseurl,{format:this.format,transparent:this.transparent,layers:this.ids,crs:this.crs})},methods:{deferredMountedTo:function(t){this.$tileLayer.addTo(t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default={props:["baseurl","format","transparent","layers","crs"],mounted:function(){this.$basemaps={};var t=!0,e=!1,n=void 0;try{for(var i,r=this.layers[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var a=i.value;this.$basemaps[a.name]=o.default.tileLayer.wms(this.baseurl,{format:this.format,transparent:this.transparent,layers:a.id,crs:this.crs})}}catch(t){e=!0,n=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw n}}},methods:{deferredMountedTo:function(t){o.default.control.layers(this.$basemaps).addTo(t)}}}},function(t,e,n){"use strict";e.GeoJSON=n(4),e.IconDefault=n(5),e.LayerGroup=n(8),e.LCircle=n(7),e.Map=n(9),e.Marker=n(10),e.Polygon=n(11),e.Polyline=n(12),e.Popup=n(13),e.Rectangle=n(14),e.TileLayer=n(15),e.Tooltip=n(16),e.WMSTileLayer=n(17),e.WMSTileLayers=n(18),e.ImageOverlay=n(6)},function(t,e,n){"use strict";function i(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function o(t){return 3*t.length/4-i(t)}function r(t){var e,n,o,r,a,s,u=t.length;a=i(t),s=new h(3*u/4-a),o=a>0?u-4:u;var l=0;for(e=0,n=0;e<o;e+=4,n+=3)r=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],s[l++]=r>>16&255,s[l++]=r>>8&255,s[l++]=255&r;return 2===a?(r=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,s[l++]=255&r):1===a&&(r=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,s[l++]=r>>8&255,s[l++]=255&r),s}function a(t){return l[t>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}function s(t,e,n){for(var i,o=[],r=e;r<n;r+=3)i=(t[r]<<16)+(t[r+1]<<8)+t[r+2],o.push(a(i));return o.join("")}function u(t){for(var e,n=t.length,i=n%3,o="",r=[],a=0,u=n-i;a<u;a+=16383)r.push(s(t,a,a+16383>u?u:a+16383));return 1===i?(e=t[n-1],o+=l[e>>2],o+=l[e<<4&63],o+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],o+=l[e>>10],o+=l[e>>4&63],o+=l[e<<2&63],o+="="),r.push(o),r.join("")}e.byteLength=o,e.toByteArray=r,e.fromByteArray=u;for(var l=[],c=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=f.length;d<p;++d)l[d]=f[d],c[f.charCodeAt(d)]=d;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e,n){"use strict";(function(t){function i(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=r.prototype):(null===t&&(t=new r(e)),t.length=e),t}function r(t,e,n){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return a(this,t,e,n)}function a(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(t,e,n,i):"string"==typeof e?c(t,e,n):d(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,n,i){return s(e),e<=0?o(t,e):void 0!==n?"string"==typeof i?o(t,e).fill(n,i):o(t,e).fill(n):o(t,e)}function l(t,e){if(s(e),t=o(t,e<0?0:0|p(e)),!r.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function c(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!r.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|g(e,n);t=o(t,i);var a=t.write(e,n);return a!==i&&(t=t.slice(0,a)),t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=o(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function f(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),r.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=r.prototype):t=h(t,e),t}function d(t,e){if(r.isBuffer(e)){var n=0|p(e.length);return t=o(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||K(e.length)?o(t,0):h(t,e);if("Buffer"===e.type&&Q(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),r.alloc(+t)}function g(t,e){if(r.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(i)return G(t).length;e=(""+e).toLowerCase(),i=!0}}function v(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return P(this,e,n);case"ascii":return x(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function _(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function y(t,e,n,i,o){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=r.from(e,i)),r.isBuffer(e))return 0===e.length?-1:b(t,e,n,i,o);if("number"==typeof e)return e&=255,r.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,i,o){function r(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var l;if(o){var c=-1;for(l=n;l<s;l++)if(r(t,l)===r(e,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*a}else-1!==c&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var h=!0,f=0;f<u;f++)if(r(t,l+f)!==r(e,f)){h=!1;break}if(h)return l}return-1}function w(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function T(t,e,n,i){return Y(G(e,t.length-n),t,n,i)}function E(t,e,n,i){return Y(V(e),t,n,i)}function S(t,e,n,i){return E(t,e,n,i)}function k(t,e,n,i){return Y(q(e),t,n,i)}function L(t,e,n,i){return Y(H(e,t.length-n),t,n,i)}function A(t,e,n){return 0===e&&n===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var r=t[o],a=null,s=r>239?4:r>223?3:r>191?2:1;if(o+s<=n){var u,l,c,h;switch(s){case 1:r<128&&(a=r);break;case 2:128==(192&(u=t[o+1]))&&(h=(31&r)<<6|63&u)>127&&(a=h);break;case 3:u=t[o+1],l=t[o+2],128==(192&u)&&128==(192&l)&&(h=(15&r)<<12|(63&u)<<6|63&l)>2047&&(h<55296||h>57343)&&(a=h);break;case 4:u=t[o+1],l=t[o+2],c=t[o+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&(h=(15&r)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&h<1114112&&(a=h)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),o+=s}return C(i)}function C(t){var e=t.length;if(e<=$)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=$));return n}function x(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function O(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function I(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var o="",r=e;r<n;++r)o+=Z(t[r]);return o}function D(t,e,n){for(var i=t.slice(e,n),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}function M(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,i,o,a){if(!r.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<a)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function N(t,e,n,i){e<0&&(e=65535+e+1);for(var o=0,r=Math.min(t.length-n,2);o<r;++o)t[n+o]=(e&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function U(t,e,n,i){e<0&&(e=4294967295+e+1);for(var o=0,r=Math.min(t.length-n,4);o<r;++o)t[n+o]=e>>>8*(i?o:3-o)&255}function B(t,e,n,i,o,r){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,i,o){return o||B(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(t,e,n,i,23,4),n+4}function F(t,e,n,i,o){return o||B(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(t,e,n,i,52,8),n+8}function z(t){if(t=W(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function W(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function G(t,e){e=e||1/0;for(var n,i=t.length,o=null,r=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function V(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function H(t,e){for(var n,i,o,r=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),i=n>>8,o=n%256,r.push(o),r.push(i);return r}function q(t){return J.toByteArray(z(t))}function Y(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function K(t){return t!==t}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var J=n(35),X=n(39),Q=n(40);e.Buffer=r,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=i(),r.poolSize=8192,r._augment=function(t){return t.__proto__=r.prototype,t},r.from=function(t,e,n){return a(null,t,e,n)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(t,e,n){return u(null,t,e,n)},r.allocUnsafe=function(t){return l(null,t)},r.allocUnsafeSlow=function(t){return l(null,t)},r.isBuffer=function(t){return!(null==t||!t._isBuffer)},r.compare=function(t,e){if(!r.isBuffer(t)||!r.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,a=Math.min(n,i);o<a;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(t,e){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return r.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=r.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!r.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},r.byteLength=g,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},r.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},r.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},r.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):v.apply(this,arguments)},r.prototype.equals=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===r.compare(this,t)},r.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},r.prototype.compare=function(t,e,n,i,o){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var a=o-i,s=n-e,u=Math.min(a,s),l=this.slice(i,o),c=t.slice(e,n),h=0;h<u;++h)if(l[h]!==c[h]){a=l[h],s=c[h];break}return a<s?-1:s<a?1:0},r.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},r.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},r.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},r.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return T(this,t,e,n);case"ascii":return E(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,e,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;r.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var i;if(r.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=r.prototype;else{var o=e-t;i=new r(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+t]}return i},r.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i},r.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i},r.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},r.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},r.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},r.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},r.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},r.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},r.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var i=e,o=1,r=this[t+--i];i>0&&(o*=256);)r+=this[t+--i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},r.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},r.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},r.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},r.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),X.read(this,t,!0,23,4)},r.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),X.read(this,t,!1,23,4)},r.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),X.read(this,t,!0,52,8)},r.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),X.read(this,t,!1,52,8)},r.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||R(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,r=0;for(this[e]=255&t;++r<n&&(o*=256);)this[e+r]=t/o&255;return e+n},r.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||R(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,r=1;for(this[e+o]=255&t;--o>=0&&(r*=256);)this[e+o]=t/r&255;return e+n},r.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,255,0),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},r.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},r.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},r.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},r.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},r.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);R(this,t,e,n,o-1,-o)}var r=0,a=1,s=0;for(this[e]=255&t;++r<n&&(a*=256);)t<0&&0===s&&0!==this[e+r-1]&&(s=1),this[e+r]=(t/a>>0)-s&255;return e+n},r.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);R(this,t,e,n,o-1,-o)}var r=n-1,a=1,s=0;for(this[e+r]=255&t;--r>=0&&(a*=256);)t<0&&0===s&&0!==this[e+r+1]&&(s=1),this[e+r]=(t/a>>0)-s&255;return e+n},r.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,127,-128),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},r.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},r.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},r.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},r.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},r.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},r.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},r.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},r.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},r.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o,a=i-n;if(this===t&&n<e&&e<i)for(o=a-1;o>=0;--o)t[o+e]=this[o+n];else if(a<1e3||!r.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},r.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!r.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var a;if("number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=r.isBuffer(t)?t:G(new r(t,i).toString()),u=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%u]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(59))},function(t,e,n){e=t.exports=n(38)(void 0),e.push([t.i,".vue2leaflet-map{height:100%;width:100%}",""])},function(t,e,n){(function(e){function n(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e){var r=i(o);return[n].concat(o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"})).concat([r]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+new e(JSON.stringify(t)).toString("base64")+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}}).call(e,n(36).Buffer)},function(t,e){e.read=function(t,e,n,i,o){var r,a,s=8*o-i-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?o-1:0,f=n?-1:1,d=t[e+h];for(h+=f,r=d&(1<<-c)-1,d>>=-c,c+=s;c>0;r=256*r+t[e+h],h+=f,c-=8);for(a=r&(1<<-c)-1,r>>=-c,c+=i;c>0;a=256*a+t[e+h],h+=f,c-=8);if(0===r)r=1-l;else{if(r===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,i),r-=l}return(d?-1:1)*a*Math.pow(2,r-i)},e.write=function(t,e,n,i,o,r){var a,s,u,l=8*r-o-1,c=(1<<l)-1,h=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:r-1,p=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+h>=1?f/u:f*Math.pow(2,1-h),e*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*u-1)*Math.pow(2,o),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;t[n+d]=255&s,d+=p,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;t[n+d]=255&a,d+=p,a/=256,l-=8);t[n+d-p]|=128*m}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vue2leaflet-map"},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default")],2)},staticRenderFns:[]}},function(t,e,n){var i=n(37);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals),n(57)("0718f050",i,!0)},function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],i=c[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(r(n.parts[o]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(r(n.parts[o]));c[n.id]={id:n.id,refs:1,parts:a}}}}function o(){var t=document.createElement("style");return t.type="text/css",h.appendChild(t),t}function r(t){var e,n,i=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(i){if(p)return m;i.parentNode.removeChild(i)}if(g){var r=d++;i=f||(f=o()),e=a.bind(null,i,r,!1),n=a.bind(null,i,r,!0)}else i=o(),e=s.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}function a(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=v(e,o);else{var r=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function s(t,e){var n=e.css,i=e.media,o=e.sourceMap;if(i&&t.setAttribute("media",i),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var u="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!u)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l=n(58),c={},h=u&&(document.head||document.getElementsByTagName("head")[0]),f=null,d=0,p=!1,m=function(){},g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n){p=n;var o=l(t,e);return i(o),function(e){for(var n=[],r=0;r<o.length;r++){var a=o[r],s=c[a.id];s.refs--,n.push(s)}e?(o=l(t,e),i(o)):o=[];for(var r=0;r<n.length;r++){var s=n[r];if(0===s.refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete c[s.id]}}}};var v=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var n=[],i={},o=0;o<e.length;o++){var r=e[o],a=r[0],s=r[1],u=r[2],l=r[3],c={id:t+":"+o,css:s,media:u,sourceMap:l};i[a]?i[a].parts.push(c):n.push(i[a]={id:a,parts:[c]})}return n}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,n){t.exports=e}])})}]));